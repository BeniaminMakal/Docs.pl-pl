---
uid: web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs
title: Wzorzec/szczegół za pomocą wybieranych GridView wzorca z DetailView szczegóły (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: Ten samouczek ma GridView, w której wiersze zawierają nazwę i ceny każdego produktu oraz przycisk Wybierz. Kliknięcie przycisku Wybierz dla particu...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: 0f982827-f8f9-420d-b36b-57b23f5aa519
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs
msc.type: authoredcontent
ms.openlocfilehash: 9d39786cb17449b93e6f728a0a3c920e1be089be
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-using-a-selectable-master-gridview-with-a-details-detailview-c"></a><span data-ttu-id="333fd-104">Wzorzec/szczegół za pomocą wybieranych GridView wzorca z DetailView szczegóły (C#)</span><span class="sxs-lookup"><span data-stu-id="333fd-104">Master/Detail Using a Selectable Master GridView with a Details DetailView (C#)</span></span>
====================
<span data-ttu-id="333fd-105">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="333fd-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="333fd-106">[Pobierz przykładową aplikację](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_10_CS.exe) lub [pobierania plików PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/datatutorial10cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="333fd-106">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_10_CS.exe) or [Download PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/datatutorial10cs1.pdf)</span></span>

> <span data-ttu-id="333fd-107">Ten samouczek ma GridView, w której wiersze zawierają nazwę i ceny każdego produktu oraz przycisk Wybierz.</span><span class="sxs-lookup"><span data-stu-id="333fd-107">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="333fd-108">Kliknięcie przycisku Wybierz dla określonego produktu spowoduje jego pełne szczegóły, które mają być wyświetlane w widoku DetailsView formantu w tej samej stronie.</span><span class="sxs-lookup"><span data-stu-id="333fd-108">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>


## <a name="introduction"></a><span data-ttu-id="333fd-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="333fd-109">Introduction</span></span>

<span data-ttu-id="333fd-110">W [poprzedniego samouczek](master-detail-filtering-across-two-pages-cs.md) widzieliśmy Tworzenie raportu wzorzec/szczegół za pomocą dwóch stron sieci web: "główny" strony sieci web, z którego możemy wyświetlonej listy dostawców; oraz stronę sieci web "szczegóły", który tych produktów dostarczonych przez wybrane na liście dostawcy.</span><span class="sxs-lookup"><span data-stu-id="333fd-110">In the [previous tutorial](master-detail-filtering-across-two-pages-cs.md) we saw how to create a master/detail report using two web pages: a "master" web page, from which we displayed the list of suppliers; and a "details" web page that listed those products provided by the selected supplier.</span></span> <span data-ttu-id="333fd-111">Ten format raportu dwie strony można zmniejszenia na jednej stronie.</span><span class="sxs-lookup"><span data-stu-id="333fd-111">This two page report format can be condensed into one page.</span></span> <span data-ttu-id="333fd-112">Ten samouczek ma GridView, w której wiersze zawierają nazwę i ceny każdego produktu oraz przycisk Wybierz.</span><span class="sxs-lookup"><span data-stu-id="333fd-112">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="333fd-113">Kliknięcie przycisku Wybierz dla określonego produktu spowoduje jego pełne szczegóły, które mają być wyświetlane w widoku DetailsView formantu w tej samej stronie.</span><span class="sxs-lookup"><span data-stu-id="333fd-113">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>


<span data-ttu-id="333fd-114">[![Kliknięcie przycisku Wybierz Wyświetla szczegółowe informacje o produkcie](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-114">[![Clicking the Select Button Displays the Product's Details](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image1.png)</span></span>

<span data-ttu-id="333fd-115">**Rysunek 1**: kliknięcie przycisku Wybierz Wyświetla szczegóły tego produktu ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-115">**Figure 1**: Clicking the Select Button Displays the Product's Details ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image3.png))</span></span>


## <a name="step-1-creating-a-selectable-gridview"></a><span data-ttu-id="333fd-116">Krok 1: Tworzenie wybieranych widoku GridView</span><span class="sxs-lookup"><span data-stu-id="333fd-116">Step 1: Creating a Selectable GridView</span></span>

<span data-ttu-id="333fd-117">Odwołania, który dwustronicowy główny/szczegółowy raport, że każdy rekord główny się hiperłącze, po kliknięciu wysyłane użytkownika do strony szczegółów przekazywanie klikniętej wiersza `SupplierID` wartość w zmiennej querystring.</span><span class="sxs-lookup"><span data-stu-id="333fd-117">Recall that in the two-page master/detail report that each master record included a hyperlink that, when clicked, sent the user to the details page passing the clicked row's `SupplierID` value in the querystring.</span></span> <span data-ttu-id="333fd-118">Takie hiperłącze został dodany do każdego wiersza w widoku GridView przy użyciu pole hiperłącza HyperLinkField.</span><span class="sxs-lookup"><span data-stu-id="333fd-118">Such a hyperlink was added to each GridView row using a HyperLinkField.</span></span> <span data-ttu-id="333fd-119">Dla jednej strony raportu głównych/szczegółów, Wkrótce skontaktujemy przycisk dla każdego widoku GridView wiersz, który, po kliknięciu przedstawia szczegóły.</span><span class="sxs-lookup"><span data-stu-id="333fd-119">For the single page master/details report, we will need a Button for each GridView row that, when clicked, shows the details.</span></span> <span data-ttu-id="333fd-120">Kontrolki widoku siatki można skonfigurować do uwzględnienia przycisk Wybierz widoczny dla każdego wiersza, który powoduje odświeżenie strony i oznacza tego wiersza jako w widoku GridView [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span><span class="sxs-lookup"><span data-stu-id="333fd-120">The GridView control can be configured to include a Select button for each row that causes a postback and marks that row as the GridView's [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span></span>

<span data-ttu-id="333fd-121">Rozpocznij od dodania formantu widoku GridView `DetailsBySelecting.aspx` strony `Filtering` folderu ustawienie jej `ID` właściwości `ProductsGrid`.</span><span class="sxs-lookup"><span data-stu-id="333fd-121">Start by adding a GridView control to the `DetailsBySelecting.aspx` page in the `Filtering` folder, setting its `ID` property to `ProductsGrid`.</span></span> <span data-ttu-id="333fd-122">Następnie dodaj nowy element ObjectDataSource o nazwie `AllProductsDataSource` który wywołuje `ProductsBLL` klasy `GetProducts()` metody.</span><span class="sxs-lookup"><span data-stu-id="333fd-122">Next, add a new ObjectDataSource named `AllProductsDataSource` that invokes the `ProductsBLL` class's `GetProducts()` method.</span></span>


<span data-ttu-id="333fd-123">[![Utwórz element ObjectDataSource o nazwie AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-123">[![Create an ObjectDataSource Named AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image4.png)</span></span>

<span data-ttu-id="333fd-124">**Rysunek 2**: Tworzenie elementu ObjectDataSource o nazwie `AllProductsDataSource` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-124">**Figure 2**: Create an ObjectDataSource Named `AllProductsDataSource` ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image6.png))</span></span>


<span data-ttu-id="333fd-125">[![Klasa ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-125">[![Use the ProductsBLL Class](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image7.png)</span></span>

<span data-ttu-id="333fd-126">**Rysunek 3**: Użyj `ProductsBLL` klasy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-126">**Figure 3**: Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image9.png))</span></span>


<span data-ttu-id="333fd-127">[![Skonfiguruj ObjectDataSource można wywołać metody GetProducts()](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-127">[![Configure the ObjectDataSource to Invoke the GetProducts() Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image10.png)</span></span>

<span data-ttu-id="333fd-128">**Rysunek 4**: Konfigurowanie ObjectDataSource do elementu Invoke `GetProducts()` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-128">**Figure 4**: Configure the ObjectDataSource to Invoke the `GetProducts()` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image12.png))</span></span>


<span data-ttu-id="333fd-129">Edytuj pola w widoku GridView, usuwając wszystkie elementy oprócz `ProductName` i `UnitPrice` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="333fd-129">Edit the GridView's fields removing all but the `ProductName` and `UnitPrice` BoundFields.</span></span> <span data-ttu-id="333fd-130">Ponadto możesz dostosować te BoundFields zgodnie z potrzebami, takie jak formatowanie `UnitPrice` elementu BoundField jako walutę i zmianę `HeaderText` właściwości BoundFields.</span><span class="sxs-lookup"><span data-stu-id="333fd-130">Also, feel free to customize these BoundFields as needed, such as formatting the `UnitPrice` BoundField as a currency and changing the `HeaderText` properties of the BoundFields.</span></span> <span data-ttu-id="333fd-131">Te kroki można wykonać graficznie, klikając łącza Edytuj kolumny w widoku GridView tagów inteligentnych lub skonfigurować ręcznie składni deklaratywnej.</span><span class="sxs-lookup"><span data-stu-id="333fd-131">These steps can be accomplished graphically, by clicking the Edit Columns link from the GridView's smart tag, or by manually configuring the declarative syntax.</span></span>


<span data-ttu-id="333fd-132">[![Usuń wszystkie oprócz ProductName i UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-132">[![Remove All But the ProductName and UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image13.png)</span></span>

<span data-ttu-id="333fd-133">**Rysunek 5**: Usuń wszystkie elementy oprócz `ProductName` i `UnitPrice` BoundFields ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-133">**Figure 5**: Remove All But the `ProductName` and `UnitPrice` BoundFields ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image15.png))</span></span>


<span data-ttu-id="333fd-134">Końcowe kod znaczników dla widoku GridView jest:</span><span class="sxs-lookup"><span data-stu-id="333fd-134">The final markup for the GridView is:</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample1.aspx)]

<span data-ttu-id="333fd-135">Następnie należy oznaczyć widoku GridView jako możliwy, która spowoduje dodanie przycisku Wybierz do każdego wiersza.</span><span class="sxs-lookup"><span data-stu-id="333fd-135">Next, we need to mark the GridView as selectable, which will add a Select button to each row.</span></span> <span data-ttu-id="333fd-136">W tym celu po prostu zaznacz pole wyboru Włącz zaznaczanie w tagu w widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="333fd-136">To accomplish this, simply check the Enable Selection checkbox in the GridView's smart tag.</span></span>


<span data-ttu-id="333fd-137">[![Przyszłego zaznaczania wierszy w widoku GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-137">[![Make the GridView's Rows Selectable](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image16.png)</span></span>

<span data-ttu-id="333fd-138">**Rysunek 6**: przyszłego zaznaczania wierszy w widoku GridView ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-138">**Figure 6**: Make the GridView's Rows Selectable ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image18.png))</span></span>


<span data-ttu-id="333fd-139">Opcje wyboru włączenie sprawdzania dodaje CommandField do `ProductsGrid` GridView z jego `ShowSelectButton` właściwość, ustaw wartość True.</span><span class="sxs-lookup"><span data-stu-id="333fd-139">Checking the Enabling Selection option adds a CommandField to the `ProductsGrid` GridView with its `ShowSelectButton` property set to True.</span></span> <span data-ttu-id="333fd-140">Powoduje to przycisk Wybierz widoczny dla każdego wiersza w widoku GridView, jak pokazano na rysunku 6.</span><span class="sxs-lookup"><span data-stu-id="333fd-140">This results in a Select button for each row of the GridView, as Figure 6 illustrates.</span></span> <span data-ttu-id="333fd-141">Domyślnie, wybierz przyciski są renderowane jako LinkButtons, ale można użyć przycisków lub ImageButtons za pośrednictwem CommandField `ButtonType` właściwości.</span><span class="sxs-lookup"><span data-stu-id="333fd-141">By default, the Select buttons are rendered as LinkButtons, but you can use Buttons or ImageButtons instead through the CommandField's `ButtonType` property.</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample2.aspx)]

<span data-ttu-id="333fd-142">Po kliknięciu przycisku Wybierz wierszu elementu GridView odświeżania strony ensues i w widoku GridView `SelectedRow` właściwość jest aktualizowana.</span><span class="sxs-lookup"><span data-stu-id="333fd-142">When a GridView row's Select button is clicked a postback ensues and the GridView's `SelectedRow` property is updated.</span></span> <span data-ttu-id="333fd-143">Oprócz `SelectedRow` właściwość, zapewnia widoku GridView [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), i [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) właściwości.</span><span class="sxs-lookup"><span data-stu-id="333fd-143">In addition to the `SelectedRow` property, the GridView provides the [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), and [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) properties.</span></span> <span data-ttu-id="333fd-144">`SelectedIndex` Właściwość zwraca indeks wybranego wiersza, podczas gdy `SelectedValue` i `SelectedDataKey` właściwości zwracają wartości oparte na w widoku GridView [właściwości DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="333fd-144">The `SelectedIndex` property returns the index of the selected row, whereas the `SelectedValue` and `SelectedDataKey` properties return values based upon the GridView's [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span></span>

<span data-ttu-id="333fd-145">`DataKeyNames` Właściwość jest używana do skojarzenia z jedną lub więcej wartości w każdym wierszu i jest najczęściej używany do jednoznacznego identyfikowania informacji z danych z każdego wiersza w widoku GridView atrybutu.</span><span class="sxs-lookup"><span data-stu-id="333fd-145">The `DataKeyNames` property is used to associate one or more data field values with each row and is commonly used to attribute uniquely identifying information from the underlying data with each GridView row.</span></span> <span data-ttu-id="333fd-146">`SelectedValue` Właściwość zwraca wartość pierwszego `DataKeyNames` pola danych dla wybranego wiersza w przypadku gdy `SelectedDataKey` właściwość zwraca wybranego wiersza `DataKey` obiekt, który zawiera wszystkie wartości dla określonego klucza pól danych tego wiersza.</span><span class="sxs-lookup"><span data-stu-id="333fd-146">The `SelectedValue` property returns the value of the first `DataKeyNames` data field for the selected row where as the `SelectedDataKey` property returns the selected row's `DataKey` object, which contains all of the values for the specified data key fields for that row.</span></span>

<span data-ttu-id="333fd-147">`DataKeyNames` Właściwość jest automatycznie ustawiana pól danych unikatowo identyfikujący podczas można powiązać źródła danych widoku GridView, widoku DetailsView lub FormView za pomocą projektanta.</span><span class="sxs-lookup"><span data-stu-id="333fd-147">The `DataKeyNames` property is automatically set to the uniquely-identifying data field(s) when you bind a data source to a GridView, DetailsView, or FormView through the Designer.</span></span> <span data-ttu-id="333fd-148">Gdy ta właściwość została ustawiona dla instytucji automatycznie w poprzednim samouczki, przykłady będą działały bez `DataKeyNames` określona właściwość.</span><span class="sxs-lookup"><span data-stu-id="333fd-148">While this property has been set for us automatically in the preceding tutorials, the examples would have worked without the `DataKeyNames` property specified.</span></span> <span data-ttu-id="333fd-149">Niemniej jednak w przypadku wyboru widoku GridView w tym samouczku, a także przyszłe samouczki, w których firma Microsoft będzie można badanie Wstawianie, aktualizowanie i usuwanie `DataKeyNames` właściwości musi być poprawnie ustawiony.</span><span class="sxs-lookup"><span data-stu-id="333fd-149">However, for the selectable GridView in this tutorial, as well as for future tutorials in which we'll be examining inserting, updating, and deleting, the `DataKeyNames` property must be set properly.</span></span> <span data-ttu-id="333fd-150">Poświęć chwilę, aby upewnić się, że w widoku GridView `DataKeyNames` właściwość jest ustawiona na `ProductID`.</span><span class="sxs-lookup"><span data-stu-id="333fd-150">Take a moment to ensure that your GridView's `DataKeyNames` property is set to `ProductID`.</span></span>

<span data-ttu-id="333fd-151">Teraz wyświetlić naszych postępu dotychczasowych za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="333fd-151">Let's view our progress thus far through a browser.</span></span> <span data-ttu-id="333fd-152">Należy pamiętać, że widoku GridView Wyświetla nazwę i cen dla wszystkich produktów oraz element LinkButton wybierz.</span><span class="sxs-lookup"><span data-stu-id="333fd-152">Note that the GridView lists the name and price for all of the products along with a Select LinkButton.</span></span> <span data-ttu-id="333fd-153">Kliknięcie przycisku Wybierz powoduje odświeżenie strony.</span><span class="sxs-lookup"><span data-stu-id="333fd-153">Clicking the Select button causes a postback.</span></span> <span data-ttu-id="333fd-154">W kroku 2 Firma Microsoft będzie widoczny sposobu ustawiania odpowiedź widoku DetailsView na tym ogłaszania zwrotnego przez wyświetlanie szczegółów wybranego produktu.</span><span class="sxs-lookup"><span data-stu-id="333fd-154">In Step 2 we'll see how to have a DetailsView respond to this postback by displaying the details for the selected product.</span></span>


<span data-ttu-id="333fd-155">[![Każdy wiersz produktu zawiera wybierz LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-155">[![Each Product Row Contains a Select LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image19.png)</span></span>

<span data-ttu-id="333fd-156">**Rysunek 7**: każdy wiersz produktu zawiera element LinkButton wybierz ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-156">**Figure 7**: Each Product Row Contains a Select LinkButton ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image21.png))</span></span>


### <a name="highlighting-the-selected-row"></a><span data-ttu-id="333fd-157">Wyróżnianie wybranego wiersza</span><span class="sxs-lookup"><span data-stu-id="333fd-157">Highlighting the Selected Row</span></span>

<span data-ttu-id="333fd-158">`ProductsGrid` Ma GridView `SelectedRowStyle` właściwość, która może służyć do dyktowania stylu wizualnego dla wybranego wiersza.</span><span class="sxs-lookup"><span data-stu-id="333fd-158">The `ProductsGrid` GridView has a `SelectedRowStyle` property that can be used to dictate the visual style for the selected row.</span></span> <span data-ttu-id="333fd-159">Prawidłowo używana, to poprawić pokazując więcej wyraźnie wiersz, który GridView obecnie jest wybierany przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="333fd-159">Used properly, this can improve the user's experience by more clearly showing which row of the GridView is currently selected.</span></span> <span data-ttu-id="333fd-160">W tym samouczku ma teraz wybranego wiersza wyróżnione żółtym tle.</span><span class="sxs-lookup"><span data-stu-id="333fd-160">For this tutorial, let's have the selected row be highlighted with a yellow background.</span></span>

<span data-ttu-id="333fd-161">Zgodnie z naszymi samouczkami, wcześniej, umożliwia Dokładamy wszelkich starań zachować estetycznych powiązane ustawienia zdefiniowane jako klas CSS.</span><span class="sxs-lookup"><span data-stu-id="333fd-161">As with our earlier tutorials, let's strive to keep the aesthetic-related settings defined as CSS classes.</span></span> <span data-ttu-id="333fd-162">W związku z tym, Utwórz nową klasę CSS w `Styles.css` o nazwie `SelectedRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="333fd-162">Therefore, create a new CSS class in `Styles.css` named `SelectedRowStyle`.</span></span>


[!code-css[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample3.css)]

<span data-ttu-id="333fd-163">Aby zastosować tę klasę CSS do `SelectedRowStyle` właściwość *wszystkie* GridViews w naszym samouczku serii Edytuj `GridView.skin` skórki w `DataWebControls` motyw do uwzględnienia `SelectedRowStyle` ustawień, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="333fd-163">To apply this CSS class to the `SelectedRowStyle` property of *all* GridViews in our tutorial series, edit the `GridView.skin` Skin in the `DataWebControls` Theme to include the `SelectedRowStyle` settings as shown below:</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample4.aspx)]

<span data-ttu-id="333fd-164">Z tym dodatkiem wybranego wiersza w widoku GridView jest teraz wyróżnione kolorem żółtym tle.</span><span class="sxs-lookup"><span data-stu-id="333fd-164">With this addition, the selected GridView row is now highlighted with a yellow background color.</span></span>


<span data-ttu-id="333fd-165">[![Dostosowywanie wyglądu wybranego wiersza za pomocą właściwości SelectedRowStyle w widoku GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-165">[![Customize the Selected Row's Appearance Using the GridView's SelectedRowStyle Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image22.png)</span></span>

<span data-ttu-id="333fd-166">**Rysunek 8**: dostosowywanie przy użyciu wygląd zaznaczony wiersz w widoku GridView `SelectedRowStyle` właściwości ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-166">**Figure 8**: Customize the Selected Row's Appearance Using the GridView's `SelectedRowStyle` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image24.png))</span></span>


## <a name="step-2-displaying-the-selected-products-details-in-a-detailsview"></a><span data-ttu-id="333fd-167">Krok 2: Wyświetlanie szczegółów produktu wybranego w widoku DetailsView</span><span class="sxs-lookup"><span data-stu-id="333fd-167">Step 2: Displaying the Selected Product's Details in a DetailsView</span></span>

<span data-ttu-id="333fd-168">Z `ProductsGrid` ukończyć GridView, wszystkie punkty, które pozostaje jest dodanie widoku DetailsView, który wyświetla informacje dotyczące określonego produktu wybrane.</span><span class="sxs-lookup"><span data-stu-id="333fd-168">With the `ProductsGrid` GridView complete, all that remains is to add a DetailsView that displays information about the particular product selected.</span></span> <span data-ttu-id="333fd-169">Dodaj formant widoku DetailsView powyżej widoku GridView i utworzyć nowy element ObjectDataSource o nazwie `ProductDetailsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="333fd-169">Add a DetailsView control above the GridView and create a new ObjectDataSource named `ProductDetailsDataSource`.</span></span> <span data-ttu-id="333fd-170">Ponieważ chcemy tego widoku DetailsView do wyświetlenia określonej informacji na temat wybranego produktu, należy skonfigurować `ProductDetailsDataSource` do używania `ProductsBLL` klasy `GetProductByProductID(productID)` metody.</span><span class="sxs-lookup"><span data-stu-id="333fd-170">Since we want this DetailsView to display particular information about the selected product, configure the `ProductDetailsDataSource` to use the `ProductsBLL` class's `GetProductByProductID(productID)` method.</span></span>


<span data-ttu-id="333fd-171">[![Wywoływanie metody GetProductByProductID(productID) klasy ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-171">[![Invoke the ProductsBLL Class's GetProductByProductID(productID) Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image25.png)</span></span>

<span data-ttu-id="333fd-172">**Rysunek 9**: wywołanie `ProductsBLL` klasy `GetProductByProductID(productID)` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-172">**Figure 9**: Invoke the `ProductsBLL` Class's `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image27.png))</span></span>


<span data-ttu-id="333fd-173">Ma *`productID`* wartość parametru uzyskane z kontrolki widoku siatki `SelectedValue` właściwości.</span><span class="sxs-lookup"><span data-stu-id="333fd-173">Have the *`productID`* parameter's value obtained from the GridView control's `SelectedValue` property.</span></span> <span data-ttu-id="333fd-174">Jak wspomniano wcześniej, w widoku GridView `SelectedValue` właściwość zwraca wartość dla wybranego wiersza klucza pierwsze dane.</span><span class="sxs-lookup"><span data-stu-id="333fd-174">As we discussed earlier, the GridView's `SelectedValue` property returns the first data key value for the selected row.</span></span> <span data-ttu-id="333fd-175">W związku z tym należy bezwzględnie który w widoku GridView `DataKeyNames` właściwość jest ustawiona na `ProductID`, dzięki czemu wybranego wiersza `ProductID` wartość jest zwracana przez `SelectedValue`.</span><span class="sxs-lookup"><span data-stu-id="333fd-175">Therefore, it's imperative that the GridView's `DataKeyNames` property is set to `ProductID`, so that the selected row's `ProductID` value is returned by `SelectedValue`.</span></span>


<span data-ttu-id="333fd-176">[![Ustaw productID parametru do właściwości SelectedValue w widoku GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-176">[![Set the productID Parameter to the GridView's SelectedValue Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image28.png)</span></span>

<span data-ttu-id="333fd-177">**Na rysunku nr 10**: Ustaw *`productID`* parametr w widoku GridView `SelectedValue` właściwości ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-177">**Figure 10**: Set the *`productID`* Parameter to the GridView's `SelectedValue` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image30.png))</span></span>


<span data-ttu-id="333fd-178">Raz `productDetailsDataSource` ObjectDataSource został poprawnie skonfigurowany i powiązany z widoku DetailsView, w tym samouczku została zakończona!</span><span class="sxs-lookup"><span data-stu-id="333fd-178">Once the `productDetailsDataSource` ObjectDataSource has been configured correctly and bound to the DetailsView, this tutorial is complete!</span></span> <span data-ttu-id="333fd-179">Po pierwsze odwiedzenia strony wiersza nie jest zaznaczone, dlatego w widoku GridView `SelectedValue` zwraca `null`.</span><span class="sxs-lookup"><span data-stu-id="333fd-179">When the page is first visited no row is selected, so the GridView's `SelectedValue` property returns `null`.</span></span> <span data-ttu-id="333fd-180">Ponieważ nie ma żadnych produktów z `NULL` `ProductID` wartość, nie zwrócono żadnych rekordów przez `GetProductByProductID(productID)` metody, co oznacza, że nie są wyświetlane w widoku DetailsView (patrz rysunek 11).</span><span class="sxs-lookup"><span data-stu-id="333fd-180">Since there are no products with a `NULL` `ProductID` value, no records are returned by the `GetProductByProductID(productID)` method, meaning that the DetailsView isn't displayed (see Figure 11).</span></span> <span data-ttu-id="333fd-181">Po kliknięciu przycisku Wybierz wierszu elementu GridView, ensues odświeżania strony i odświeżeniu widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="333fd-181">Upon clicking a GridView row's Select button, a postback ensues and the DetailsView is refreshed.</span></span> <span data-ttu-id="333fd-182">Tym razem w widoku GridView `SelectedValue` zwraca właściwości `ProductID` wybranego wiersza `GetProductByProductID(productID)` metoda zwraca `ProductsDataTable` informacje dotyczące tego konkretnego produktu i widoku DetailsView zawiera te szczegóły (patrz rysunek 12).</span><span class="sxs-lookup"><span data-stu-id="333fd-182">This time the GridView's `SelectedValue` property returns the `ProductID` of the selected row, the `GetProductByProductID(productID)` method returns a `ProductsDataTable` with information about that particular product, and the DetailsView shows these details (see Figure 12).</span></span>


<span data-ttu-id="333fd-183">[![Po pierwszym odwiedzi tylko widoku GridView jest wyświetlana](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-183">[![When First Visited, Only the GridView is Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image31.png)</span></span>

<span data-ttu-id="333fd-184">**Rysunek 11**: po odwiedzeniu najpierw, zostanie wyświetlony tylko widoku GridView ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-184">**Figure 11**: When First Visited, Only the GridView is Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image33.png))</span></span>


<span data-ttu-id="333fd-185">[![Po zaznaczeniu wiersza, wyświetlane są szczegóły tego produktu](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="333fd-185">[![Upon Selecting a Row, the Product's Details are Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image34.png)</span></span>

<span data-ttu-id="333fd-186">**Rysunek 12**: po wybraniu wiersza, wyświetlane są szczegóły tego produktu ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="333fd-186">**Figure 12**: Upon Selecting a Row, the Product's Details are Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image36.png))</span></span>


## <a name="summary"></a><span data-ttu-id="333fd-187">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="333fd-187">Summary</span></span>

<span data-ttu-id="333fd-188">W tym i poprzedniego samouczki trzy możemy przedstawiono kilka technik do wyświetlania raportów wzorzec/szczegół.</span><span class="sxs-lookup"><span data-stu-id="333fd-188">In this and the preceding three tutorials we've seen a number of techniques for displaying master/detail reports.</span></span> <span data-ttu-id="333fd-189">W tym samouczku będziemy zbadać za pomocą wybieralny Element GridView do przechowywania rekordów głównych i DetailsView, aby wyświetlić szczegółowe informacje dotyczące wybranego rekordu głównego na tej samej stronie.</span><span class="sxs-lookup"><span data-stu-id="333fd-189">In this tutorial we examined using a selectable GridView to house the master records and a DetailsView to display details about the selected master record on the same page.</span></span> <span data-ttu-id="333fd-190">W samouczkach wcześniejszych Analizujemy sposób wyświetlania raportów głównych/szczegółów za pomocą DropDownLists i wyświetlanie rekordy główne w jedną stronę sieci web i rekordy na innym.</span><span class="sxs-lookup"><span data-stu-id="333fd-190">In the earlier tutorials we looked at how to display master/details reports using DropDownLists and displaying master records on one web page and detail records on another.</span></span>

<span data-ttu-id="333fd-191">W tym samouczku kończy się naszego badania wzorzec/szczegół raportów.</span><span class="sxs-lookup"><span data-stu-id="333fd-191">This tutorial concludes our examination of master/detail reports.</span></span> <span data-ttu-id="333fd-192">Począwszy od następnego tutorialwe Rozpoczniemy naszych badań dostosowane formatowanie z widoku GridView, widoku DetailsView i FormView.</span><span class="sxs-lookup"><span data-stu-id="333fd-192">Starting with the next tutorialwe'll begin our exploration of customized formatting with the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="333fd-193">Firma Microsoft zostanie wyświetlone, jak dostosować wygląd tych kontrolek na podstawie danych powiązany z nimi, sposób podsumowywania danych w stopce w widoku GridView i jak używać szablonów w celu uzyskania lepszej kontroli nad układ.</span><span class="sxs-lookup"><span data-stu-id="333fd-193">We'll see how to customize the appearance of these controls based on the data bound to them, how to summarize data in the GridView's footer, and how to use templates to obtain a greater degree of control over the layout.</span></span>

<span data-ttu-id="333fd-194">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="333fd-194">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="333fd-195">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="333fd-195">About the Author</span></span>

<span data-ttu-id="333fd-196">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="333fd-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="333fd-197">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="333fd-197">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="333fd-198">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="333fd-198">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="333fd-199">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="333fd-199">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="333fd-200">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="333fd-200">Special Thanks To</span></span>

<span data-ttu-id="333fd-201">Ten samouczek serii zostało sprawdzone przez wiele recenzentów przydatne.</span><span class="sxs-lookup"><span data-stu-id="333fd-201">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="333fd-202">Recenzenta realizacji w tym samouczku został Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="333fd-202">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="333fd-203">Zainteresowani recenzowania Moje nadchodzących artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="333fd-203">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="333fd-204">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="333fd-204">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="333fd-205">[Poprzednie](master-detail-filtering-across-two-pages-cs.md)
> [dalej](master-detail-filtering-with-a-dropdownlist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="333fd-205">[Previous](master-detail-filtering-across-two-pages-cs.md)
[Next](master-detail-filtering-with-a-dropdownlist-vb.md)</span></span>
