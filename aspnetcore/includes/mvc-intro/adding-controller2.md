<span data-ttu-id="8ad81-101">Zastąp zawartość *Controllers/HelloWorldController.cs* następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="8ad81-101">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

<span data-ttu-id="8ad81-102">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]</span><span class="sxs-lookup"><span data-stu-id="8ad81-102">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]</span></span>

<span data-ttu-id="8ad81-103">Każdy `public` można wywołać jako punkt końcowy HTTP jest metoda w kontrolerze.</span><span class="sxs-lookup"><span data-stu-id="8ad81-103">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="8ad81-104">W powyższym przykładzie obie metody zwracają ciąg.</span><span class="sxs-lookup"><span data-stu-id="8ad81-104">In the sample above, both methods return a string.</span></span>  <span data-ttu-id="8ad81-105">Należy pamiętać, komentarze przed każdą z tych metod.</span><span class="sxs-lookup"><span data-stu-id="8ad81-105">Note the comments preceding each method.</span></span>

<span data-ttu-id="8ad81-106">Punkt końcowy HTTP jest targetable adres URL w aplikacji sieci web, takich jak `http://localhost:1234/HelloWorld`i protokół używany łączy: `HTTP`, lokalizacji sieciowej serwera sieci web (w tym porcie TCP): `localhost:1234` i docelowy identyfikator URI `HelloWorld`.</span><span class="sxs-lookup"><span data-stu-id="8ad81-106">An HTTP endpoint is a targetable URL in the web application, such as `http://localhost:1234/HelloWorld`, and combines the protocol used: `HTTP`, the network location of the web server (including the TCP port): `localhost:1234` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="8ad81-107">Stany pierwszego komentarza to [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) metodę, która jest wywoływana przez dodanie "/HelloWorld/" do podstawowego adresu URL.</span><span class="sxs-lookup"><span data-stu-id="8ad81-107">The first comment states this is an [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) method that is invoked by appending "/HelloWorld/" to the base URL.</span></span> <span data-ttu-id="8ad81-108">Określa drugi komentarz [HTTP GET](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) metodę, która jest wywoływana przez dołączenie "/ HelloWorld/Zapraszamy /" do adresu URL.</span><span class="sxs-lookup"><span data-stu-id="8ad81-108">The second comment specifies an [HTTP GET](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that is invoked by appending "/HelloWorld/Welcome/" to the URL.</span></span> <span data-ttu-id="8ad81-109">Później w samouczku użyjesz aparat szkieletów do generowania `HTTP POST` metody.</span><span class="sxs-lookup"><span data-stu-id="8ad81-109">Later on in the tutorial you'll use the scaffolding engine to generate `HTTP POST` methods.</span></span>

<span data-ttu-id="8ad81-110">Uruchom aplikację w trybie bez debugowania i Dołącz "HelloWorld" do ścieżki w pasku adresu.</span><span class="sxs-lookup"><span data-stu-id="8ad81-110">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="8ad81-111">`Index` Metoda zwraca ciąg.</span><span class="sxs-lookup"><span data-stu-id="8ad81-111">The `Index` method returns a string.</span></span>

![Wyświetlanie odpowiedzi aplikacji tego okna przeglądarki jest Mój Akcja domyślna](../../tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="8ad81-113">MVC wywołuje klasy kontrolera (i metod akcji w nich), w zależności od przychodzącego adresu URL.</span><span class="sxs-lookup"><span data-stu-id="8ad81-113">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="8ad81-114">Wartość domyślna [logiki routingu adresu URL](../../mvc/controllers/routing.md) używany przez MVC używa formatu to w celu określenia, kodu do wywołania:</span><span class="sxs-lookup"><span data-stu-id="8ad81-114">The default [URL routing logic](../../mvc/controllers/routing.md) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="8ad81-115">Określanie formatu routingu w *Startup.cs* pliku.</span><span class="sxs-lookup"><span data-stu-id="8ad81-115">You set the format for routing in the *Startup.cs* file.</span></span>

<span data-ttu-id="8ad81-116">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span><span class="sxs-lookup"><span data-stu-id="8ad81-116">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span></span>

<span data-ttu-id="8ad81-117">Po uruchomieniu aplikacji i nie podawaj wszystkie segmenty adresu URL, domyślnie kontroler "Home" i metoda "Index" określona w wierszu szablonu wyróżnione powyżej.</span><span class="sxs-lookup"><span data-stu-id="8ad81-117">When you run the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="8ad81-118">Pierwszy segment adresu URL określa klasy kontrolera do uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="8ad81-118">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="8ad81-119">Dlatego `localhost:xxxx/HelloWorld` mapuje `HelloWorldController` klasy.</span><span class="sxs-lookup"><span data-stu-id="8ad81-119">So `localhost:xxxx/HelloWorld` maps to the `HelloWorldController` class.</span></span> <span data-ttu-id="8ad81-120">Druga część segment adresu URL określa metody akcji w klasie.</span><span class="sxs-lookup"><span data-stu-id="8ad81-120">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="8ad81-121">Dlatego `localhost:xxxx/HelloWorld/Index` spowodowałoby `Index` metody `HelloWorldController` klasy do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="8ad81-121">So `localhost:xxxx/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="8ad81-122">Należy zauważyć, że masz aby przejść do `localhost:xxxx/HelloWorld` i `Index` wywołano metodę domyślnie.</span><span class="sxs-lookup"><span data-stu-id="8ad81-122">Notice that you only had to browse to `localhost:xxxx/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="8ad81-123">Jest to spowodowane `Index` jest domyślna metoda, która zostanie wywołana na kontrolerze, jeśli nie jest jawnie określona nazwa metody.</span><span class="sxs-lookup"><span data-stu-id="8ad81-123">This is because `Index` is the default method that will be called on a controller if a method name is not explicitly specified.</span></span> <span data-ttu-id="8ad81-124">Trzeci część segment adresu URL ( `id`) dla danych trasy.</span><span class="sxs-lookup"><span data-stu-id="8ad81-124">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="8ad81-125">Dane trasy zostanie wyświetlone później w tym samouczku.</span><span class="sxs-lookup"><span data-stu-id="8ad81-125">You'll see route data later on in this tutorial.</span></span>

<span data-ttu-id="8ad81-126">Przejdź do `http://localhost:xxxx/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="8ad81-126">Browse to `http://localhost:xxxx/HelloWorld/Welcome`.</span></span> <span data-ttu-id="8ad81-127">`Welcome` Metoda uruchamia i zwraca ciąg "Jest to metoda akcji Zapraszamy...".</span><span class="sxs-lookup"><span data-stu-id="8ad81-127">The `Welcome` method runs and returns the string "This is the Welcome action method...".</span></span> <span data-ttu-id="8ad81-128">Dla tego adresu URL kontrolera jest `HelloWorld` i `Welcome` jest metodą akcji.</span><span class="sxs-lookup"><span data-stu-id="8ad81-128">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="8ad81-129">Nie były używane `[Parameters]` część jeszcze adresu URL.</span><span class="sxs-lookup"><span data-stu-id="8ad81-129">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Okno przeglądarki, przedstawiające odpowiedzi aplikacji to jest metoda akcji-Zapraszamy!](../../tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="8ad81-131">Zmodyfikuj kod do przekazywania informacji niektórych parametrów z adresu URL do kontrolera.</span><span class="sxs-lookup"><span data-stu-id="8ad81-131">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="8ad81-132">Na przykład `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="8ad81-132">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="8ad81-133">Zmień `Welcome` metodę w celu uwzględnienia dwóch parametrów, jak pokazano w poniższym kodzie.</span><span class="sxs-lookup"><span data-stu-id="8ad81-133">Change the `Welcome` method to include two parameters as shown in the following code.</span></span> 

<span data-ttu-id="8ad81-134">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]</span><span class="sxs-lookup"><span data-stu-id="8ad81-134">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]</span></span>

<span data-ttu-id="8ad81-135">Poprzedni kod:</span><span class="sxs-lookup"><span data-stu-id="8ad81-135">The preceding code:</span></span>

* <span data-ttu-id="8ad81-136">Aby wskazać, że jest używana funkcja opcjonalny parametr C# `numTimes` parametr ma domyślnie wartość 1, jeśli nie przekazano żadnej wartości tego parametru.</span><span class="sxs-lookup"><span data-stu-id="8ad81-136">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span>
* <span data-ttu-id="8ad81-137">Używa`HtmlEncoder.Default.Encode` do ochrony aplikacji przed złośliwymi danych wejściowych (to znaczy JavaScript).</span><span class="sxs-lookup"><span data-stu-id="8ad81-137">Uses`HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span> 
* <span data-ttu-id="8ad81-138">Używa [ciągi interpolowane](https://docs.microsoft.com/dotnet/articles/csharp/language-reference/keywords/interpolated-strings).</span><span class="sxs-lookup"><span data-stu-id="8ad81-138">Uses [Interpolated Strings](https://docs.microsoft.com/dotnet/articles/csharp/language-reference/keywords/interpolated-strings).</span></span>

<span data-ttu-id="8ad81-139">Uruchom aplikację i przejdź do:</span><span class="sxs-lookup"><span data-stu-id="8ad81-139">Run your app and browse to:</span></span>

   `http://localhost:xxxx/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="8ad81-140">(Zamiast xxxx numer portu). Możesz spróbować różnych wartości `name` i `numtimes` w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="8ad81-140">(Replace xxxx with your port number.) You can try different values for `name` and `numtimes` in  the URL.</span></span> <span data-ttu-id="8ad81-141">MVC [modelu powiązania](../../mvc/models/model-binding.md) system automatycznie mapuje parametry nazwane z ciągu zapytania w pasku adresu w parametrach w metodę.</span><span class="sxs-lookup"><span data-stu-id="8ad81-141">The MVC [model binding](../../mvc/models/model-binding.md) system automatically maps the named parameters from  the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="8ad81-142">Zobacz [powiązanie modelu](../../mvc/models/model-binding.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="8ad81-142">See [Model Binding](../../mvc/models/model-binding.md) for more information.</span></span>

![Okno przeglądarki, przedstawiające odpowiedzi aplikacji Hello Rick jest NumTimes: 4](../../tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="8ad81-144">Na ilustracji powyżej segment adresu URL (`Parameters`) nie jest używany, `name` i `numTimes` parametry są przekazywane jako [ciągów zapytania](https://wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="8ad81-144">In the image above, the URL segment (`Parameters`) is not used, the `name` and `numTimes` parameters are passed as [query strings](https://wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="8ad81-145">`?` (Znak zapytania) w powyższy adres URL jest separatorem, i wykonaj ciągi zapytań.</span><span class="sxs-lookup"><span data-stu-id="8ad81-145">The `?` (question mark) in the above URL is a separator, and the query strings follow.</span></span> <span data-ttu-id="8ad81-146">`&` Rozdziela ciągi zapytań.</span><span class="sxs-lookup"><span data-stu-id="8ad81-146">The `&` character separates query strings.</span></span>

<span data-ttu-id="8ad81-147">Zastąp `Welcome` metodę z następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="8ad81-147">Replace the `Welcome` method with the following code:</span></span>

<span data-ttu-id="8ad81-148">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]</span><span class="sxs-lookup"><span data-stu-id="8ad81-148">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]</span></span>

<span data-ttu-id="8ad81-149">Uruchom aplikację i wprowadź następujący adres URL:`http://localhost:xxx/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="8ad81-149">Run the app and enter the following URL:  `http://localhost:xxx/HelloWorld/Welcome/3?name=Rick`</span></span>

![Okno przeglądarki, przedstawiające odpowiedzi aplikacji Hello Rick, identyfikator: 3](../../tutorials/first-mvc-app/adding-controller/_static/rick_routedata.png)

<span data-ttu-id="8ad81-151">Teraz trzeci segment adresu URL dopasowane parametru trasy `id`.</span><span class="sxs-lookup"><span data-stu-id="8ad81-151">This time the third URL segment  matched the route parameter `id`.</span></span> <span data-ttu-id="8ad81-152">`Welcome` Metoda zawiera parametr `id` pasujących szablon adresu URL w `MapRoute` metody.</span><span class="sxs-lookup"><span data-stu-id="8ad81-152">The `Welcome`  method contains a parameter  `id` that matched the URL template in the `MapRoute` method.</span></span> <span data-ttu-id="8ad81-153">Końcowe `?` (w `id?`) wskazuje `id` parametr jest opcjonalny.</span><span class="sxs-lookup"><span data-stu-id="8ad81-153">The trailing `?`  (in `id?`) indicates the `id` parameter is optional.</span></span>

<span data-ttu-id="8ad81-154">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span><span class="sxs-lookup"><span data-stu-id="8ad81-154">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span></span>

<span data-ttu-id="8ad81-155">W tych przykładach kontroler został czynności "VC" część MVC — widok i kontroler pracy.</span><span class="sxs-lookup"><span data-stu-id="8ad81-155">In these examples the controller has been doing the "VC" portion  of MVC - that is, the view and controller work.</span></span> <span data-ttu-id="8ad81-156">Kontroler bezpośrednio zwraca HTML.</span><span class="sxs-lookup"><span data-stu-id="8ad81-156">The controller is returning HTML  directly.</span></span> <span data-ttu-id="8ad81-157">Zwykle nie mają kontrolerów bezpośrednio, zwracając HTML, ponieważ staje się bardzo trudne kodu i obsługa.</span><span class="sxs-lookup"><span data-stu-id="8ad81-157">Generally you don't want controllers returning HTML directly, since  that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="8ad81-158">Zamiast tego zazwyczaj pozwala oddzielny plik szablonu widoku Razor łatwiej Generowanie odpowiedzi HTML.</span><span class="sxs-lookup"><span data-stu-id="8ad81-158">Instead you typically use a separate Razor view template file to help generate the HTML response.</span></span> <span data-ttu-id="8ad81-159">Można to zrobić w następnym samouczku.</span><span class="sxs-lookup"><span data-stu-id="8ad81-159">You do that in the next tutorial.</span></span>
