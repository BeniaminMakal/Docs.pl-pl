---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-vb
title: Wzorzec/szczegół filtrowanie z DropDownList (VB) | Dokumentacja firmy Microsoft
author: rick-anderson
description: W tym samouczku przedstawiono sposób wyświetlania raportów wzorzec/szczegół w jednej strony sieci web przy użyciu DropDownLists do wyświetlenia "master" rekordów i DataList displ...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/18/2007
ms.topic: article
ms.assetid: ad0f1014-1eff-465f-bdc6-93058de00e44
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-vb
msc.type: authoredcontent
ms.openlocfilehash: e4ece466319e268a74bbe8c4ed96ffc33cff432f
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-with-a-dropdownlist-vb"></a><span data-ttu-id="3574a-103">Wzorzec/szczegół filtrowanie z DropDownList (VB)</span><span class="sxs-lookup"><span data-stu-id="3574a-103">Master/Detail Filtering With a DropDownList (VB)</span></span>
====================
<span data-ttu-id="3574a-104">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="3574a-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="3574a-105">[Pobierz przykładową aplikację](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_VB.exe) lub [pobierania plików PDF](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/datatutorial33vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="3574a-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_VB.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/datatutorial33vb1.pdf)</span></span>

> <span data-ttu-id="3574a-106">W tym samouczku przedstawiono sposób wyświetlania raportów wzorzec/szczegół w jednej strony sieci web przy użyciu DropDownLists do wyświetlania rekordów "główny" i DataList do wyświetlenia "szczegóły".</span><span class="sxs-lookup"><span data-stu-id="3574a-106">In this tutorial we see how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details".</span></span>


## <a name="introduction"></a><span data-ttu-id="3574a-107">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="3574a-107">Introduction</span></span>

<span data-ttu-id="3574a-108">Raport wzorzec/szczegół najpierw utworzyć przy użyciu widoku GridView w wcześniej [wzorzec/szczegół filtrowania z DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-vb.md) samouczek, rozpoczyna się poprzez wyświetlenie niektórych zestawu rekordów "master".</span><span class="sxs-lookup"><span data-stu-id="3574a-108">The master/detail report, which we first created using a GridView in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-vb.md) tutorial, begins by showing some set of "master" records.</span></span> <span data-ttu-id="3574a-109">Użytkownik może następnie przejść do jednego z głównym rekordów ten sposób wyświetlania tego rekordu głównego "szczegółowych informacji."</span><span class="sxs-lookup"><span data-stu-id="3574a-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="3574a-110">Wzorzec/szczegół raporty są idealnym wyborem do wizualizacji relacji jeden do wielu, jak i do wyświetlania szczegółowych informacji z szczególnie tabel "szerokości" (te, które zawiera wiele kolumn).</span><span class="sxs-lookup"><span data-stu-id="3574a-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships and for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="3574a-111">Firma Microsoft zostały przedstawione sposobu wdrażania raportów wzorzec/szczegół za pomocą kontrolki GridView i widoku DetailsView w poprzednim samouczki.</span><span class="sxs-lookup"><span data-stu-id="3574a-111">We've explored how to implement master/detail reports using the GridView and DetailsView controls in previous tutorials.</span></span> <span data-ttu-id="3574a-112">W tym samouczku i dwie firma Microsoft będzie reexamine tych pojęć, ale fokus przy użyciu DataList i elementu powtarzanego zamiast kontroluje ją.</span><span class="sxs-lookup"><span data-stu-id="3574a-112">In this tutorial and the next two, we'll reexamine these concepts, but focus on using DataList and Repeater controls instead.</span></span>

<span data-ttu-id="3574a-113">W ramach tego samouczka przyjrzymy przy użyciu DropDownList zawiera rekordy "master", wyświetlane w DataList rekordami "szczegóły".</span><span class="sxs-lookup"><span data-stu-id="3574a-113">In this tutorial, we'll look at using a DropDownList to contain the "master" records, with the "details" records displayed in a DataList.</span></span>

## <a name="step-1-adding-the-masterdetail-tutorial-web-pages"></a><span data-ttu-id="3574a-114">Krok 1: Dodawanie stron sieci Web z samouczka wzorzec/szczegół</span><span class="sxs-lookup"><span data-stu-id="3574a-114">Step 1: Adding the Master/Detail Tutorial Web Pages</span></span>

<span data-ttu-id="3574a-115">Przed Rozpoczniemy ten samouczek umożliwia najpierw Poświęć chwilę, aby dodać folder i stron ASP.NET, które będą potrzebne dla tego samouczka i dwie dotyczących raportów wzorzec/szczegół za pomocą formantów DataList i elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="3574a-115">Before we start this tutorial, let's first take a moment to add the folder and ASP.NET pages we'll need for this tutorial and the next two dealing with master/detail reports using the DataList and Repeater controls.</span></span> <span data-ttu-id="3574a-116">Rozpocznij od utworzenia nowego folderu do projektu o nazwie `DataListRepeaterFiltering`.</span><span class="sxs-lookup"><span data-stu-id="3574a-116">Start by creating a new folder in the project named `DataListRepeaterFiltering`.</span></span> <span data-ttu-id="3574a-117">Następnie dodaj następujące pięć stron ASP.NET w tym folderze każdego z nich jest skonfigurowany do używania strony wzorcowej `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="3574a-117">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `FilterByDropDownList.aspx`
- `CategoryListMaster.aspx`
- `ProductsForCategoryDetails.aspx`
- `CategoriesAndProducts.aspx`


![Utwórz DataListRepeaterFiltering Folder i dodać strony samouczek platformy ASP.NET](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image1.png)

<span data-ttu-id="3574a-119">**Rysunek 1**: tworzenie `DataListRepeaterFiltering` folderu i dodać strony samouczek platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3574a-119">**Figure 1**: Create a `DataListRepeaterFiltering` Folder and Add the Tutorial ASP.NET Pages</span></span>


<span data-ttu-id="3574a-120">Następnie otwórz folder `Default.aspx` strony i przeciągnij `SectionLevelTutorialListing.ascx` kontrolki użytkownika z `UserControls` folderu na powierzchnię projektu.</span><span class="sxs-lookup"><span data-stu-id="3574a-120">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="3574a-121">Ten formant użytkownika, który utworzono w [stron wzorcowych i nawigacji w witrynie](../introduction/master-pages-and-site-navigation-vb.md) samouczek, wylicza mapy witryny i wyświetla samouczków, z sekcji bieżącej listy punktowanej.</span><span class="sxs-lookup"><span data-stu-id="3574a-121">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-vb.md) tutorial, enumerates the site map and displays the tutorials from the current section in a bulleted list.</span></span>


<span data-ttu-id="3574a-122">[![Dodaj kontrolkę użytkownika SectionLevelTutorialListing.ascx do Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-122">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image2.png)</span></span>

<span data-ttu-id="3574a-123">**Rysunek 2**: Dodaj `SectionLevelTutorialListing.ascx` formantu użytkownika `Default.aspx` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-123">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image4.png))</span></span>


<span data-ttu-id="3574a-124">W celu wyświetlania listy punktowanej samouczki wzorzec/szczegół, firma Microsoft będzie tworzony, należy dodać je do mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="3574a-124">In order to have the bulleted list display the master/detail tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="3574a-125">Otwórz `Web.sitemap` i Dodaj następujący kod po znaczników węzeł mapy witryny "Wyświetlanie danych z DataList i powtarzanego":</span><span class="sxs-lookup"><span data-stu-id="3574a-125">Open the `Web.sitemap` file and add the following markup after the "Displaying Data with the DataList and Repeater" site map node markup:</span></span>

[!code-xml[Main](master-detail-filtering-with-a-dropdownlist-datalist-vb/samples/sample1.xml)]


![Zaktualizuj mapy witryny w celu uwzględnienia nowych stron ASP.NET](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image5.png)

<span data-ttu-id="3574a-127">**Rysunek 3**: zaktualizuj mapy witryny w celu uwzględnienia nowych stron ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3574a-127">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>


## <a name="step-2-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="3574a-128">Krok 2: Wyświetlanie kategorii w DropDownList</span><span class="sxs-lookup"><span data-stu-id="3574a-128">Step 2: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="3574a-129">Nasze raportu wzorzec/szczegół spowoduje wyświetlenie listy kategorii w DropDownList z produktami elementu wybranej listy wyświetlane dodatkowe w dół strony w DataList.</span><span class="sxs-lookup"><span data-stu-id="3574a-129">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a DataList.</span></span> <span data-ttu-id="3574a-130">Pierwszym zadaniem przed nami, jest następnie kategorie wyświetlane w DropDownList.</span><span class="sxs-lookup"><span data-stu-id="3574a-130">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="3574a-131">Uruchamianie przez otwarcie `FilterByDropDownList.aspx` strony `DataListRepeaterFiltering` folder i przeciągnij DropDownList z przybornika do strony projektanta.</span><span class="sxs-lookup"><span data-stu-id="3574a-131">Start by opening the `FilterByDropDownList.aspx` page in the `DataListRepeaterFiltering` folder and drag a DropDownList from the Toolbox onto the page's designer.</span></span> <span data-ttu-id="3574a-132">Następnie należy ustawić DropDownList `ID` właściwości `Categories`.</span><span class="sxs-lookup"><span data-stu-id="3574a-132">Next, set the DropDownList's `ID` property to `Categories`.</span></span> <span data-ttu-id="3574a-133">Kliknij łącze Wybierz źródło danych z tagów inteligentnych DropDownList i Utwórz nowy element ObjectDataSource o nazwie `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="3574a-133">Click on the Choose Data Source link from the DropDownList's smart tag and create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="3574a-134">[![Dodaj nowy element ObjectDataSource o nazwie CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-134">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image6.png)</span></span>

<span data-ttu-id="3574a-135">**Rysunek 4**: Dodaj nowy element ObjectDataSource o nazwie `CategoriesDataSource` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-135">**Figure 4**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image8.png))</span></span>


<span data-ttu-id="3574a-136">Skonfiguruj nowy element ObjectDataSource tak, aby go wywołuje `CategoriesBLL` klasy `GetCategories()` metody.</span><span class="sxs-lookup"><span data-stu-id="3574a-136">Configure the new ObjectDataSource such that it invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span> <span data-ttu-id="3574a-137">Po skonfigurowaniu ObjectDataSource nadal trzeba określić, jakie pola źródła danych mają być wyświetlane w DropDownList i jedną powinna być skojarzona jako wartość dla każdego elementu listy.</span><span class="sxs-lookup"><span data-stu-id="3574a-137">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in the DropDownList and which one should be associated as the value for each list item.</span></span> <span data-ttu-id="3574a-138">Ma `CategoryName` pole jako ekran i `CategoryID` jako wartość dla każdego elementu listy.</span><span class="sxs-lookup"><span data-stu-id="3574a-138">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="3574a-139">[![Ma pole CategoryName i użyj CategoryID wyświetlana lista DropDownList jako wartość](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-139">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image9.png)</span></span>

<span data-ttu-id="3574a-140">**Rysunek 5**: wyświetlone DropDownList `CategoryName` pola i użyj `CategoryID` jako wartość ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-140">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image11.png))</span></span>


<span data-ttu-id="3574a-141">W tym momencie mamy DropDownList formant, który jest wypełniana rekordy z `Categories` tabeli (wszystkie dokonane w ciągu około sześciu sekund).</span><span class="sxs-lookup"><span data-stu-id="3574a-141">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="3574a-142">Rysunek 6 przedstawia naszych postępu dotychczasowych widzianego za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="3574a-142">Figure 6 shows our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="3574a-143">[![Rozwijana lista bieżącej kategorii](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-143">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image12.png)</span></span>

<span data-ttu-id="3574a-144">**Rysunek 6**: listy rozwijane A bieżącej kategorii ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-144">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image14.png))</span></span>


## <a name="step-2-adding-the-products-datalist"></a><span data-ttu-id="3574a-145">Krok 2: Dodawanie DataList produktów</span><span class="sxs-lookup"><span data-stu-id="3574a-145">Step 2: Adding the Products DataList</span></span>

<span data-ttu-id="3574a-146">Ostatnim krokiem w naszej raportu wzorzec/szczegół jest aby wyświetlić listę produktów skojarzonych z wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="3574a-146">The last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="3574a-147">W tym celu Dodaj DataList do strony i Utwórz nowy element ObjectDataSource o nazwie `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="3574a-147">To accomplish this, add a DataList to the page and create a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="3574a-148">Ma `ProductsByCategoryDataSource` kontroli pobrać dane z `ProductsBLL` klasy `GetProductsByCategoryID(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="3574a-148">Have the `ProductsByCategoryDataSource` control retrieve its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="3574a-149">Ponieważ ten raport wzorzec/szczegół jest tylko do odczytu, wybierz opcję (Brak) na kartach INSERT, UPDATE i DELETE.</span><span class="sxs-lookup"><span data-stu-id="3574a-149">Since this master/detail report is read-only, choose the (None) option in the INSERT, UPDATE, and DELETE tabs.</span></span>


<span data-ttu-id="3574a-150">[![Wybierz metodę GetProductsByCategoryID(categoryID)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-150">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image15.png)</span></span>

<span data-ttu-id="3574a-151">**Rysunek 7**: Wybierz `GetProductsByCategoryID(categoryID)` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-151">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image17.png))</span></span>


<span data-ttu-id="3574a-152">Po kliknięciu przycisku Dalej, Kreator ObjectDataSource żąda nam źródła wartość `GetProductsByCategoryID(categoryID)` metody *`categoryID`* parametru.</span><span class="sxs-lookup"><span data-stu-id="3574a-152">After clicking Next, the ObjectDataSource wizard prompts us for the source of the value for the `GetProductsByCategoryID(categoryID)` method's *`categoryID`* parameter.</span></span> <span data-ttu-id="3574a-153">Aby użyć wartości wybranych `categories` elementu DropDownList ustawiono parametr źródła kontroli i ControlID do `Categories`.</span><span class="sxs-lookup"><span data-stu-id="3574a-153">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>


<span data-ttu-id="3574a-154">[![Ustaw categoryID parametru wartość DropDownList kategorii](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-154">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image18.png)</span></span>

<span data-ttu-id="3574a-155">**Rysunek 8**: Ustaw *`categoryID`* parametru z wartością `Categories` DropDownList ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-155">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image20.png))</span></span>


<span data-ttu-id="3574a-156">Po zakończeniu pracy Kreatora konfigurowania źródła danych programu Visual Studio automatycznie generuje `ItemTemplate` dla DataList, który wyświetla nazwę i wartość każdego pola danych.</span><span class="sxs-lookup"><span data-stu-id="3574a-156">Upon completing the Configure Data Source wizard, Visual Studio will automatically generate an `ItemTemplate` for the DataList that displays the name and value of each data field.</span></span> <span data-ttu-id="3574a-157">Załóżmy zwiększenia DataList, aby zamiast tego użyć `ItemTemplate` wyświetlający tylko nazwę produktu, kategoria, dostawca, ilość na jednostkę oraz cen wraz z `SeparatorTemplate` który injects `<hr>` element między każdym z elementów.</span><span class="sxs-lookup"><span data-stu-id="3574a-157">Let's enhance the DataList to instead use an `ItemTemplate` that displays just the product's name, category, supplier, quantity per unit, and price along with a `SeparatorTemplate` that injects an `<hr>` element between each item.</span></span> <span data-ttu-id="3574a-158">Będę używać `ItemTemplate` z przykładem w [wyświetlanie danych za pomocą DataList i kontrolki elementu powtarzanego](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-vb.md) samouczek, ale działanie może używać dowolnego oznaczenia szablonu możesz znaleźć najbardziej atrakcyjność.</span><span class="sxs-lookup"><span data-stu-id="3574a-158">I'm going to use the `ItemTemplate` from an example in the [Displaying Data with the DataList and Repeater Controls](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-vb.md) tutorial, but feel free to use whatever template markup you find most visually appealing.</span></span>

<span data-ttu-id="3574a-159">Po wprowadzeniu tych zmian, listy DataList i jego ObjectDataSource znaczników powinien wyglądać podobnie do następującego:</span><span class="sxs-lookup"><span data-stu-id="3574a-159">After making these changes, your DataList and its ObjectDataSource's markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-vb/samples/sample2.aspx)]

<span data-ttu-id="3574a-160">Poświęć chwilę, aby zapoznaj się z naszym postęp w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="3574a-160">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="3574a-161">Podczas odwiedzania najpierw strony, tych produktów należących do wybranej kategorii (napoje) są wyświetlane (jak pokazano na rysunku nr 9), ale zmiana DropDownList nie powoduje aktualizacji danych.</span><span class="sxs-lookup"><span data-stu-id="3574a-161">When first visiting the page, those products belonging to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="3574a-162">Jest to spowodowane odświeżania strony musi nastąpić DataList do aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="3574a-162">This is because a postback must occur for the DataList to update.</span></span> <span data-ttu-id="3574a-163">Firma Microsoft może być w tym celu ustaw DropDownList `AutoPostBack` właściwości `true` lub dodać kontrolkę przycisku sieci Web ze stroną.</span><span class="sxs-lookup"><span data-stu-id="3574a-163">To accomplish this we can either set the DropDownList's `AutoPostBack` property to `true` or add a Button Web control to the page.</span></span> <span data-ttu-id="3574a-164">W tym samouczku I została wybrana opcja można ustawić DropDownList `AutoPostBack` właściwości `true`.</span><span class="sxs-lookup"><span data-stu-id="3574a-164">For this tutorial, I've opted to set the DropDownList's `AutoPostBack` property to `true`.</span></span>

<span data-ttu-id="3574a-165">Rysunki 9 i 10 ilustrują raportu wzorzec/szczegół w akcji.</span><span class="sxs-lookup"><span data-stu-id="3574a-165">Figures 9 and 10 illustrate the master/detail report in action.</span></span>


<span data-ttu-id="3574a-166">[![Podczas odwiedzania najpierw strony, są wyświetlane produkty napoju](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-166">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image21.png)</span></span>

<span data-ttu-id="3574a-167">**Rysunek 9**: podczas odwiedzania najpierw strony, są wyświetlane produkty napoju ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-167">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image23.png))</span></span>


<span data-ttu-id="3574a-168">[![Automatyczne zaznaczanie nowego produktu (produktu) powoduje odświeżenie strony, aktualizowania elementu DataList](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-168">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image24.png)</span></span>

<span data-ttu-id="3574a-169">**Na rysunku nr 10**: zaznaczenie nowego produktu (produktu) automatycznie powoduje odświeżenie strony, aktualizowania elementu DataList ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-169">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image26.png))</span></span>


## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="3574a-170">Dodawanie elementu listy "--Wybierz kategorię--"</span><span class="sxs-lookup"><span data-stu-id="3574a-170">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="3574a-171">Podczas odwiedzania najpierw `FilterByDropDownList.aspx` strony kategorie lista DropDownList na pierwszy element listy (napoje) jest domyślnie zaznaczona, przedstawiający produktów napoju w elementu DataList.</span><span class="sxs-lookup"><span data-stu-id="3574a-171">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the DataList.</span></span> <span data-ttu-id="3574a-172">W *wzorzec/szczegół filtrowania z DropDownList* samouczek dodaliśmy użyć opcji "--Wybierz kategorię--" Aby DropDownList, został domyślnie zaznaczone, a następnie wyświetlane po wybraniu *wszystkie* z produkty w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="3574a-172">In the *Master/Detail Filtering With a DropDownList* tutorial we added a "-- Choose a Category --" option to the DropDownList that was selected by default and, when selected, displayed *all* of the products in the database.</span></span> <span data-ttu-id="3574a-173">Takie podejście była zarządzane podczas wyświetlania produktów w widoku GridView, jak każdy wiersz produktu trwało się niewielkie nieruchomości ekranu.</span><span class="sxs-lookup"><span data-stu-id="3574a-173">Such an approach was manageable when listing the products in a GridView, as each product row took up a small amount of screen real estate.</span></span> <span data-ttu-id="3574a-174">Z DataList jednak informacji każdego produktu zużywa dużo większą fragmentu ekranu.</span><span class="sxs-lookup"><span data-stu-id="3574a-174">With the DataList, however, each product's information consumes a much larger chunk of the screen.</span></span> <span data-ttu-id="3574a-175">Nadal umożliwia dodać opcji "--Wybierz kategorię--" jest domyślnie zaznaczone, a zamiast je wszystkie produkty po wybraniu Skonfigurujmy go tak, aby pokazywał produktów.</span><span class="sxs-lookup"><span data-stu-id="3574a-175">Let's still add a "-- Choose a Category --" option and have it selected by default, but instead of having it show all products when selected, let's configure it so that it shows no products.</span></span>

<span data-ttu-id="3574a-176">Aby dodać nowy element listy do DropDownList, przejdź do okna właściwości, a następnie kliknij wielokropek w `Items` właściwości.</span><span class="sxs-lookup"><span data-stu-id="3574a-176">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="3574a-177">Dodaj nowy element listy z `Text` "--Wybierz kategorię--" i `Value` `0`.</span><span class="sxs-lookup"><span data-stu-id="3574a-177">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `0`.</span></span>


![Dodaj](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image27.png)

<span data-ttu-id="3574a-179">**Rysunek 11**: Dodawanie elementu listy "--Wybierz kategorię--"</span><span class="sxs-lookup"><span data-stu-id="3574a-179">**Figure 11**: Add a "-- Choose a Category --" List Item</span></span>


<span data-ttu-id="3574a-180">Alternatywnie można dodać elementu listy, dodając następujący kod do DropDownList:</span><span class="sxs-lookup"><span data-stu-id="3574a-180">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-vb/samples/sample3.aspx)]

<span data-ttu-id="3574a-181">Ponadto należy ustawić kontrolę lista DropDownList `AppendDataBoundItems` do `true` ponieważ jeśli jest ustawiona na `false` (domyślnie), gdy kategorie są powiązane z DropDownList z ObjectDataSource będzie zastępują żadnej listy dodane ręcznie elementy.</span><span class="sxs-lookup"><span data-stu-id="3574a-181">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to `true` because if it's set to `false` (the default), when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items.</span></span>


![Ustaw wartość True dla właściwości AppendDataBoundItems](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image28.png)

<span data-ttu-id="3574a-183">**Rysunek 12**: Ustaw `AppendDataBoundItems` właściwości na wartość True</span><span class="sxs-lookup"><span data-stu-id="3574a-183">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>


<span data-ttu-id="3574a-184">Powód Wybraliśmy wartości `0` listy "--Wybierz kategorię--" elementu jest, ponieważ nie ma żadnych kategorii w systemie o wartości `0`, dlatego zostaną zwrócone żadne rekordy produktu po wybraniu elementu listy "--Wybierz kategorię--".</span><span class="sxs-lookup"><span data-stu-id="3574a-184">The reason we chose the value `0` for the "-- Choose a Category --" list item is because there are no categories in the system with a value of `0`, hence no product records will be returned when the "-- Choose a Category --" list item is selected.</span></span> <span data-ttu-id="3574a-185">Można to potwierdzić, Poświęć chwilę, aby odwiedzić stronę za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="3574a-185">To confirm this, take a moment to visit the page through a browser.</span></span> <span data-ttu-id="3574a-186">Jak rysunku 13 przedstawiono, przy pierwszym Przeglądanie strony elementu listy "--Wybierz kategorię--" jest zaznaczone i produkty nie są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="3574a-186">As Figure 13 shows, when initially viewing the page the "-- Choose a Category --" list item is selected and no products are displayed.</span></span>


<span data-ttu-id="3574a-187">[![Gdy](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="3574a-187">[![When the](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image29.png)</span></span>

<span data-ttu-id="3574a-188">**Rysunek 13**: po wybraniu elementu "--Wybierz kategorię--" listy produktów nie są wyświetlane ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="3574a-188">**Figure 13**: When the "-- Choose a Category --" List Item is Selected, No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image31.png))</span></span>


<span data-ttu-id="3574a-189">Jeśli zamiast pojawiłyby *wszystkie* produktów po wybraniu opcji "--Wybierz kategorię —" Użyj wartości elementu `-1` zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="3574a-189">If you'd rather display *all* of the products when the "-- Choose a Category --" option is selected, use a value of `-1` instead.</span></span> <span data-ttu-id="3574a-190">Astute czytnik będzie przypominać tego Wstecz w *wzorzec/szczegół filtrowania z DropDownList* samouczek Zaktualizowaliśmy `ProductsBLL` klasy `GetProductsByCategoryID(categoryID)` metody, aby Jeśli *`categoryID`* wartość `-1` przekazano produktu wszystkie rekordy zostały zwrócone.</span><span class="sxs-lookup"><span data-stu-id="3574a-190">The astute reader will recall that back in the *Master/Detail Filtering With a DropDownList* tutorial we updated the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method so that if a *`categoryID`* value of `-1` was passed in, all product records were returned.</span></span>

## <a name="summary"></a><span data-ttu-id="3574a-191">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="3574a-191">Summary</span></span>

<span data-ttu-id="3574a-192">Podczas wyświetlania danych dotyczących hierarchicznie, pomaga często zawierają dane przy użyciu wzorzec/szczegół raportów, z których użytkownik może uruchomić perusing danych od góry hierarchii i przejść do szczegółów.</span><span class="sxs-lookup"><span data-stu-id="3574a-192">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="3574a-193">W tym samouczku będziemy zbadane, tworzenie prostego główny/szczegółowy raport pokazujący wybranej kategorii produktów.</span><span class="sxs-lookup"><span data-stu-id="3574a-193">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="3574a-194">Zostało to zrobić za pomocą DropDownList listy kategorii i DataList produktów należących do wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="3574a-194">This was accomplished by using a DropDownList for the list of categories and a DataList for the products belonging to the selected category.</span></span>

<span data-ttu-id="3574a-195">W następnym samouczku przyjrzymy oddzielanie rekordów wzorzec i szczegóły między dwoma stronami.</span><span class="sxs-lookup"><span data-stu-id="3574a-195">In the next tutorial we'll look at separating the master and details records across two pages.</span></span> <span data-ttu-id="3574a-196">Na pierwszej stronie listę rekordów "główny" będą wyświetlane, Link, aby wyświetlić szczegóły.</span><span class="sxs-lookup"><span data-stu-id="3574a-196">In the first page, a list of "master" records will be displayed, with a link to view the details.</span></span> <span data-ttu-id="3574a-197">Kliknięcie łącza zostanie whisk użytkownika do drugiej strony, które będą wyświetlane szczegóły dla wybranego rekordu głównego.</span><span class="sxs-lookup"><span data-stu-id="3574a-197">Clicking on the link will whisk the user to the second page, which will display the details for the selected master record.</span></span>

<span data-ttu-id="3574a-198">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="3574a-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="3574a-199">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="3574a-199">About the Author</span></span>

<span data-ttu-id="3574a-200">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="3574a-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="3574a-201">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="3574a-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="3574a-202">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="3574a-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="3574a-203">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="3574a-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="3574a-204">Specjalne podziękowania dla...</span><span class="sxs-lookup"><span data-stu-id="3574a-204">Special Thanks To…</span></span>

<span data-ttu-id="3574a-205">Ten samouczek serii zostało sprawdzone przez wiele recenzentów przydatne.</span><span class="sxs-lookup"><span data-stu-id="3574a-205">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="3574a-206">Recenzenta realizacji w tym samouczku został Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="3574a-206">Lead reviewer for this tutorial was Randy Schmidt.</span></span> <span data-ttu-id="3574a-207">Zainteresowani recenzowania Moje nadchodzących artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="3574a-207">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="3574a-208">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="3574a-208">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3574a-209">[Poprzednie](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)
> [dalej](master-detail-filtering-acess-two-pages-datalist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="3574a-209">[Previous](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)
[Next](master-detail-filtering-acess-two-pages-datalist-vb.md)</span></span>
