---
uid: web-forms/overview/data-access/custom-button-actions-with-the-datalist-and-repeater/custom-buttons-in-the-datalist-and-repeater-vb
title: Przyciski niestandardowe DataList i powtarzanego (VB) | Dokumentacja firmy Microsoft
author: rick-anderson
description: W tym samouczku będziesz budujemy interfejs, który używa elementu powtarzanego do listy kategorii w systemie, z każdej kategorii, zapewniając przycisk, aby wyświetlić jego associ...
ms.author: aspnetcontent
manager: wpickett
ms.date: 11/13/2006
ms.topic: article
ms.assetid: 1afdb14d-6e49-4e1f-aead-2934730d472e
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/custom-button-actions-with-the-datalist-and-repeater/custom-buttons-in-the-datalist-and-repeater-vb
msc.type: authoredcontent
ms.openlocfilehash: 6e470590252102c486bb72ff46f516180aa09ba8
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
ms.locfileid: "30876088"
---
<a name="custom-buttons-in-the-datalist-and-repeater-vb"></a><span data-ttu-id="7d525-103">Przyciski niestandardowe DataList i powtarzanego (VB)</span><span class="sxs-lookup"><span data-stu-id="7d525-103">Custom Buttons in the DataList and Repeater (VB)</span></span>
====================
<span data-ttu-id="7d525-104">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7d525-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7d525-105">[Pobierz przykładową aplikację](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_46_VB.exe) lub [pobierania plików PDF](custom-buttons-in-the-datalist-and-repeater-vb/_static/datatutorial46vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="7d525-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_46_VB.exe) or [Download PDF](custom-buttons-in-the-datalist-and-repeater-vb/_static/datatutorial46vb1.pdf)</span></span>

> <span data-ttu-id="7d525-106">W tym samouczku będziesz budujemy interfejs, który używa elementu powtarzanego do listy kategorii w systemie, z każdej kategorii, zapewniając przycisk Pokaż związane z nimi za pomocą formantu listy BulletedList produkty.</span><span class="sxs-lookup"><span data-stu-id="7d525-106">In this tutorial we'll build an interface that uses a Repeater to list the categories in the system, with each category providing a button to show its associated products using a BulletedList control.</span></span>


## <a name="introduction"></a><span data-ttu-id="7d525-107">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="7d525-107">Introduction</span></span>

<span data-ttu-id="7d525-108">W ciągu ostatnich samouczki siedemnaście DataList i powtarzanego możemy utworzyć kolejnych zarówno przykłady tylko do odczytu i edytowanie i usuwanie przykłady.</span><span class="sxs-lookup"><span data-stu-id="7d525-108">Throughout the past seventeen DataList and Repeater tutorials, we ve created both read-only examples and editing and deleting examples.</span></span> <span data-ttu-id="7d525-109">Aby ułatwić edytowanie i usuwanie funkcji wewnątrz elementu DataList, dodaliśmy przyciski do DataList s `ItemTemplate` , po kliknięciu spowodowany odświeżania strony i wywołał zdarzenie DataList odpowiadający przycisk s `CommandName` właściwości.</span><span class="sxs-lookup"><span data-stu-id="7d525-109">To facilitate editing and deleting capabilities within a DataList, we added buttons to the DataList s `ItemTemplate` that, when clicked, caused a postback and raised a DataList event corresponding to the button s `CommandName` property.</span></span> <span data-ttu-id="7d525-110">Na przykład dodawanie przycisku do `ItemTemplate` z `CommandName` wartość właściwości edycji powoduje DataList s `EditCommand` uruchomienie na ogłaszania zwrotnego; z `CommandName` usunąć zgłasza `DeleteCommand`.</span><span class="sxs-lookup"><span data-stu-id="7d525-110">For example, adding a button to the `ItemTemplate` with a `CommandName` property value of Edit causes the DataList s `EditCommand` to fire on postback; one with the `CommandName` Delete raises the `DeleteCommand`.</span></span>

<span data-ttu-id="7d525-111">Ponadto do edytowania i usuwania przycisków, formant DataList i powtarzanego mogą również obejmować przycisków, LinkButtons lub ImageButtons, po kliknięciu wykonać niektóre niestandardowej logiki po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="7d525-111">In addition to Edit and Delete buttons, the DataList and Repeater controls can also include Buttons, LinkButtons, or ImageButtons that, when clicked, perform some custom server-side logic.</span></span> <span data-ttu-id="7d525-112">W tym samouczku będziesz budujemy interfejs, który używa elementu powtarzanego do listy kategorii w systemie.</span><span class="sxs-lookup"><span data-stu-id="7d525-112">In this tutorial we'll build an interface that uses a Repeater to list the categories in the system.</span></span> <span data-ttu-id="7d525-113">W przypadku każdej kategorii powtarzanego zawiera przycisk, aby wyświetlić kategorii produktów s skojarzone za pomocą formantu listy BulletedList (zobacz rysunek 1).</span><span class="sxs-lookup"><span data-stu-id="7d525-113">For each category, the Repeater will include a button to show the category s associated products using a BulletedList control (see Figure 1).</span></span>


<span data-ttu-id="7d525-114">[![Klikając przycisk Pokaż produktów łącze Wyświetla kategorii produktów s na liście punktowanej](custom-buttons-in-the-datalist-and-repeater-vb/_static/image2.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="7d525-114">[![Clicking the Show Products Link Displays the Category s Products in a Bulleted List](custom-buttons-in-the-datalist-and-repeater-vb/_static/image2.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image1.png)</span></span>

<span data-ttu-id="7d525-115">**Rysunek 1**: kliknięcie Wyświetla Pokaż łącze produktów kategorii s produktów na liście punktowanej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](custom-buttons-in-the-datalist-and-repeater-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="7d525-115">**Figure 1**: Clicking the Show Products Link Displays the Category s Products in a Bulleted List ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-vb/_static/image3.png))</span></span>


## <a name="step-1-adding-the-custom-button-tutorial-web-pages"></a><span data-ttu-id="7d525-116">Krok 1: Dodawanie przycisku niestandardowego samouczka stron sieci Web</span><span class="sxs-lookup"><span data-stu-id="7d525-116">Step 1: Adding the Custom Button Tutorial Web Pages</span></span>

<span data-ttu-id="7d525-117">Zanim przyjrzymy sposób dodawania niestandardowych przycisk umożliwiają s najpierw Poświęć chwilę, aby utworzyć stron ASP.NET w naszym projekt witryny sieci Web, które będą potrzebne w tym samouczku.</span><span class="sxs-lookup"><span data-stu-id="7d525-117">Before we look at how to add a custom button, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial.</span></span> <span data-ttu-id="7d525-118">Rozpocznij od dodania nowy folder o nazwie `CustomButtonsDataListRepeater`.</span><span class="sxs-lookup"><span data-stu-id="7d525-118">Start by adding a new folder named `CustomButtonsDataListRepeater`.</span></span> <span data-ttu-id="7d525-119">Następnie dodaj następujące dwie strony ASP.NET do tego folderu, upewniając się skojarzyć każdą stronę z `Site.master` strony głównej:</span><span class="sxs-lookup"><span data-stu-id="7d525-119">Next, add the following two ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `CustomButtons.aspx`


![Dodawanie stron ASP.NET niestandardowe samouczki dotyczące przycisków](custom-buttons-in-the-datalist-and-repeater-vb/_static/image4.png)

<span data-ttu-id="7d525-121">**Rysunek 2**: Dodawanie stron ASP.NET niestandardowe samouczki dotyczące przycisków</span><span class="sxs-lookup"><span data-stu-id="7d525-121">**Figure 2**: Add the ASP.NET Pages for the Custom Buttons-Related Tutorials</span></span>


<span data-ttu-id="7d525-122">Podobnie jak w innych folderach `Default.aspx` w `CustomButtonsDataListRepeater` folderu spowoduje wyświetlenie listy samouczków w sekcji.</span><span class="sxs-lookup"><span data-stu-id="7d525-122">Like in the other folders, `Default.aspx` in the `CustomButtonsDataListRepeater` folder will list the tutorials in its section.</span></span> <span data-ttu-id="7d525-123">Odwołania, który `SectionLevelTutorialListing.ascx` kontrola użytkownika zapewnia tę funkcję.</span><span class="sxs-lookup"><span data-stu-id="7d525-123">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="7d525-124">Dodaj formant użytkownika `Default.aspx` przeciągając je z Eksploratora rozwiązań na stronę s widoku Projekt.</span><span class="sxs-lookup"><span data-stu-id="7d525-124">Add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>


<span data-ttu-id="7d525-125">[![Dodaj kontrolkę użytkownika SectionLevelTutorialListing.ascx do Default.aspx](custom-buttons-in-the-datalist-and-repeater-vb/_static/image6.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="7d525-125">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](custom-buttons-in-the-datalist-and-repeater-vb/_static/image6.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image5.png)</span></span>

<span data-ttu-id="7d525-126">**Rysunek 3**: Dodaj `SectionLevelTutorialListing.ascx` formantu użytkownika `Default.aspx` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](custom-buttons-in-the-datalist-and-repeater-vb/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="7d525-126">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-vb/_static/image7.png))</span></span>


<span data-ttu-id="7d525-127">Ponadto dodanie stron jako wpisów `Web.sitemap` pliku.</span><span class="sxs-lookup"><span data-stu-id="7d525-127">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="7d525-128">W szczególności, Dodaj następujący kod po stronicowania i sortowania DataList i powtarzanego `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="7d525-128">Specifically, add the following markup after the Paging and Sorting with the DataList and Repeater `<siteMapNode>`:</span></span>


[!code-xml[Main](custom-buttons-in-the-datalist-and-repeater-vb/samples/sample1.xml)]

<span data-ttu-id="7d525-129">Po zaktualizowaniu `Web.sitemap`, Poświęć chwilę, aby wyświetlić witrynę sieci Web samouczki, za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="7d525-129">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="7d525-130">Menu po lewej stronie zawiera teraz elementy edytowanie, wstawianie i usuwanie samouczki.</span><span class="sxs-lookup"><span data-stu-id="7d525-130">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![Mapy witryny zawiera teraz wpis samouczek przyciski niestandardowe](custom-buttons-in-the-datalist-and-repeater-vb/_static/image8.png)

<span data-ttu-id="7d525-132">**Rysunek 4**: mapy witryny zawiera teraz wpis samouczek przyciski niestandardowe</span><span class="sxs-lookup"><span data-stu-id="7d525-132">**Figure 4**: The Site Map Now Includes the Entry for the Custom Buttons Tutorial</span></span>


## <a name="step-2-adding-the-list-of-categories"></a><span data-ttu-id="7d525-133">Krok 2: Dodawanie listy kategorii</span><span class="sxs-lookup"><span data-stu-id="7d525-133">Step 2: Adding the List of Categories</span></span>

<span data-ttu-id="7d525-134">W tym samouczku należy utworzyć elementu powtarzanego, w którym wyświetlane są wszystkie kategorie wraz z element LinkButton Pokaż produktów, kliknięcie spowoduje wyświetlenie produktów kategorii skojarzona s na liście punktowanej.</span><span class="sxs-lookup"><span data-stu-id="7d525-134">For this tutorial we need to create a Repeater that lists all categories along with a Show Products LinkButton that, when clicked, displays the associated category s products in a bulleted list.</span></span> <span data-ttu-id="7d525-135">Let s najpierw utworzyć prosty elementu powtarzanego, który zawiera listę kategorii w systemie.</span><span class="sxs-lookup"><span data-stu-id="7d525-135">Let s first create a simple Repeater that lists the categories in the system.</span></span> <span data-ttu-id="7d525-136">Uruchamianie przez otwarcie `CustomButtons.aspx` strony `CustomButtonsDataListRepeater` folderu.</span><span class="sxs-lookup"><span data-stu-id="7d525-136">Start by opening the `CustomButtons.aspx` page in the `CustomButtonsDataListRepeater` folder.</span></span> <span data-ttu-id="7d525-137">Przeciągnij elementu powtarzanego z przybornika do projektanta i zestaw jej `ID` właściwości `Categories`.</span><span class="sxs-lookup"><span data-stu-id="7d525-137">Drag a Repeater from the Toolbox onto the Designer and set its `ID` property to `Categories`.</span></span> <span data-ttu-id="7d525-138">Następnie należy utworzyć nowe kontroli źródła danych z tagów inteligentnych s elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="7d525-138">Next, create a new data source control from the Repeater s smart tag.</span></span> <span data-ttu-id="7d525-139">W szczególności utworzyć nowe kontrolki ObjectDataSource o nazwie `CategoriesDataSource` który wybiera dane z `CategoriesBLL` klasy s `GetCategories()` metody.</span><span class="sxs-lookup"><span data-stu-id="7d525-139">Specifically, create a new ObjectDataSource control named `CategoriesDataSource` that selects its data from the `CategoriesBLL` class s `GetCategories()` method.</span></span>


<span data-ttu-id="7d525-140">[![Skonfiguruj element ObjectDataSource przy użyciu metody GetCategories() s CategoriesBLL — klasa](custom-buttons-in-the-datalist-and-repeater-vb/_static/image10.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="7d525-140">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories() Method](custom-buttons-in-the-datalist-and-repeater-vb/_static/image10.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image9.png)</span></span>

<span data-ttu-id="7d525-141">**Rysunek 5**: Konfigurowanie ObjectDataSource użyć `CategoriesBLL` klasy s `GetCategories()` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](custom-buttons-in-the-datalist-and-repeater-vb/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="7d525-141">**Figure 5**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories()` Method ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-vb/_static/image11.png))</span></span>


<span data-ttu-id="7d525-142">W odróżnieniu od formant DataList, dla którego program Visual Studio tworzy domyślną `ItemTemplate` oparte na źródle danych, szablonów elementu powtarzanego s należy ręcznie zdefiniować.</span><span class="sxs-lookup"><span data-stu-id="7d525-142">Unlike the DataList control, for which Visual Studio creates a default `ItemTemplate` based on the data source, the Repeater s templates must be manually defined.</span></span> <span data-ttu-id="7d525-143">Ponadto szablonów elementu powtarzanego s muszą być utworzone i edytowane deklaratywnie (to znaczy występują s nie Edytuj szablony opcja w tagu elementu powtarzanego s).</span><span class="sxs-lookup"><span data-stu-id="7d525-143">Furthermore, the Repeater s templates must be created and edited declaratively (that is, there s no Edit Templates option in the Repeater s smart tag).</span></span>

<span data-ttu-id="7d525-144">Kliknij na karcie Źródło w lewym dolnym rogu i Dodaj `ItemTemplate` który wyświetla nazwę kategorii s w `<h3>` elementu i jego opis akapitu znacznik; obejmują `SeparatorTemplate` wyświetlający linia pozioma (`<hr />`) między nimi Kategoria.</span><span class="sxs-lookup"><span data-stu-id="7d525-144">Click on the Source tab in the bottom left corner and add an `ItemTemplate` that displays the category s name in an `<h3>` element and its description in a paragraph tag; include a `SeparatorTemplate` that displays a horizontal rule (`<hr />`) between each category.</span></span> <span data-ttu-id="7d525-145">Również dodać LinkButton z jego `Text` właściwość Pokaż produktów.</span><span class="sxs-lookup"><span data-stu-id="7d525-145">Also add a LinkButton with its `Text` property set to Show Products.</span></span> <span data-ttu-id="7d525-146">Po wykonaniu tych kroków, znaczniki deklaratywne s strony powinien wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="7d525-146">After completing these steps, your page s declarative markup should look like the following:</span></span>


[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-vb/samples/sample2.aspx)]

<span data-ttu-id="7d525-147">Rysunek 6 przedstawia stronie podczas przeglądania za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="7d525-147">Figure 6 shows the page when viewed through a browser.</span></span> <span data-ttu-id="7d525-148">Każda nazwa i opis kategorii znajduje się.</span><span class="sxs-lookup"><span data-stu-id="7d525-148">Each category name and description is listed.</span></span> <span data-ttu-id="7d525-149">Pokaż produktów po kliknięciu przycisku, powoduje odświeżenie strony, ale nie wykonuje jeszcze żadnych działań.</span><span class="sxs-lookup"><span data-stu-id="7d525-149">The Show Products button, when clicked, causes a postback but does not yet perform any action.</span></span>


<span data-ttu-id="7d525-150">[![Każda kategoria s nazwę i opis zostanie wyświetlona, wraz z element LinkButton Pokaż produktów](custom-buttons-in-the-datalist-and-repeater-vb/_static/image13.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="7d525-150">[![Each Category s Name and Description is Displayed, Along with a Show Products LinkButton](custom-buttons-in-the-datalist-and-repeater-vb/_static/image13.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image12.png)</span></span>

<span data-ttu-id="7d525-151">**Rysunek 6**: s kategorii każdą nazwę i opis zostanie wyświetlona, wraz z element LinkButton produktów Pokaż ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](custom-buttons-in-the-datalist-and-repeater-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="7d525-151">**Figure 6**: Each Category s Name and Description is Displayed, Along with a Show Products LinkButton ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-vb/_static/image14.png))</span></span>


## <a name="step-3-executing-server-side-logic-when-the-show-products-linkbutton-is-clicked"></a><span data-ttu-id="7d525-152">Krok 3: Wykonywanie po stronie serwera logiki podczas Pokaż produktów LinkButton zostanie kliknięty.</span><span class="sxs-lookup"><span data-stu-id="7d525-152">Step 3: Executing Server-Side Logic When the Show Products LinkButton is Clicked</span></span>

<span data-ttu-id="7d525-153">W dowolnym momencie po kliknięciu przycisku, LinkButton lub ImageButton w szablon DataList lub elementu powtarzanego odświeżania strony występuje i s DataList lub elementu powtarzanego `ItemCommand` generowane zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="7d525-153">Anytime a Button, LinkButton, or ImageButton within a template in a DataList or Repeater is clicked, a postback occurs and the DataList or Repeater s `ItemCommand` event fires.</span></span> <span data-ttu-id="7d525-154">Oprócz `ItemCommand` zdarzeń, DataList formant może też wiązać się z zdarzeń, bardziej szczegółowe Jeśli przycisk s `CommandName` właściwość jest ustawiona na jeden z zarezerwowanych ciągów (usuwanie, edytowanie, Anuluj, aktualizacji lub wybierz), ale `ItemCommand` zdarzenie jest *zawsze* uruchamiany.</span><span class="sxs-lookup"><span data-stu-id="7d525-154">In addition to the `ItemCommand` event, the DataList control may also raise another, more specific event if the button s `CommandName` property is set to one of the reserved strings ( Delete, Edit, Cancel, Update, or Select ), but the `ItemCommand` event is *always* fired.</span></span>

<span data-ttu-id="7d525-155">Po kliknięciu przycisku wewnątrz elementu DataList lub elementu powtarzanego często musimy przekazują (takich jak który przycisk został kliknięty (w przypadku, może wystąpić wiele przycisków w formancie, takich jak zarówno edycji, a przycisk Usuń) i być może dodatkowe informacje wartość klucza podstawowego elementu, którego przycisk został kliknięty).</span><span class="sxs-lookup"><span data-stu-id="7d525-155">When a button is clicked within a DataList or Repeater, oftentimes we need to pass along which button was clicked (in the case that there may be multiple buttons within the control, such as both an Edit and Delete button) and perhaps some additional information (such as the primary key value of the item whose button was clicked).</span></span> <span data-ttu-id="7d525-156">Przycisk LinkButton i ImageButton Podaj dwie właściwości, których wartości są przekazywane do `ItemCommand` obsługi zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="7d525-156">The Button, LinkButton, and ImageButton provide two properties whose values are passed to the `ItemCommand` event handler:</span></span>

- <span data-ttu-id="7d525-157">`CommandName` ciąg zazwyczaj używany do identyfikowania każdego przycisku w szablonie</span><span class="sxs-lookup"><span data-stu-id="7d525-157">`CommandName` a string typically used to identify each button in the template</span></span>
- <span data-ttu-id="7d525-158">`CommandArgument` często używane do przechowywania wartości niektóre pola danych, takie jak wartości klucza podstawowego</span><span class="sxs-lookup"><span data-stu-id="7d525-158">`CommandArgument` commonly used to hold the value of some data field, such as the primary key value</span></span>

<span data-ttu-id="7d525-159">Na przykład ustawić LinkButton s `CommandName` właściwości ShowProducts i powiązania bieżącej wartości klucza podstawowego rekordu s `CategoryID` do `CommandArgument` właściwości przy użyciu składni wiązania z danymi `CategoryArgument='<%# Eval("CategoryID") %>'`.</span><span class="sxs-lookup"><span data-stu-id="7d525-159">For this example, set the LinkButton s `CommandName` property to ShowProducts and bind the current record s primary key value `CategoryID` to the `CommandArgument` property using the databinding syntax `CategoryArgument='<%# Eval("CategoryID") %>'`.</span></span> <span data-ttu-id="7d525-160">Po określeniu te dwie właściwości, składni deklaratywnej s LinkButton powinna wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="7d525-160">After specifying these two properties, the LinkButton s declarative syntax should look like the following:</span></span>


[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-vb/samples/sample3.aspx)]

<span data-ttu-id="7d525-161">Po kliknięciu przycisku, występuje odświeżania strony i s DataList lub elementu powtarzanego `ItemCommand` generowane zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="7d525-161">When the button is clicked, a postback occurs and the DataList or Repeater s `ItemCommand` event fires.</span></span> <span data-ttu-id="7d525-162">Program obsługi zdarzeń jest przekazywany przycisk s `CommandName` i `CommandArgument` wartości.</span><span class="sxs-lookup"><span data-stu-id="7d525-162">The event handler is passed the button s `CommandName` and `CommandArgument` values.</span></span>

<span data-ttu-id="7d525-163">Utwórz program obsługi zdarzeń dla elementu powtarzanego s `ItemCommand` zdarzeń i zanotuj drugi parametr przekazany do obsługi zdarzeń (nazwane `e`).</span><span class="sxs-lookup"><span data-stu-id="7d525-163">Create an event handler for the Repeater s `ItemCommand` event and note the second parameter passed into the event handler (named `e`).</span></span> <span data-ttu-id="7d525-164">Jest to drugi parametr typu [ `RepeaterCommandEventArgs` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeatercommandeventargs.aspx) i ma cztery następujące właściwości:</span><span class="sxs-lookup"><span data-stu-id="7d525-164">This second parameter is of type [`RepeaterCommandEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeatercommandeventargs.aspx) and has the following four properties:</span></span>

- <span data-ttu-id="7d525-165">`CommandArgument` wartość kliknięty przycisk s `CommandArgument` właściwości</span><span class="sxs-lookup"><span data-stu-id="7d525-165">`CommandArgument` the value of the clicked button s `CommandArgument` property</span></span>
- <span data-ttu-id="7d525-166">`CommandName` Wartość przycisku s `CommandName` właściwości</span><span class="sxs-lookup"><span data-stu-id="7d525-166">`CommandName` the value of the button s `CommandName` property</span></span>
- <span data-ttu-id="7d525-167">`CommandSource` Odwołanie do formantu przycisku, który został kliknięty</span><span class="sxs-lookup"><span data-stu-id="7d525-167">`CommandSource` a reference to the button control that was clicked</span></span>
- <span data-ttu-id="7d525-168">`Item` Odwołanie do [ `RepeaterItem` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem.aspx) zawiera przycisk został kliknięty; każdy rekord powiązany powtarzanego jest dyskowe wyświetlane jako `RepeaterItem`</span><span class="sxs-lookup"><span data-stu-id="7d525-168">`Item` a reference to the [`RepeaterItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem.aspx) that contains the button that was clicked; each record bound to the Repeater is manifested as a `RepeaterItem`</span></span>

<span data-ttu-id="7d525-169">Od wybranej kategorii s `CategoryID` przekazany za pośrednictwem `CommandArgument` właściwości, możemy Pobierz zestaw produktów skojarzonych z wybranej kategorii w `ItemCommand` obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="7d525-169">Since the selected category s `CategoryID` is passed in via the `CommandArgument` property, we can get the set of products associated with the selected category in the `ItemCommand` event handler.</span></span> <span data-ttu-id="7d525-170">Następnie można powiązać te produkty formantu listy BulletedList w `ItemTemplate` (których firma Microsoft kolejnych jeszcze, aby dodać).</span><span class="sxs-lookup"><span data-stu-id="7d525-170">These products can then be bound to a BulletedList control in the `ItemTemplate` (which we ve yet to add).</span></span> <span data-ttu-id="7d525-171">Wszystkie, pozostaje, a następnie jest dodanie listy BulletedList, odwołania `ItemCommand` obsługi zdarzeń i powiązać zestawu produktów dla wybranej kategorii, firma Microsoft będzie rozwiązania w kroku 4.</span><span class="sxs-lookup"><span data-stu-id="7d525-171">All that remains, then, is to add the BulletedList, reference it in the `ItemCommand` event handler, and bind to it the set of products for the selected category, which we'll tackle in Step 4.</span></span>

> [!NOTE]
> <span data-ttu-id="7d525-172">DataList s `ItemCommand` program obsługi zdarzeń jest przekazywany obiekt typu [ `DataListCommandEventArgs` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistcommandeventargs.aspx), które oferuje te same właściwości cztery jako `RepeaterCommandEventArgs` klasy.</span><span class="sxs-lookup"><span data-stu-id="7d525-172">The DataList s `ItemCommand` event handler is passed an object of type [`DataListCommandEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistcommandeventargs.aspx), which offers the same four properties as the `RepeaterCommandEventArgs` class.</span></span>


## <a name="step-4-displaying-the-selected-category-s-products-in-a-bulleted-list"></a><span data-ttu-id="7d525-173">Krok 4: Wyświetlanie wybranej kategorii produktów s na liście punktowanej</span><span class="sxs-lookup"><span data-stu-id="7d525-173">Step 4: Displaying the Selected Category s Products in a Bulleted List</span></span>

<span data-ttu-id="7d525-174">Produkty wybranej kategorii s mogą być wyświetlane w elemencie powtarzanym s `ItemTemplate` przy użyciu dowolnej liczby formantów.</span><span class="sxs-lookup"><span data-stu-id="7d525-174">The selected category s products can be displayed within the Repeater s `ItemTemplate` using any number of controls.</span></span> <span data-ttu-id="7d525-175">Można dodać inny zagnieżdżone elementu powtarzanego, DataList DropDownList, GridView i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="7d525-175">We could add another nested Repeater, a DataList, a DropDownList, a GridView, and so on.</span></span> <span data-ttu-id="7d525-176">Ponieważ chcemy wyświetlić te produkty jako listy punktowane, jednak użyjemy formantu listy BulletedList.</span><span class="sxs-lookup"><span data-stu-id="7d525-176">Since we want to display the products as a bulleted list, though, we'll use the BulletedList control.</span></span> <span data-ttu-id="7d525-177">Powrót do `CustomButtons.aspx` stronie znaczników deklaratywne s, dodawanie do formantu listy BulletedList `ItemTemplate` po LinkButton Pokaż produktów.</span><span class="sxs-lookup"><span data-stu-id="7d525-177">Returning to the `CustomButtons.aspx` page s declarative markup, add a BulletedList control to the `ItemTemplate` after the Show Products LinkButton.</span></span> <span data-ttu-id="7d525-178">Ustaw BulletedLists s `ID` do `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="7d525-178">Set the BulletedLists s `ID` to `ProductsInCategory`.</span></span> <span data-ttu-id="7d525-179">Listy BulletedList Wyświetla wartość w polu danych określona za pomocą `DataTextField` właściwości; ponieważ ta kontrolka będzie miała informacji o produkcie powiązane z nim, ustaw `DataTextField` właściwości `ProductName`.</span><span class="sxs-lookup"><span data-stu-id="7d525-179">The BulletedList displays the value of the data field specified via the `DataTextField` property; since this control will have product information bound to it, set the `DataTextField` property to `ProductName`.</span></span>


[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-vb/samples/sample4.aspx)]

<span data-ttu-id="7d525-180">W `ItemCommand` program obsługi zdarzeń, odwoływać się przy użyciu tego formantu `e.Item.FindControl("ProductsInCategory")` i powiązać ją z zestawu skojarzonych z wybranej kategorii produktów.</span><span class="sxs-lookup"><span data-stu-id="7d525-180">In the `ItemCommand` event handler, reference this control using `e.Item.FindControl("ProductsInCategory")` and bind it to the set of products associated with the selected category.</span></span>


[!code-vb[Main](custom-buttons-in-the-datalist-and-repeater-vb/samples/sample5.vb)]

<span data-ttu-id="7d525-181">Przed wykonaniem dowolnej akcji w `ItemCommand` program obsługi zdarzeń, jego s, aby najpierw należy sprawdzić wartość przychodzącego `CommandName`.</span><span class="sxs-lookup"><span data-stu-id="7d525-181">Before performing any action in the `ItemCommand` event handler, it s prudent to first check the value of the incoming `CommandName`.</span></span> <span data-ttu-id="7d525-182">Ponieważ `ItemCommand` obsługi zdarzenia generowane, gdy *żadnych* przycisku, jeśli istnieje wiele przycisków w przypadku użycia szablonu `CommandName` wartość do wykrycia jaka akcja ma być.</span><span class="sxs-lookup"><span data-stu-id="7d525-182">Since the `ItemCommand` event handler fires when *any* button is clicked, if there are multiple buttons in the template use the `CommandName` value to discern what action to take.</span></span> <span data-ttu-id="7d525-183">Sprawdzanie `CommandName` Oto moot, ponieważ istnieje tylko jeden przycisk, ale jest dobrym nawyk do formularza.</span><span class="sxs-lookup"><span data-stu-id="7d525-183">Checking the `CommandName` here is moot, since we only have a single button, but it is a good habit to form.</span></span> <span data-ttu-id="7d525-184">Następnie `CategoryID` wybranej kategorii są pobierane z `CommandArgument` właściwości.</span><span class="sxs-lookup"><span data-stu-id="7d525-184">Next, the `CategoryID` of the selected category is retrieved from the `CommandArgument` property.</span></span> <span data-ttu-id="7d525-185">Formant listy BulletedList w szablonie jest odwołanie do i powiązany z wyników `ProductsBLL` klasy s `GetProductsByCategoryID(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="7d525-185">The BulletedList control in the template is then referenced and bound to the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span>

<span data-ttu-id="7d525-186">W poprzedniej samouczki, takie jak używane przyciski wewnątrz elementu DataList [omówienie edytowanie i usuwanie danych elementu DataList](../editing-and-deleting-data-through-the-datalist/an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md), Ustaliliśmy wartość klucza podstawowego danego elementu za pomocą `DataKeys` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="7d525-186">In previous tutorials that used the buttons within a DataList, such as [An Overview of Editing and Deleting Data in the DataList](../editing-and-deleting-data-through-the-datalist/an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md), we determined the primary key value of a given item via the `DataKeys` collection.</span></span> <span data-ttu-id="7d525-187">Chociaż to rozwiązanie działa dobrze z elementu DataList, nie ma powtarzanego `DataKeys` właściwości.</span><span class="sxs-lookup"><span data-stu-id="7d525-187">While this approach works well with the DataList, the Repeater does not have a `DataKeys` property.</span></span> <span data-ttu-id="7d525-188">Zamiast tego należy używamy o innym podejściu do podawania wartości klucza podstawowego, takich jak za pomocą przycisku s `CommandArgument` właściwości lub przypisując ukrytą kontrolkę etykiety w sieci Web w szablonie wartości klucza podstawowego i odczytywania wartości powrotem `ItemCommand`przy użyciu programu obsługi zdarzeń `e.Item.FindControl("LabelID")`.</span><span class="sxs-lookup"><span data-stu-id="7d525-188">Instead, we must use an alternative approach for supplying the primary key value, such as through the button s `CommandArgument` property or by assigning the primary key value to a hidden Label Web control within the template and reading its value back in the `ItemCommand` event handler using `e.Item.FindControl("LabelID")`.</span></span>

<span data-ttu-id="7d525-189">Po zakończeniu `ItemCommand` program obsługi zdarzeń, Poświęć chwilę, aby przetestować tę stronę w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="7d525-189">After completing the `ItemCommand` event handler, take a moment to test out this page in a browser.</span></span> <span data-ttu-id="7d525-190">Jak pokazano na rysunku 7, klikając przycisk Pokaż produktów łącze powoduje odświeżenie strony i wyświetla produktów dla wybranej kategorii listy BulletedList.</span><span class="sxs-lookup"><span data-stu-id="7d525-190">As Figure 7 shows, clicking the Show Products link causes a postback and displays the products for the selected category in a BulletedList.</span></span> <span data-ttu-id="7d525-191">Ponadto należy pamiętać, że pozostaje te informacje o produkcie, nawet jeśli kliknięciu innych kategorii produktów Pokaż łącza.</span><span class="sxs-lookup"><span data-stu-id="7d525-191">Furthermore, note that this product information remains, even if other categories Show Products links are clicked.</span></span>

> [!NOTE]
> <span data-ttu-id="7d525-192">Jeśli chcesz zmodyfikować zachowanie tego raportu tak, aby produkty tylko jedną kategorię s wymienione w czasie, wystarczy ustawić kontrolkę listy BulletedList s `EnableViewState` właściwości `False`.</span><span class="sxs-lookup"><span data-stu-id="7d525-192">If you want to modify the behavior of this report, such that the only one category s products are listed at a time, simply set the BulletedList control s `EnableViewState` property to `False`.</span></span>


<span data-ttu-id="7d525-193">[![Listy BulletedList służy do wyświetlania produktów wybranej kategorii](custom-buttons-in-the-datalist-and-repeater-vb/_static/image16.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="7d525-193">[![A BulletedList is used to Display the Products of the Selected Category](custom-buttons-in-the-datalist-and-repeater-vb/_static/image16.png)](custom-buttons-in-the-datalist-and-repeater-vb/_static/image15.png)</span></span>

<span data-ttu-id="7d525-194">**Rysunek 7**: A listy BulletedList służy do wyświetlania produktów wybranej kategorii ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](custom-buttons-in-the-datalist-and-repeater-vb/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="7d525-194">**Figure 7**: A BulletedList is used to Display the Products of the Selected Category ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-vb/_static/image17.png))</span></span>


## <a name="summary"></a><span data-ttu-id="7d525-195">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="7d525-195">Summary</span></span>

<span data-ttu-id="7d525-196">Formant DataList i powtarzanego może zawierać dowolną liczbę przycisków, LinkButtons lub ImageButtons w ich szablonów.</span><span class="sxs-lookup"><span data-stu-id="7d525-196">The DataList and Repeater controls can include any number of Buttons, LinkButtons, or ImageButtons within their templates.</span></span> <span data-ttu-id="7d525-197">Przyciski, po kliknięciu powoduje odświeżenie strony i zgłosi `ItemCommand` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="7d525-197">Such buttons, when clicked, cause a postback and raise the `ItemCommand` event.</span></span> <span data-ttu-id="7d525-198">Aby skojarzyć akcji niestandardowej po stronie serwera z przycisk zostanie kliknięty, utworzyć programu obsługi zdarzeń dla `ItemCommand` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="7d525-198">To associate custom server-side action with a button being clicked, create an event handler for the `ItemCommand` event.</span></span> <span data-ttu-id="7d525-199">W tej obsłudze zdarzeń sprawdź najpierw przychodzącego `CommandName` wartość, aby ustalić, który przycisk został kliknięty.</span><span class="sxs-lookup"><span data-stu-id="7d525-199">In this event handler first check the incoming `CommandName` value to determine which button was clicked.</span></span> <span data-ttu-id="7d525-200">Opcjonalnie można podać dodatkowe informacje za pomocą przycisku s `CommandArgument` właściwości.</span><span class="sxs-lookup"><span data-stu-id="7d525-200">Additional information can optionally be supplied through the button s `CommandArgument` property.</span></span>

<span data-ttu-id="7d525-201">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="7d525-201">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="7d525-202">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="7d525-202">About the Author</span></span>

<span data-ttu-id="7d525-203">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="7d525-203">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="7d525-204">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="7d525-204">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="7d525-205">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="7d525-205">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="7d525-206">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="7d525-206">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="7d525-207">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="7d525-207">Special Thanks To</span></span>

<span data-ttu-id="7d525-208">Ten samouczek serii zostało sprawdzone przez wiele recenzentów przydatne.</span><span class="sxs-lookup"><span data-stu-id="7d525-208">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="7d525-209">Recenzenta realizacji w tym samouczku został firmy Dennis Patterson.</span><span class="sxs-lookup"><span data-stu-id="7d525-209">Lead reviewer for this tutorial was Dennis Patterson.</span></span> <span data-ttu-id="7d525-210">Zainteresowani recenzowania Moje nadchodzących artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="7d525-210">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="7d525-211">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7d525-211">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="7d525-212">Poprzednie</span><span class="sxs-lookup"><span data-stu-id="7d525-212">Previous</span></span>](custom-buttons-in-the-datalist-and-repeater-cs.md)
