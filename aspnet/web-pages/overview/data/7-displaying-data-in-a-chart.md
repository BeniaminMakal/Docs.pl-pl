---
uid: web-pages/overview/data/7-displaying-data-in-a-chart
title: Wyświetlanie danych na wykresie ze stronami sieci Web platformy ASP.NET (Razor) | Dokumentacja firmy Microsoft
author: microsoft
description: W tym rozdziale opisano sposób wyświetlania danych na wykresie. W poprzednich rozdziałach przedstawiono sposób wyświetlania danych ręcznie, jak i w siatce. W tym rozdziale opisano...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/22/2012
ms.topic: article
ms.assetid: f889fd46-4dac-4ecb-83d8-60e64c22036e
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/data/7-displaying-data-in-a-chart
msc.type: authoredcontent
ms.openlocfilehash: 5cf17e54408d585e9a375b302b61b4e28d9b022a
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
ms.locfileid: "30899726"
---
<a name="displaying-data-in-a-chart-with-aspnet-web-pages-razor"></a><span data-ttu-id="a3b3e-105">Wyświetlanie danych na wykresie ze stronami sieci Web platformy ASP.NET (Razor)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-105">Displaying Data in a Chart with ASP.NET Web Pages (Razor)</span></span>
====================
<span data-ttu-id="a3b3e-106">przez [firmy Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-106">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="a3b3e-107">W tym artykule opisano sposób użycia wykresu do wyświetlania danych w witrynie sieci Web platformy ASP.NET Web Pages (Razor) przy użyciu `Chart` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-107">This article explains how to use a chart to display data in an ASP.NET Web Pages (Razor) website by using the `Chart` helper.</span></span>
> 
> <span data-ttu-id="a3b3e-108">**Dowiesz się**:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-108">**What you'll learn**:</span></span>
> 
> - <span data-ttu-id="a3b3e-109">Sposób wyświetlania danych na wykresie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-109">How to display data in a chart.</span></span>
> - <span data-ttu-id="a3b3e-110">Jak styl wykresów przy użyciu wbudowanych motywów.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-110">How to style charts using built-in themes.</span></span>
> - <span data-ttu-id="a3b3e-111">Aby zapisać wykresy oraz sposobu buforowania ich w celu zapewnienia lepszej wydajności.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-111">How to save charts and how to cache them for better performance.</span></span>
> 
> <span data-ttu-id="a3b3e-112">Są to programowania funkcje dodane w artykule programu ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-112">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="a3b3e-113">`Chart` Pomocnika.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-113">The `Chart` helper.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="a3b3e-114">Informacje przedstawione w tym artykule dotyczą 1.0 stron sieci Web ASP.NET i 2 stron sieci Web.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-114">The information in this article applies to ASP.NET Web Pages 1.0 and Web Pages 2.</span></span>


<a id="The_Chart_Helper"></a>
## <a name="the-chart-helper"></a><span data-ttu-id="a3b3e-115">Pomocnik wykresu</span><span class="sxs-lookup"><span data-stu-id="a3b3e-115">The Chart Helper</span></span>

<span data-ttu-id="a3b3e-116">Jeśli chcesz wyświetlać dane w formie graficznej, możesz użyć `Chart` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-116">When you want to display your data in graphical form, you can use `Chart` helper.</span></span> <span data-ttu-id="a3b3e-117">`Chart` Pomocnika może renderować obraz, który wyświetla dane w różnych typów wykresów.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-117">The `Chart` helper can render an image that displays data in a variety of chart types.</span></span> <span data-ttu-id="a3b3e-118">Obsługuje wiele opcji formatowania i etykietowania.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-118">It supports many options for formatting and labeling.</span></span> <span data-ttu-id="a3b3e-119">`Chart` Pomocnika umożliwiający renderowanie ponad 30 typów wykresów, w tym wszystkie typy wykresów, które mogą być znane z programu Microsoft Excel lub innych narzędzi &#8212; wykresy, wykresy słupkowe, wykresy kolumnowe, wykresy liniowe i wykresy kołowe wraz z więcej Wykresy specjalnych, takich jak wykresy standardowych.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-119">The `Chart` helper can render more than 30 types of charts, including all the types of charts that you might be familiar with from Microsoft Excel or other tools &#8212; area charts, bar charts, column charts, line charts, and pie charts, along with more specialized charts like stock charts.</span></span>

| <span data-ttu-id="a3b3e-120">**Wykres warstwowy** ![opis: obraz typu obszaru wykresu](7-displaying-data-in-a-chart/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-120">**Area chart** ![Description: Picture of the Area chart type](7-displaying-data-in-a-chart/_static/image1.jpg)</span></span> | <span data-ttu-id="a3b3e-121">**Wykres słupkowy** ![opis: obraz wykresu słupkowego](7-displaying-data-in-a-chart/_static/image2.jpg)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-121">**Bar chart** ![Description: Picture of the Bar chart type](7-displaying-data-in-a-chart/_static/image2.jpg)</span></span> |
| --- | --- |
| <span data-ttu-id="a3b3e-122">**Wykres kolumnowy** ![opis: obraz wykresu kolumnowego](7-displaying-data-in-a-chart/_static/image3.jpg)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-122">**Column chart** ![Description: Picture of the Column chart type](7-displaying-data-in-a-chart/_static/image3.jpg)</span></span> | <span data-ttu-id="a3b3e-123">**Wykres liniowy** ![opis: obraz typu wykresu wiersza](7-displaying-data-in-a-chart/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-123">**Line chart** ![Description: Picture of the Line chart type](7-displaying-data-in-a-chart/_static/image4.jpg)</span></span> |
| <span data-ttu-id="a3b3e-124">**Wykres kołowy** ![opis: obraz typ wykresu kołowego](7-displaying-data-in-a-chart/_static/image5.jpg)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-124">**Pie chart** ![Description: Picture of the Pie chart type](7-displaying-data-in-a-chart/_static/image5.jpg)</span></span> | <span data-ttu-id="a3b3e-125">**Wykres giełdowy** ![opis: obraz wykresu typu zasobu](7-displaying-data-in-a-chart/_static/image6.jpg)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-125">**Stock chart** ![Description: Picture of the Stock chart type](7-displaying-data-in-a-chart/_static/image6.jpg)</span></span> |

### <a name="chart-elements"></a><span data-ttu-id="a3b3e-126">Elementy wykresu</span><span class="sxs-lookup"><span data-stu-id="a3b3e-126">Chart Elements</span></span>

<span data-ttu-id="a3b3e-127">Na wykresach danych i dodatkowe elementy, takie jak legendy, osi serii i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-127">Charts show data and additional elements like legends, axes, series, and so on.</span></span> <span data-ttu-id="a3b3e-128">Na poniższej ilustracji pokazano wiele elementów wykresu, które można dostosować, korzystając z `Chart` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-128">The following picture shows many of the chart elements that you can customize when you use the `Chart` helper.</span></span> <span data-ttu-id="a3b3e-129">W tym artykule przedstawiono sposób ustawiania niektórych (nie wszystkie) z tych elementów.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-129">This article shows you how to set some (not all) of these elements.</span></span>

![Opis: Obraz przedstawiający elementów wykresu](7-displaying-data-in-a-chart/_static/image7.jpg)

<a id="Creating_a_Chart"></a>
## <a name="creating-a-chart-from-data"></a><span data-ttu-id="a3b3e-131">Tworzenie wykresu ze źródła danych</span><span class="sxs-lookup"><span data-stu-id="a3b3e-131">Creating a Chart from Data</span></span>

<span data-ttu-id="a3b3e-132">Dane wyświetlane na wykresie można z tablicy, od wyników zwróconych z bazy danych lub danych, który znajduje się w pliku XML.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-132">The data you display in a chart can be from an array, from the results returned from a database, or from data that's in an XML file.</span></span>

### <a name="using-an-array"></a><span data-ttu-id="a3b3e-133">Przy użyciu tablicy</span><span class="sxs-lookup"><span data-stu-id="a3b3e-133">Using an Array</span></span>

<span data-ttu-id="a3b3e-134">Zgodnie z objaśnieniem w [wprowadzenie do platformy ASP.NET Web Pages programowania przy użyciu składni Razor](https://go.microsoft.com/fwlink/?LinkId=202890), tablicy umożliwia przechowywanie kolekcji podobnych elementów w zmiennej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-134">As explained in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890), an array lets you store a collection of similar items in a single variable.</span></span> <span data-ttu-id="a3b3e-135">Tablice umożliwia zawierają dane, które chcesz uwzględnić w planie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-135">You can use arrays to contain the data that you want to include in your chart.</span></span>

<span data-ttu-id="a3b3e-136">W tej procedurze pokazano sposób tworzenia wykresu z danych w tablicach, przy użyciu domyślnego typu wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-136">This procedure shows how you can create a chart from data in arrays, using the default chart type.</span></span> <span data-ttu-id="a3b3e-137">Widoczny jest również sposób wyświetlania wykresu wewnątrz strony.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-137">It also shows how to display the chart within the page.</span></span>

1. <span data-ttu-id="a3b3e-138">Utwórz nowy plik o nazwie *ChartArrayBasic.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-138">Create a new file named *ChartArrayBasic.cshtml*.</span></span>
2. <span data-ttu-id="a3b3e-139">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-139">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample1.cshtml)]

    <span data-ttu-id="a3b3e-140">Kod najpierw tworzy nowy wykres i ustawia szerokości i wysokości.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-140">The code first creates a new chart and sets its width and height.</span></span> <span data-ttu-id="a3b3e-141">Określ tytuł wykresu przy użyciu `AddTitle` metody.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-141">You specify the chart title by using the `AddTitle` method.</span></span> <span data-ttu-id="a3b3e-142">Aby dodać dane, należy użyć `AddSeries` metody.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-142">To add data, you use the `AddSeries` method.</span></span> <span data-ttu-id="a3b3e-143">W tym przykładzie używamy `name`, `xValue`, i `yValues` parametry `AddSeries` metody.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-143">In this example, you use the `name`, `xValue`, and `yValues` parameters of the `AddSeries` method.</span></span> <span data-ttu-id="a3b3e-144">`name` Parametru jest wyświetlany w legendzie wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-144">The `name` parameter is displayed in the chart legend.</span></span> <span data-ttu-id="a3b3e-145">`xValue` Parametr zawiera tablicę danych wyświetlanych na osi poziomej wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-145">The `xValue` parameter contains an array of data that's displayed along the horizontal axis of the chart.</span></span> <span data-ttu-id="a3b3e-146">`yValues` Parametr zawiera tablicę danych służącą do nakreślenia pionowych punktów wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-146">The `yValues` parameter contains an array of data that's used to plot the vertical points of the chart.</span></span>

    <span data-ttu-id="a3b3e-147">`Write` Metoda renderuje faktycznie wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-147">The `Write` method actually renders the chart.</span></span> <span data-ttu-id="a3b3e-148">W takim przypadku, ponieważ nie określono typu wykresu `Chart` pomocnika renderowania wykresu jego domyślny, który jest wykresu kolumnowego.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-148">In this case, because you didn't specify a chart type, the `Chart` helper renders its default chart, which is a column chart.</span></span>
3. <span data-ttu-id="a3b3e-149">Uruchom strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-149">Run the page in the browser.</span></span> <span data-ttu-id="a3b3e-150">Przeglądarka wyświetla wykres.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-150">The browser displays the chart.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image8.jpg)

### <a name="using-a-database-query-for-chart-data"></a><span data-ttu-id="a3b3e-151">Za pomocą kwerendy bazy danych dla danych wykresu</span><span class="sxs-lookup"><span data-stu-id="a3b3e-151">Using a Database Query for Chart Data</span></span>

<span data-ttu-id="a3b3e-152">Jeśli informacje, które chcesz wykresu znajduje się w bazie danych, można uruchomić kwerendy bazy danych i następnie użyć do utworzenia wykresu danych z wyników.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-152">If the information you want to chart is in a database, you can run a database query and then use data from the results to create the chart.</span></span> <span data-ttu-id="a3b3e-153">W tej procedurze przedstawiono sposób odczytu i wyświetlanie danych z bazy danych utworzone w artykule [wprowadzenie do pracy z bazą danych w witrynach stron sieci Web platformy ASP.NET](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="a3b3e-153">This procedure shows you how to read and display the data from the database created in the article [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>

1. <span data-ttu-id="a3b3e-154">Dodaj *aplikacji\_danych* folder w katalogu głównym witryny sieci Web, jeśli folder już nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-154">Add an *App\_Data* folder to the root of the website if the folder does not already exist.</span></span>
2. <span data-ttu-id="a3b3e-155">W *aplikacji\_danych* folderu, Dodaj plik bazy danych o nazwie *SmallBakery.sdf* opisanym w [wprowadzenie do pracy z bazą danych w witrynach stron sieci Web platformy ASP.NET](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="a3b3e-155">In the *App\_Data* folder, add the database file named *SmallBakery.sdf* that's described in [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>
3. <span data-ttu-id="a3b3e-156">Utwórz nowy plik o nazwie *ChartDataQuery.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-156">Create a new file named *ChartDataQuery.cshtml*.</span></span>
4. <span data-ttu-id="a3b3e-157">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-157">Replace the existing content with the following:</span></span>   

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample2.cshtml)]

    <span data-ttu-id="a3b3e-158">Kod najpierw otwarcie bazy danych, SmallBakery i przypisuje go do zmiennej o nazwie `db`.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-158">The code first opens the SmallBakery database and assigns it to a variable named `db`.</span></span> <span data-ttu-id="a3b3e-159">Ta zmienna reprezentuje `Database` obiekt, który może służyć do odczytu i zapisu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-159">This variable represents a `Database` object that can be used to read from and write to the database.</span></span> <span data-ttu-id="a3b3e-160">Następnie kod uruchamia zapytanie SQL, aby uzyskać nazwę i ceny każdego produktu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-160">Next, the code runs a SQL query to get the name and price of each product.</span></span> <span data-ttu-id="a3b3e-161">Kod pozwala utworzyć nowy wykres i przekazuje zapytanie bazy danych przez wywołanie metody na wykresie `DataBindTable` metody.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-161">The code creates a new chart and passes the database query to it by calling the chart's `DataBindTable` method.</span></span> <span data-ttu-id="a3b3e-162">Ta metoda przyjmuje dwa parametry: `dataSource` parametr jest danych z zapytania i `xField` parametr umożliwia określenie, która kolumna danych jest używana dla osi x wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-162">This method takes two parameters: the `dataSource` parameter is for the data from the query, and the `xField` parameter lets you set which data column is used for the chart's x-axis.</span></span>

    <span data-ttu-id="a3b3e-163">Alternatywą wobec przy użyciu `DataBindTable` metody, można użyć `AddSeries` metody `Chart` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-163">As an alternative to using the `DataBindTable` method, you can use the `AddSeries` method of the `Chart` helper.</span></span> <span data-ttu-id="a3b3e-164">`AddSeries` Metoda pozwala ustawić `xValue` i `yValues` parametrów.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-164">The `AddSeries` method lets you set the `xValue` and `yValues` parameters.</span></span> <span data-ttu-id="a3b3e-165">Na przykład zamiast `DataBindTable` metody następująco:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-165">For example, instead of using the `DataBindTable` method like this:</span></span>

    [!code-css[Main](7-displaying-data-in-a-chart/samples/sample3.css)]

    <span data-ttu-id="a3b3e-166">Można użyć `AddSeries` metody następująco:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-166">You can use the `AddSeries` method like this:</span></span>

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample4.html)]

    <span data-ttu-id="a3b3e-167">Zarówno renderowania takie same wyniki.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-167">Both render the same results.</span></span> <span data-ttu-id="a3b3e-168">`AddSeries` Metoda jest bardziej elastyczne, ponieważ można określić typ wykresu i dane więcej jawnie, ale `DataBindTable` metoda jest łatwiejsze do użycia, jeśli nie jest potrzebny dodatkowy elastyczność.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-168">The `AddSeries` method is more flexible because you can specify the chart type and data more explicitly, but the `DataBindTable` method is easier to use if you don't need the extra flexibility.</span></span>
5. <span data-ttu-id="a3b3e-169">Uruchom strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-169">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image9.jpg)

### <a name="using-xml-data"></a><span data-ttu-id="a3b3e-170">Przy użyciu danych XML</span><span class="sxs-lookup"><span data-stu-id="a3b3e-170">Using XML Data</span></span>

<span data-ttu-id="a3b3e-171">Trzecia opcja dla wykresów jest użyć pliku XML jako danych wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-171">The third option for charting is to use an XML file as the data for the chart.</span></span> <span data-ttu-id="a3b3e-172">Plik XML również mieć plik schematu (*XSD* pliku), który opisuje struktury XML.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-172">This requires that the XML file also have a schema file (*.xsd* file) that describes the XML structure.</span></span> <span data-ttu-id="a3b3e-173">Ta procedura przedstawia sposób odczytywania danych z pliku XML.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-173">This procedure shows you how to read data from an XML file.</span></span>

1. <span data-ttu-id="a3b3e-174">W *aplikacji\_danych* folderu, Utwórz nowy plik XML o nazwie *data.xml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-174">In the *App\_Data* folder, create a new XML file named *data.xml*.</span></span>
2. <span data-ttu-id="a3b3e-175">Zastąp istniejący plik XML następujące dane, które są niektóre dane XML o pracownikach w fikcyjnej firmy.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-175">Replace the existing XML with the following, which is some XML data about employees in a fictional company.</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample5.xml)]
3. <span data-ttu-id="a3b3e-176">W *aplikacji\_danych* folderu, Utwórz nowy plik XML o nazwie *data.xsd*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-176">In the *App\_Data* folder, create a new XML file named *data.xsd*.</span></span> <span data-ttu-id="a3b3e-177">(Należy pamiętać, że rozszerzenie jest teraz *XSD*.)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-177">(Note that the extension this time is *.xsd*.)</span></span>
4. <span data-ttu-id="a3b3e-178">Zastąp istniejący plik XML następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-178">Replace the existing XML with the following:</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample6.xml)]
5. <span data-ttu-id="a3b3e-179">W katalogu głównym witryny sieci Web, Utwórz nowy plik o nazwie *ChartDataXML.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-179">In the root of the website, create a new file named *ChartDataXML.cshtml*.</span></span>
6. <span data-ttu-id="a3b3e-180">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-180">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample7.cshtml)]

    <span data-ttu-id="a3b3e-181">Najpierw tworzy kod `DataSet` obiektu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-181">The code first creates a `DataSet` object.</span></span> <span data-ttu-id="a3b3e-182">Ten obiekt jest używany do zarządzania danymi, które zostanie odczytany z pliku XML i organizowanie go zgodnie z informacjami w pliku schematu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-182">This object is used to manage the data that's read from the XML file and organize it according to the information in the schema file.</span></span> <span data-ttu-id="a3b3e-183">(Powiadomienie, że na początku kodu zawiera instrukcję `using SystemData`.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-183">(Notice that the top of the code includes the statement `using SystemData`.</span></span> <span data-ttu-id="a3b3e-184">Jest to wymagane, aby można było pracować z `DataSet` obiektu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-184">This is required in order to be able to work with the `DataSet` object.</span></span> <span data-ttu-id="a3b3e-185">Aby uzyskać więcej informacji, zobacz [ &quot;Using&quot; instrukcje i w pełni kwalifikowane nazwy](#SB_UsingStatements) dalszej części tego artykułu.)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-185">For more information, see [&quot;Using&quot; Statements and Fully Qualified Names](#SB_UsingStatements) later in this article.)</span></span>

    <span data-ttu-id="a3b3e-186">Następnie kod tworzy `DataView` obiektu oparte na zestawie danych.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-186">Next, the code creates a `DataView` object based on the dataset.</span></span> <span data-ttu-id="a3b3e-187">Widok danych zawiera obiekt, który można powiązać z wykresu &#8212; oznacza to, Odczyt i kreślenia.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-187">The data view provides an object that the chart can bind to &#8212; that is, read and plot.</span></span> <span data-ttu-id="a3b3e-188">Wiąże wykres danych przy użyciu `AddSeries` metody, jako użytkownik był wyświetlany podczas wykresów tablicy danych, z wyjątkiem teraz `xValue` i `yValues` parametry są ustawione na `DataView` obiektu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-188">The chart binds to the data using the `AddSeries` method, as you saw earlier when charting the array data, except that this time the `xValue` and `yValues` parameters are set to the `DataView` object.</span></span>

    <span data-ttu-id="a3b3e-189">Ten przykład przedstawia również sposób określania typu konkretnego.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-189">This example also shows you how to specify a particular chart type.</span></span> <span data-ttu-id="a3b3e-190">Gdy dane są dodawane w `AddSeries` metody `chartType` również ustawiona jest wyświetlania wykresu kołowego.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-190">When the data is added in the `AddSeries` method, the `chartType` parameter is also set to display a pie chart.</span></span>
7. <span data-ttu-id="a3b3e-191">Uruchom strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-191">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image10.jpg)

> [!TIP]
> 
> <a id="SB_UsingStatements"></a>
> ### <a name="using-statements-and-fully-qualified-names"></a><span data-ttu-id="a3b3e-192">Instrukcje "Using" i w pełni kwalifikowane nazwy</span><span class="sxs-lookup"><span data-stu-id="a3b3e-192">"Using" Statements and Fully Qualified Names</span></span>
> 
> <span data-ttu-id="a3b3e-193">.NET Framework, na podstawie stron ASP.NET Web Pages o składni Razor składa się z wielu tysięcy składników (klasy).</span><span class="sxs-lookup"><span data-stu-id="a3b3e-193">The .NET Framework that ASP.NET Web Pages with Razor syntax is based on consists of many thousands of components (classes).</span></span> <span data-ttu-id="a3b3e-194">Aby umożliwić łatwe w zarządzaniu do pracy z tych klas, są podzielone na *przestrzeni nazw*, które przypominają do biblioteki.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-194">To make it manageable to work with all these classes, they're organized into *namespaces*, which are somewhat like libraries.</span></span> <span data-ttu-id="a3b3e-195">Na przykład `System.Web` przestrzeń nazw zawiera klasy obsługujące komunikacji z serwerem przeglądarki `System.Xml` przestrzeń nazw zawiera klasy służące do tworzenia i odczytywać pliki XML i `System.Data` przestrzeń nazw zawiera klasy, które pozwalają pracować z danymi.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-195">For example, the `System.Web` namespace contains classes that support browser/server communication, the `System.Xml` namespace contains classes that are used to create and read XML files, and the `System.Data` namespace contains classes that let you work with data.</span></span>
> 
> <span data-ttu-id="a3b3e-196">Aby uzyskać dostęp do danej klasy w programie .NET Framework, kod musi wiedzieć, nie tylko nazwę klasy, ale klasa znajduje się w obszarze nazw.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-196">In order to access any given class in the .NET Framework, code needs to know not just the class name, but also the namespace that the class is in.</span></span> <span data-ttu-id="a3b3e-197">Na przykład, aby można było używać `Chart` pomocnika, kod musi znaleźć `System.Web.Helpers.Chart` klasy, która łączy obszaru nazw (`System.Web.Helpers`) z nazwą klasy (`Chart`).</span><span class="sxs-lookup"><span data-stu-id="a3b3e-197">For example, in order to use the `Chart` helper, code needs to find the `System.Web.Helpers.Chart` class, which combines the namespace (`System.Web.Helpers`) with the class name (`Chart`).</span></span> <span data-ttu-id="a3b3e-198">Jest to nazywane klasy *pełną* nazwa &#8212; pełną, jednoznacznej lokalizacji w ramach vastness programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-198">This is known as the class's *fully-qualified* name &#8212; its complete, unambiguous location within the vastness of the .NET Framework.</span></span> <span data-ttu-id="a3b3e-199">W kodzie to będzie wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-199">In code, this would look like the following:</span></span>
> 
> `var myChart = new System.Web.Helpers.Chart(width: 600, height: 400) // etc.`
> 
> <span data-ttu-id="a3b3e-200">Jednak jest skomplikowane (i podatna) do użycia tych długie, w pełni kwalifikowanej nazwy za każdym razem, gdy chcesz odwołuje się do klasy lub pomocnika.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-200">However, it's cumbersome (and error prone) to have to use these long, fully-qualified names every time you want to refer to a class or helper.</span></span> <span data-ttu-id="a3b3e-201">W związku z tym, aby ułatwić nazwy klas, możesz *zaimportować* przestrzenie nazw są zainteresowani, zazwyczaj jest to jest tylko kilka spośród wiele przestrzeni nazw w programie .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-201">Therefore, to make it easier to use class names, you can *import* the namespaces you're interested in, which is usually is just a handful from among the many namespaces in the .NET Framework.</span></span> <span data-ttu-id="a3b3e-202">Jeśli zaimportowane przestrzeni nazw, można użyć tylko nazwę klasy (`Chart`) zamiast w pełni kwalifikowana nazwa (`System.Web.Helpers.Chart`).</span><span class="sxs-lookup"><span data-stu-id="a3b3e-202">If you've imported a namespace, you can use just a class name (`Chart`) instead of the fully qualified name (`System.Web.Helpers.Chart`).</span></span> <span data-ttu-id="a3b3e-203">Gdy kod napotka nazwy klasy, mogą zobaczyć w właśnie przestrzeniach nazw zaimportowany do znalezienia tej klasy.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-203">When your code runs and encounters a class name, it can look in just the namespaces you've imported to find that class.</span></span>
> 
> <span data-ttu-id="a3b3e-204">Użycie składnika ASP.NET Web Pages o składni Razor do tworzenia stron sieci web, zwykle korzysta ten sam zestaw klas, w tym `WebPage` klasy, różnych pomocników i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-204">When you use ASP.NET Web Pages with Razor syntax to create web pages, you typically use the same set of classes each time, including the `WebPage` class, the various helpers, and so on.</span></span> <span data-ttu-id="a3b3e-205">Aby zapisać pracy importowania odpowiednie przestrzenie nazw w każdym utworzeniu witryny sieci Web, ASP.NET jest skonfigurowany tak automatycznie importuje zestaw przestrzeni nazw core dla każdej witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-205">To save you the work of importing the relevant namespaces every time you create a website, ASP.NET is configured so it automatically imports a set of core namespaces for every website.</span></span> <span data-ttu-id="a3b3e-206">Dlatego nie mam radzenia sobie z przestrzeni nazw lub importowanie do chwili; wszystkie klasy, z którymi się znajdują się w przestrzeni nazw, które już są importowane automatycznie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-206">That's why you haven't had to deal with namespaces or importing up to now; all the classes you've worked with are in namespaces that are already imported for you.</span></span>
> 
> <span data-ttu-id="a3b3e-207">Czasami potrzebny pracować z klasy, która nie znajduje się w przestrzeni nazw, która jest automatycznie importowane automatycznie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-207">However, sometimes you need to work with a class that isn't in a namespace that's automatically imported for you.</span></span> <span data-ttu-id="a3b3e-208">W takim przypadku możesz użyć tej klasy, w pełni kwalifikowaną nazwę lub przestrzeń nazw zawiera klasy można ręcznie zaimportować.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-208">In that case, you can either use that class's fully-qualified name, or you can manually import the namespace that contains the class.</span></span> <span data-ttu-id="a3b3e-209">Aby zaimportować przestrzeni nazw, należy użyć `using` instrukcji (`import` w języku Visual Basic), jak przedstawiono w przykładzie wcześniej tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-209">To import a namespace, you use the `using` statement (`import` in Visual Basic), as you saw in an example earlier the article.</span></span>
> 
> <span data-ttu-id="a3b3e-210">Na przykład `DataSet` klasa znajduje się w `System.Data` przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-210">For example, the `DataSet` class is in the `System.Data` namespace.</span></span> <span data-ttu-id="a3b3e-211">`System.Data` Przestrzeni nazw nie jest automatycznie dostępny dla stron ASP.NET Razor.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-211">The `System.Data` namespace is not automatically available to ASP.NET Razor pages.</span></span> <span data-ttu-id="a3b3e-212">W związku z tym aby pracować z `DataSet` przy użyciu w pełni kwalifikowanej nazwy, można użyć kodu następująco:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-212">Therefore, to work with the `DataSet` class using its fully qualified name, you can use code like this:</span></span>
> 
> `var dataSet = new System.Data.DataSet();`
> 
> <span data-ttu-id="a3b3e-213">Jeśli użytkownik musi używać `DataSet` wielokrotnie klasy mogą być importowane przestrzeni nazw, jak i następnie użyć tylko nazwę klasy w kodzie:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-213">If you have to use the `DataSet` class repeatedly you can import a namespace like this and then use just the class name in code:</span></span>
> 
> [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample8.cshtml)]
> 
> <span data-ttu-id="a3b3e-214">Możesz dodać `using` instrukcji dla innych nazw .NET Framework, która ma dotyczyć odwołanie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-214">You can add `using` statements for any other .NET Framework namespaces that you want to reference.</span></span> <span data-ttu-id="a3b3e-215">Jak wspomniano, nie będzie potrzebny, w tym celu często, ponieważ większość klas, które będzie działać z znajdują się w przestrzeni nazw, które są automatycznie importowane przez program ASP.NET do użycia w *.cshtml* i *.vbhtml* stron.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-215">However, as noted, you won't need to do this often, because most of the classes that you'll work with are in namespaces that are imported automatically by ASP.NET for use in *.cshtml* and *.vbhtml* pages.</span></span>


<a id="Displaying_Charts"></a>
## <a name="displaying-charts-inside-a-web-page"></a><span data-ttu-id="a3b3e-216">Wyświetlanie wykresów na stronie sieci Web</span><span class="sxs-lookup"><span data-stu-id="a3b3e-216">Displaying Charts Inside a Web Page</span></span>

<span data-ttu-id="a3b3e-217">W przykładach przedstawiono dotychczas tworzenie wykresu, a następnie renderowania wykresu bezpośrednio w przeglądarce jako grafiki.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-217">In the examples you've seen so far, you create a chart and then the chart is rendered directly to the browser as a graphic.</span></span> <span data-ttu-id="a3b3e-218">W wielu przypadkach jednak chcesz wyświetlić wykres jako części strony, nie tylko przez samego siebie w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-218">In many cases, though, you want to display a chart as part of a page, not just by itself in the browser.</span></span> <span data-ttu-id="a3b3e-219">W tym celu wymaga dwuetapowego procesu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-219">To do that requires a two-step process.</span></span> <span data-ttu-id="a3b3e-220">Pierwszym krokiem jest do utworzenia strony, która generuje wykresu, ponieważ już w tym samouczku.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-220">The first step is to create a page that generates the chart, as you've already seen.</span></span>

<span data-ttu-id="a3b3e-221">Drugim krokiem jest Wynikowy obraz był wyświetlany na innej stronie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-221">The second step is to display the resulting image in another page.</span></span> <span data-ttu-id="a3b3e-222">Aby wyświetlić obraz, należy użyć kodu HTML `<img>` elementu w taki sam sposób, w jaki można wyświetlić żadnego obrazu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-222">To display the image, you use an HTML `<img>` element, in the same way you would to display any image.</span></span> <span data-ttu-id="a3b3e-223">Jednak zamiast odwołania do *.jpg* lub *.png* pliku `<img>` odwołania do elementu *.cshtml* plik zawierający `Chart` pomocnika który Tworzy wykres.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-223">However, instead of referencing a *.jpg* or *.png* file, the `<img>` element references the *.cshtml* file that contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="a3b3e-224">Po uruchomieniu strony wyświetlania, `<img>` element pobiera dane wyjściowe `Chart` pomocnika i renderowania wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-224">When the display page runs, the `<img>` element gets the output of the `Chart` helper and renders the chart.</span></span>

![](7-displaying-data-in-a-chart/_static/image11.jpg)

1. <span data-ttu-id="a3b3e-225">Utwórz plik o nazwie *ShowChart.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-225">Create a file named *ShowChart.cshtml*.</span></span>
2. <span data-ttu-id="a3b3e-226">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-226">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample9.html)]

    <span data-ttu-id="a3b3e-227">W kodzie użyto `<img>` element, aby wyświetlić wykresu, który został wcześniej utworzony w *ChartArrayBasic.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-227">The code uses the `<img>` element to display the chart that you created earlier in the *ChartArrayBasic.cshtml* file.</span></span>
3. <span data-ttu-id="a3b3e-228">Uruchom strony sieci web w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-228">Run the web page in a browser.</span></span> <span data-ttu-id="a3b3e-229">*ShowChart.cshtml* plik zawiera obraz wykresu, na podstawie kodu zawarte w *ChartArrayBasic.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-229">The *ShowChart.cshtml* file displays the chart image based on the code contained in the *ChartArrayBasic.cshtml* file.</span></span>

<a id="Styling_a_Chart"></a>
## <a name="styling-a-chart"></a><span data-ttu-id="a3b3e-230">Ustawianie stylów na wykresie</span><span class="sxs-lookup"><span data-stu-id="a3b3e-230">Styling a Chart</span></span>

<span data-ttu-id="a3b3e-231">`Chart` Pomocnika obsługuje wiele opcji, które umożliwiają dostosowanie wyglądu wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-231">The `Chart` helper supports a large number of options that let you customize the appearance of the chart.</span></span> <span data-ttu-id="a3b3e-232">Można ustawić kolory, czcionki, obramowania i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-232">You can set colors, fonts, borders, and so on.</span></span> <span data-ttu-id="a3b3e-233">Prosty sposób na dostosowanie wyglądu wykresu jest użycie *motyw*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-233">An easy way to customize the appearance of a chart is to use a *theme*.</span></span> <span data-ttu-id="a3b3e-234">Motywy to kolekcje informacji określających sposób renderowania wykresu przy użyciu czcionek, kolorów, etykiet, palet, obramowania i efekty.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-234">Themes are collections of information that specify how to render a chart using fonts, colors, labels, palettes, borders, and effects.</span></span> <span data-ttu-id="a3b3e-235">(Należy pamiętać, że styl wykresu nie wskazuje typ wykresu).</span><span class="sxs-lookup"><span data-stu-id="a3b3e-235">(Note that the style of a chart does not indicate the type of chart.)</span></span>

<span data-ttu-id="a3b3e-236">W poniższej tabeli wymieniono motywów wbudowanych.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-236">The following table lists built-in themes.</span></span>

| <span data-ttu-id="a3b3e-237">Motyw</span><span class="sxs-lookup"><span data-stu-id="a3b3e-237">Theme</span></span> | <span data-ttu-id="a3b3e-238">Opis</span><span class="sxs-lookup"><span data-stu-id="a3b3e-238">Description</span></span> |
| --- | --- |
| `Vanilla` | <span data-ttu-id="a3b3e-239">Wyświetla red kolumny na białe tło.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-239">Displays red columns on a white background.</span></span> |
| `Blue` | <span data-ttu-id="a3b3e-240">Wyświetla niebieskie kolumn na niebieskim gradientu tła.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-240">Displays blue columns on a blue gradient background.</span></span> |
| `Green` | <span data-ttu-id="a3b3e-241">Wyświetla niebieskie kolumn na zielonym gradientu tła.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-241">Displays blue columns on a green gradient background.</span></span> |
| `Yellow` | <span data-ttu-id="a3b3e-242">Wyświetla pomarańczowy kolumny na żółty gradientu tła.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-242">Displays orange columns on a yellow gradient background.</span></span> |
| `Vanilla3D` | <span data-ttu-id="a3b3e-243">Wyświetla 3-czerwony kolumny na białe tło.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-243">Displays 3-D red columns on a white background.</span></span> |

<span data-ttu-id="a3b3e-244">Można określić motyw do użycia podczas tworzenia nowego wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-244">You can specify the theme to use when you create a new chart.</span></span>

1. <span data-ttu-id="a3b3e-245">Utwórz nowy plik o nazwie *ChartStyleGreen.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-245">Create a new file named *ChartStyleGreen.cshtml*.</span></span>
2. <span data-ttu-id="a3b3e-246">Zastąp istniejącą zawartość na stronie następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-246">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample10.cshtml)]

    <span data-ttu-id="a3b3e-247">Ten kod jest taka sama jak poprzedniego przykładu, który używa bazy danych, ale nie dodaje `theme` parametru podczas tworzenia `Chart` obiektu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-247">This code is the same as the earlier example that uses the database for data, but adds the `theme` parameter when it creates the `Chart` object.</span></span> <span data-ttu-id="a3b3e-248">Poniżej przedstawiono zmienionego kodu:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-248">The following shows the changed code:</span></span>

    [!code-csharp[Main](7-displaying-data-in-a-chart/samples/sample11.cs)]
3. <span data-ttu-id="a3b3e-249">Uruchom strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-249">Run the page in a browser.</span></span> <span data-ttu-id="a3b3e-250">Możesz zobaczyć te same dane jako przed, ale bardziej profesjonalny wygląd wykresu:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-250">You see the same data as before, but the chart looks more polished:</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image12.jpg)

<a id="Saving_a_Chart"></a>
## <a name="saving-a-chart"></a><span data-ttu-id="a3b3e-251">Zapisywanie wykresu</span><span class="sxs-lookup"><span data-stu-id="a3b3e-251">Saving a Chart</span></span>

<span data-ttu-id="a3b3e-252">Jeśli używasz `Chart` pomocnika jako użytkownik w tym samouczku wykonanej do tej pory w tym artykule pomocnika ponownie tworzy wykres od początku każdej jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-252">When you use the `Chart` helper as you've seen so far in this article, the helper re-creates the chart from scratch each time it's invoked.</span></span> <span data-ttu-id="a3b3e-253">W razie potrzeby kod wykresu również ponownie wysyła zapytanie do bazy danych lub ponownie odczytuje plik XML można pobrać danych.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-253">If necessary, the code for the chart also re-queries the database or re-reads the XML file to get the data.</span></span> <span data-ttu-id="a3b3e-254">W niektórych przypadkach w ten sposób można złożonych operacji, takich jak bazy danych, która jest wykonywana kwerenda jest duży, lub plik XML zawiera dużą ilość danych.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-254">In some cases, doing this can be a complex operation, such as if the database that you're querying is large, or if the XML file contains a lot of data.</span></span> <span data-ttu-id="a3b3e-255">Nawet jeśli wykresu nie zawiera dużą ilość danych, proces dynamicznego tworzenia obrazu zajmuje zasobów serwera, a jeśli wiele osób żądanie strony, które wyświetlić wykresu, może istnieć wpływ na wydajność witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-255">Even if the chart doesn't involve a lot of data, the process of dynamically creating an image takes up server resources, and if many people request the page or pages that display the chart, there can be an impact on the performance of your website.</span></span>

<span data-ttu-id="a3b3e-256">Pozwala zmniejszyć potencjalne obniżenie wydajności podczas tworzenia wykresu, można utworzyć wykres pierwszy raz potrzebny, a następnie zapisz go.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-256">To help you reduce the potential performance impact of creating a chart, you can create a chart the first time you need it and then save it.</span></span> <span data-ttu-id="a3b3e-257">Wykres jest ponownie potrzebny, zamiast ponownego generowania, możesz po prostu pobrać zapisaną wersję i renderować.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-257">When the chart is needed again, rather than regenerating it, you can just fetch the saved version and render that.</span></span>

<span data-ttu-id="a3b3e-258">Wykres można zapisać w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-258">You can save a chart in these ways:</span></span>

- <span data-ttu-id="a3b3e-259">Wykres w pamięci komputera (na serwerze) w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-259">Cache the chart in computer memory (on the server).</span></span>
- <span data-ttu-id="a3b3e-260">Wykres można zapisać jako plik obrazu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-260">Save the chart as an image file.</span></span>
- <span data-ttu-id="a3b3e-261">Wykres można zapisać jako plik XML.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-261">Save the chart as an XML file.</span></span> <span data-ttu-id="a3b3e-262">Ta opcja pozwala zmodyfikować wykres przed jej zapisaniem.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-262">This option lets you modify the chart before you save it.</span></span>

### <a name="caching-a-chart"></a><span data-ttu-id="a3b3e-263">Buforowanie wykresu</span><span class="sxs-lookup"><span data-stu-id="a3b3e-263">Caching a Chart</span></span>

<span data-ttu-id="a3b3e-264">Po utworzeniu wykresu można buforować.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-264">After you've created a chart, you can cache it.</span></span> <span data-ttu-id="a3b3e-265">Buforowanie wykresu oznacza, że nie ma zostać utworzony ponownie, jeśli muszą być ponownie wyświetlone.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-265">Caching a chart means that it doesn't have to be re-created if it needs to be displayed again.</span></span> <span data-ttu-id="a3b3e-266">Podczas zapisywania wykresu w pamięci podręcznej, należy nadać mu klucz, który musi być unikatowa dla tego wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-266">When you save a chart in the cache, you give it a key that must be unique to that chart.</span></span>

<span data-ttu-id="a3b3e-267">Wykresy zapisane w pamięci podręcznej mogą zostać usunięte, jeśli serwer ma za mało pamięci.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-267">Charts saved to the cache might be removed if the server runs low on memory.</span></span> <span data-ttu-id="a3b3e-268">Ponadto pamięci podręcznej jest wyczyszczone, jeśli aplikacja zostanie uruchomiony ponownie w dowolnej przyczyny.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-268">In addition, the cache is cleared if your application restarts for any reason.</span></span> <span data-ttu-id="a3b3e-269">W związku z tym standardowy sposób pracy z pamięci podręcznej wykresu jest zawsze najpierw sprawdź, czy jest dostępna w pamięci podręcznej, a jeśli nie, a następnie do tworzenia lub utwórz go ponownie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-269">Therefore, the standard way to work with a cached chart is to always check first whether it's available in the cache, and if not, then to create or re-create it.</span></span>

1. <span data-ttu-id="a3b3e-270">W katalogu głównym witryny sieci Web, Utwórz plik o nazwie *ShowCachedChart.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-270">At the root of your website, create a file named *ShowCachedChart.cshtml*.</span></span>
2. <span data-ttu-id="a3b3e-271">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-271">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample12.html)]

    <span data-ttu-id="a3b3e-272">`<img>` Zawiera tag `src` atrybut, który wskazuje *ChartSaveToCache.cshtml* i przekazuje klucz do strony jako ciąg zapytania.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-272">The `<img>` tag includes a `src` attribute that points to the *ChartSaveToCache.cshtml* file and passes a key to the page as a query string.</span></span> <span data-ttu-id="a3b3e-273">Klucz zawiera wartość &quot;myChartKey&quot;.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-273">The key contains the value &quot;myChartKey&quot;.</span></span> <span data-ttu-id="a3b3e-274">*ChartSaveToCache.cshtml* plik zawiera `Chart` pomocnika, który tworzy wykres.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-274">The *ChartSaveToCache.cshtml* file contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="a3b3e-275">Za chwilę zostaną utworzone tej strony.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-275">You'll create this page in a moment.</span></span>

    <span data-ttu-id="a3b3e-276">Na końcu strony jest łączem do strony o nazwie *ClearCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-276">At the end of the page there's a link to a page named *ClearCache.cshtml*.</span></span> <span data-ttu-id="a3b3e-277">To strona, która zostanie również utworzony wkrótce.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-277">That's a page that you'll also create shortly.</span></span> <span data-ttu-id="a3b3e-278">Należy *ClearCache.cshtml* tylko do testowania buforowania w tym przykładzie — nie jest łącze lub strona, która zwykle można dołączyć podczas pracy z pamięci podręcznej schematów.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-278">You need the *ClearCache.cshtml* only to test caching for this example — it's not a link or page that you'd normally include when working with cached charts.</span></span>
3. <span data-ttu-id="a3b3e-279">W katalogu głównym witryny sieci Web, Utwórz nowy plik o nazwie *ChartSaveToCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-279">At the root of your website, create a new file named *ChartSaveToCache.cshtml*.</span></span>
4. <span data-ttu-id="a3b3e-280">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-280">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample13.cshtml)]

    <span data-ttu-id="a3b3e-281">Ten kod najpierw sprawdza, czy przekazano niczego jako wartość klucza w ciągu zapytania.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-281">The code first checks whether anything was passed as the key value in the query string.</span></span> <span data-ttu-id="a3b3e-282">Jeśli tak, kod próbuje odczytać wykres z pamięci podręcznej przez wywołanie metody `GetFromCache` — metoda i przekazanie jej klucza.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-282">If so, the code tries to read a chart out of the cache by calling the `GetFromCache` method and passing it the key.</span></span> <span data-ttu-id="a3b3e-283">Jeśli okaże się, że nie ma w pamięci podręcznej, w tym kluczu (co się stanie po raz pierwszy zażądano wykresu), kod tworzy wykres w zwykły sposób.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-283">If it turns out that there's nothing in the cache under that key (which would happen the first time that the chart is requested), the code creates the chart as usual.</span></span> <span data-ttu-id="a3b3e-284">Po zakończeniu operacji wykresu kod zapisuje go w pamięci podręcznej przez wywołanie metody `SaveToCache`.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-284">When the chart is finished, the code saves it to the cache by calling `SaveToCache`.</span></span> <span data-ttu-id="a3b3e-285">Ta metoda wymaga klucza (Aby później można żądać wykresu) i ilość czasu, który ma zostać zapisany wykresu w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-285">That method requires a key (so the chart can be requested later), and the amount of time that the chart should be saved in the cache.</span></span> <span data-ttu-id="a3b3e-286">(Czas będzie pamięci podręcznej wykresu będzie zależeć od częstotliwość traktować danych, który reprezentuje może zmienić). `SaveToCache` Wymaga również metody `slidingExpiration` parametru &#8212; Jeśli ta opcja jest ustawiona na wartość true, limit czasu licznik jest resetowany zawsze wykresu jest dostępny.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-286">(The exact time you'd cache a chart would depend on how often you thought the data it represents might change.) The `SaveToCache` method also requires a `slidingExpiration` parameter &#8212; if this is set to true, the timeout counter is reset each time the chart is accessed.</span></span> <span data-ttu-id="a3b3e-287">W takim przypadku obowiązują oznacza to, że wpis pamięci podręcznej wykresu wygaśnie 2 minut od czasu ostatniego ktoś uzyskać dostęp do wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-287">In this case, it in effect means that the chart's cache entry expires 2 minutes after the last time someone accessed the chart.</span></span> <span data-ttu-id="a3b3e-288">(Zamiast przedłużanie ważności jest wygaśnięcia bezwzględne, co oznacza, że wpis pamięci podręcznej upływa dokładnie 2 minuty po został umieszczony w pamięci podręcznej, niezależnie od tego, jak często ma uzyskano).</span><span class="sxs-lookup"><span data-stu-id="a3b3e-288">(The alternative to sliding expiration is absolute expiration, meaning that the cache entry would expire exactly 2 minutes after it was put into the cache, no matter how often it had been accessed.)</span></span>

    <span data-ttu-id="a3b3e-289">Ponadto w kodzie użyto `WriteFromCache` metodę, aby pobrać i renderować wykres z pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-289">Finally, the code uses the `WriteFromCache` method to fetch and render the chart from the cache.</span></span> <span data-ttu-id="a3b3e-290">Należy pamiętać, że ta metoda jest poza `if` bloku, który sprawdza pamięci podręcznej, ponieważ pobierze wykres z pamięci podręcznej wykresu były rozpoczynać się od znaku lub były generowane i zapisać w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-290">Note that this method is outside the `if` block that checks the cache, because it will get the chart from the cache whether the chart was there to begin with or had to be generated and saved in the cache.</span></span>

    <span data-ttu-id="a3b3e-291">Zwróć uwagę, że w tym przykładzie `AddTitle` metoda zawiera sygnaturę czasową.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-291">Notice that in the example, the `AddTitle` method includes a timestamp.</span></span> <span data-ttu-id="a3b3e-292">(Dodaje bieżącą datę i godzinę &#8212; `DateTime.Now` &#8212; do tytułu.)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-292">(It adds the current date and time &#8212; `DateTime.Now` &#8212; to the title.)</span></span>
5. <span data-ttu-id="a3b3e-293">Utwórz nową stronę o nazwie *ClearCache.cshtml* i zastąp jego zawartość następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-293">Create a new page named *ClearCache.cshtml* and replace its content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample14.cshtml)]

    <span data-ttu-id="a3b3e-294">Ta strona używa `WebCache` pomocnika wykresu, który jest buforowana w *ChartSaveToCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-294">This page uses the `WebCache` helper to remove the chart that's cached in *ChartSaveToCache.cshtml*.</span></span> <span data-ttu-id="a3b3e-295">Jak wspomniano wcześniej, zwykle nie muszą mieć strony następująco.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-295">As noted earlier, you don't normally have to have a page like this.</span></span> <span data-ttu-id="a3b3e-296">Tworzysz tu tylko po to, aby ułatwić testowanie buforowania.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-296">You're creating it here only to make it easier to test caching.</span></span>
6. <span data-ttu-id="a3b3e-297">Uruchom *ShowCachedChart.cshtml* strony sieci web w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-297">Run the *ShowCachedChart.cshtml* web page in a browser.</span></span> <span data-ttu-id="a3b3e-298">Na stronie są wyświetlane obraz wykresu, na podstawie kodu zawarte w *ChartSaveToCache.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-298">The page displays the chart image based on the code contained in the *ChartSaveToCache.cshtml* file.</span></span> <span data-ttu-id="a3b3e-299">Zanotuj sygnaturę czasową mówi tytuł wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-299">Take note of what the timestamp says in the chart title.</span></span> 

    ![Opis: Obraz podstawowy wykres z sygnaturą czasową w tytuł wykresu](7-displaying-data-in-a-chart/_static/image13.jpg)
7. <span data-ttu-id="a3b3e-301">Zamknij przeglądarkę.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-301">Close the browser.</span></span>
8. <span data-ttu-id="a3b3e-302">Uruchom *ShowCachedChart.cshtml* ponownie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-302">Run the *ShowCachedChart.cshtml* again.</span></span> <span data-ttu-id="a3b3e-303">Zwróć uwagę, że sygnatura czasowa jest taka sama jak poprzednio, co oznacza, że nie wygenerowano wykresu, ale zamiast tego została odczytana z pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-303">Notice that the timestamp is the same as before, which indicates that the chart was not regenerated, but was instead read from the cache.</span></span>
9. <span data-ttu-id="a3b3e-304">W *ShowCachedChart.cshtml*, kliknij przycisk **wyczyścić pamięć podręczną** łącza.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-304">In *ShowCachedChart.cshtml*, click the **Clear cache** link.</span></span> <span data-ttu-id="a3b3e-305">Powoduje to przejście do *ClearCache.cshtml*, które raporty, że pamięć podręczna została wyczyszczona.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-305">This takes you to *ClearCache.cshtml*, which reports that the cache has been cleared.</span></span>
10. <span data-ttu-id="a3b3e-306">Kliknij przycisk **powrócić do ShowCachedChart.cshtml** łącze lub uruchom ponownie *ShowCachedChart.cshtml* z programu WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-306">Click the **Return to ShowCachedChart.cshtml** link, or re-run *ShowCachedChart.cshtml* from WebMatrix.</span></span> <span data-ttu-id="a3b3e-307">Należy zauważyć, że teraz znacznik czasu został zmieniony, ponieważ pamięć podręczna została wyczyszczona.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-307">Notice that this time the timestamp has changed, because the cache has been cleared.</span></span> <span data-ttu-id="a3b3e-308">W związku z tym kod musiał ponownie wygenerować wykresu i umieść je z powrotem do pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-308">Therefore, the code had to regenerate the chart and put it back into the cache.</span></span>

### <a name="saving-a-chart-as-an-image-file"></a><span data-ttu-id="a3b3e-309">Zapisywanie jako plik obrazu wykresu</span><span class="sxs-lookup"><span data-stu-id="a3b3e-309">Saving a Chart as an Image File</span></span>

<span data-ttu-id="a3b3e-310">Wykres można także zapisać jako plik obrazu (na przykład jako *.jpg* pliku) na serwerze.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-310">You can also save a chart as an image file (for example, as a *.jpg* file) on the server.</span></span> <span data-ttu-id="a3b3e-311">Można następnie użyć pliku obrazu sposób, w jaki żadnego obrazu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-311">You can then use the image file the way you would any image.</span></span> <span data-ttu-id="a3b3e-312">Zaletą jest to plik jest przechowywany zamiast zapisane do tymczasowego pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-312">The advantage is the file is stored rather than saved to a temporary cache.</span></span> <span data-ttu-id="a3b3e-313">Można zapisać nowy obraz wykresu o różnych porach (na przykład co godzinę) i następnie rejestrować je trwałych zmian, które występują w czasie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-313">You can save a new chart image at different times (for example, every hour) and then keep a permanent record of the changes that occur over time.</span></span> <span data-ttu-id="a3b3e-314">Należy pamiętać, że należy upewnić się, że aplikację sieci web ma uprawnienia do zapisania pliku do folderu na serwerze, na którym ma zostać umieszczony plik obrazu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-314">Note that you must make sure that your web application has permission to save a file to the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="a3b3e-315">W katalogu głównym witryny sieci Web, Utwórz folder o nazwie  *\_ChartFiles* Jeśli jeszcze nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-315">At the root of your website, create a folder named *\_ChartFiles* if it does not already exist.</span></span>
2. <span data-ttu-id="a3b3e-316">W katalogu głównym witryny sieci Web, Utwórz nowy plik o nazwie *ChartSave.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-316">At the root of your website, create a new file named *ChartSave.cshtml*.</span></span>
3. <span data-ttu-id="a3b3e-317">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-317">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample15.cshtml)]

    <span data-ttu-id="a3b3e-318">Kod najpierw sprawdza, czy *.jpg* plik istnieje, wywołując `File.Exists` metody.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-318">The code first checks to see whether the *.jpg* file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="a3b3e-319">Jeśli plik nie istnieje, kod tworzy nową `Chart` z tablicy.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-319">If the file does not exist, the code creates a new `Chart` from an array.</span></span> <span data-ttu-id="a3b3e-320">Teraz, kod wywołuje `Save` — metoda i przekazuje `path` parametr, aby określić ścieżkę i nazwę pliku z lokalizacji zapisu na wykresie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-320">This time, the code calls the `Save` method and passes the `path` parameter to specify the file path and file name of where to save the chart.</span></span> <span data-ttu-id="a3b3e-321">W treści strony `<img>` elementu użyto ścieżki, aby wskazywał *.jpg* plików do wyświetlenia.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-321">In the body of the page, an `<img>` element uses the path to point to the *.jpg* file to display.</span></span>
4. <span data-ttu-id="a3b3e-322">Uruchom *ChartSave.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-322">Run the *ChartSave.cshtml* file.</span></span>
5. <span data-ttu-id="a3b3e-323">Wróć do programu WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-323">Return to WebMatrix.</span></span> <span data-ttu-id="a3b3e-324">Należy zauważyć, że plik obrazu o nazwie *chart01.jpg* został zapisany w  *\_ChartFiles* folderu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-324">Notice that an image file named *chart01.jpg* has been saved in the *\_ChartFiles* folder.</span></span>

### <a name="saving-a-chart-as-an-xml-file"></a><span data-ttu-id="a3b3e-325">Zapisywanie wykresu jako pliku XML</span><span class="sxs-lookup"><span data-stu-id="a3b3e-325">Saving a Chart as an XML File</span></span>

<span data-ttu-id="a3b3e-326">Na koniec wykres można zapisać jako plik XML na serwerze.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-326">Finally, you can save a chart as an XML file on the server.</span></span> <span data-ttu-id="a3b3e-327">Zaletą tej metody za pośrednictwem buforowanie wykresu lub zapisywania wykresu do pliku jest, czy można zmodyfikować pliku XML przed wyświetleniem wykresu, jeśli chcesz.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-327">An advantage of using this method over caching the chart or saving the chart to a file is that you could modify the XML before displaying the chart if you wanted to.</span></span> <span data-ttu-id="a3b3e-328">Aplikacja musi mieć uprawnienia odczytu/zapisu do folderu na serwerze, w którym ma zostać umieszczony plik obrazu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-328">Your application has to have read/write permissions for the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="a3b3e-329">W katalogu głównym witryny sieci Web, Utwórz nowy plik o nazwie *ChartSaveXml.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-329">At the root of your website, create a new file named *ChartSaveXml.cshtml*.</span></span>
2. <span data-ttu-id="a3b3e-330">Zastąp istniejącą zawartość następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-330">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample16.cshtml)]

    <span data-ttu-id="a3b3e-331">Ten kod jest podobny do kodu, który był wyświetlany poprzednio do zapisywania wykresu w pamięci podręcznej, z wyjątkiem tego, że używa pliku XML.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-331">This code is similar to the code that you saw earlier for storing a chart in the cache, except that it uses an XML file.</span></span> <span data-ttu-id="a3b3e-332">Kod najpierw sprawdza, czy plik XML istnieje przez wywołanie metody `File.Exists` metody.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-332">The code first checks to see whether the XML file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="a3b3e-333">Jeśli plik istnieje, kod tworzy nową `Chart` obiektu i przekazuje nazwę pliku jako `themePath` parametru.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-333">If the file does exist, the code creates a new `Chart` object and passes the file name as the `themePath` parameter.</span></span> <span data-ttu-id="a3b3e-334">Spowoduje to utworzenie wykresu oparte na dowolnym znajduje się w pliku XML.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-334">This creates the chart based on whatever's in the XML file.</span></span> <span data-ttu-id="a3b3e-335">Jeśli plik XML nie istnieje, tworzy wykres, takich jak normalne kod, a następnie wywołuje `SaveXml` go zapisać.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-335">If the XML file doesn't already exist, the code creates a chart like normal and then calls `SaveXml` to save it.</span></span> <span data-ttu-id="a3b3e-336">Wykres jest renderowany przy użyciu `Write` metody, jak przedstawiono przed.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-336">The chart is rendered using the `Write` method, as you've seen before.</span></span>

    <span data-ttu-id="a3b3e-337">Podobnie jak w przypadku strony, którą wykazało buforowania, ten kod zawiera sygnaturę czasową w tytuł wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-337">As with the page that showed caching, this code includes a timestamp in the chart title.</span></span>
3. <span data-ttu-id="a3b3e-338">Utwórz nową stronę o nazwie *ChartDisplayXMLChart.cshtml* i Dodaj do niej następujący kod:</span><span class="sxs-lookup"><span data-stu-id="a3b3e-338">Create a new page named *ChartDisplayXMLChart.cshtml* and add the following markup to it:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample17.html)]
4. <span data-ttu-id="a3b3e-339">Uruchom *ChartDisplayXMLChart.cshtml* strony.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-339">Run the *ChartDisplayXMLChart.cshtml* page.</span></span> <span data-ttu-id="a3b3e-340">Wykres zostanie wyświetlony.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-340">The chart is displayed.</span></span> <span data-ttu-id="a3b3e-341">Zanotuj sygnaturę czasową tytuł wykresu.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-341">Take note of the timestamp in the chart's title.</span></span>
5. <span data-ttu-id="a3b3e-342">Zamknij przeglądarkę.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-342">Close the browser.</span></span>
6. <span data-ttu-id="a3b3e-343">W programie WebMatrix, kliknij prawym przyciskiem myszy  *\_ChartFiles* folderu, kliknij przycisk **Odśwież**, a następnie otwórz folder.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-343">In WebMatrix, right-click the *\_ChartFiles* folder, click **Refresh**, and then open the folder.</span></span> <span data-ttu-id="a3b3e-344">*XMLChart.xml* plik w tym folderze został utworzony przez `Chart` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-344">The *XMLChart.xml* file in this folder was created by the `Chart` helper.</span></span> 

    ![Opis: Folder _ChartFiles przedstawiający XMLChart.xml plik utworzony przez pomocnika wykresu.](7-displaying-data-in-a-chart/_static/image14.jpg)
7. <span data-ttu-id="a3b3e-346">Uruchom *ChartDisplayXMLChart.cshtml* strony ponownie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-346">Run the *ChartDisplayXMLChart.cshtml* page again.</span></span> <span data-ttu-id="a3b3e-347">Wykres przedstawia tą samą sygnaturą czasową jako podczas pierwszego uruchomienia strony.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-347">The chart shows the same timestamp as the first time you ran the page.</span></span> <span data-ttu-id="a3b3e-348">To ponieważ wykresu są generowane z pliku XML został wcześniej zapisany.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-348">That's because the chart is being generated from the XML you saved earlier.</span></span>
8. <span data-ttu-id="a3b3e-349">W programie WebMatrix, otwórz  *\_ChartFiles* folder i Usuń *XMLChart.xml* pliku.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-349">In WebMatrix, open the *\_ChartFiles* folder and delete the *XMLChart.xml* file.</span></span>
9. <span data-ttu-id="a3b3e-350">Uruchom *ChartDisplayXMLChart.cshtml* strony ponownie.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-350">Run the *ChartDisplayXMLChart.cshtml* page once more.</span></span> <span data-ttu-id="a3b3e-351">Teraz, zaktualizować sygnaturę czasową, ponieważ `Chart` pomocnika musiał ponownie utworzyć plik XML.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-351">This time, the timestamp is updated, because the `Chart` helper had to recreate the XML file.</span></span> <span data-ttu-id="a3b3e-352">Jeśli chcesz, sprawdź  *\_ChartFiles* folderu i zwróć uwagę, że plik XML została przywrócona.</span><span class="sxs-lookup"><span data-stu-id="a3b3e-352">If you want, check the *\_ChartFiles* folder and notice that the XML file is back.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="a3b3e-353">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="a3b3e-353">Additional Resources</span></span>

- [<span data-ttu-id="a3b3e-354">Wprowadzenie do pracy z bazą danych w sieci Web ASP.NET stron witryny</span><span class="sxs-lookup"><span data-stu-id="a3b3e-354">Introduction to Working with a Database in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=202893)
- [<span data-ttu-id="a3b3e-355">Przy użyciu pamięci podręcznej w sieci Web ASP.NET strony lokacjach w celu zwiększenia wydajności</span><span class="sxs-lookup"><span data-stu-id="a3b3e-355">Using Caching in ASP.NET Web Pages Sites to Improve Performance</span></span>](https://go.microsoft.com/fwlink/?LinkId=202903)
- <span data-ttu-id="a3b3e-356">[Klasa wykresu](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (odwołanie do API stron sieci Web ASP.NET w witrynie MSDN)</span><span class="sxs-lookup"><span data-stu-id="a3b3e-356">[Chart Class](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (ASP.NET Web Pages API reference on MSDN)</span></span>
