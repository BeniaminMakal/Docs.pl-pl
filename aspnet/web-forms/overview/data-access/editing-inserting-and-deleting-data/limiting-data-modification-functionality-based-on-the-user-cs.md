---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/limiting-data-modification-functionality-based-on-the-user-cs
title: "Ograniczenia funkcji modyfikacji danych na podstawie użytkownika (C#) | Dokumentacja firmy Microsoft"
author: rick-anderson
description: "W aplikacji sieci web, która umożliwia użytkownikom edytowanie danych konta innego użytkownika mogą mieć różne uprawnienia do edycji danych. W tym samouczku zajmiemy się jak t..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: 2b251c82-77cf-4e36-baa9-b648eddaa394
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/limiting-data-modification-functionality-based-on-the-user-cs
msc.type: authoredcontent
ms.openlocfilehash: 44d0c192e082a7ad123096acb57fd053f6dcaeb1
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/10/2017
---
<a name="limiting-data-modification-functionality-based-on-the-user-c"></a><span data-ttu-id="52508-104">Ograniczenia funkcji modyfikacji danych na podstawie użytkownika (C#)</span><span class="sxs-lookup"><span data-stu-id="52508-104">Limiting Data Modification Functionality Based on the User (C#)</span></span>
====================
<span data-ttu-id="52508-105">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="52508-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="52508-106">[Pobierz przykładową aplikację](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_23_CS.exe) lub [pobierania plików PDF](limiting-data-modification-functionality-based-on-the-user-cs/_static/datatutorial23cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="52508-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_23_CS.exe) or [Download PDF](limiting-data-modification-functionality-based-on-the-user-cs/_static/datatutorial23cs1.pdf)</span></span>

> <span data-ttu-id="52508-107">W aplikacji sieci web, która umożliwia użytkownikom edytowanie danych konta innego użytkownika mogą mieć różne uprawnienia do edycji danych.</span><span class="sxs-lookup"><span data-stu-id="52508-107">In a web application that allows users to edit data, different user accounts may have different data-editing privileges.</span></span> <span data-ttu-id="52508-108">W tym samouczku zajmiemy się, jak ustawić dynamicznie na podstawie zaproszonych użytkownika funkcji modyfikacji danych.</span><span class="sxs-lookup"><span data-stu-id="52508-108">In this tutorial we'll examine how to dynamically adjust the data modification capabilities based on the visiting user.</span></span>


## <a name="introduction"></a><span data-ttu-id="52508-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="52508-109">Introduction</span></span>

<span data-ttu-id="52508-110">Wiele aplikacji sieci web obsługuje kont użytkowników i innych opcji, raporty i funkcjonalność, na podstawie zalogowanego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="52508-110">A number of web applications support user accounts and provide different options, reports, and functionality based on the logged in user.</span></span> <span data-ttu-id="52508-111">Na przykład z naszymi samouczkami, firma Microsoft może użytkownicy będą firm dostawcy zalogować się do witryny i zaktualizuj informacje ogólne o swoich produktach - nazwy użytkownika i ilość na jednostkę, prawdopodobnie — wraz z informacjami o dostawcy, takie jak jego nazwa firmy adres, informacje kontaktowe osoby s i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="52508-111">For example, with our tutorials we might want to allow users from the supplier companies to log on to the site and update general information about their products - their name and quantity per unit, perhaps - along with supplier information, such as their company name, address, the contact person s information, and so on.</span></span> <span data-ttu-id="52508-112">Ponadto firma Microsoft może być obejmują niektóre konta użytkowników dla osób z naszej firmy, dzięki czemu mogą zalogować się i zaktualizować informacje o produkcie, takich jak jednostki w magazynie, minimum i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="52508-112">Furthermore, we might want to include some user accounts for people from our company so that they can log on and update product information like units on stock, reorder level, and so forth.</span></span> <span data-ttu-id="52508-113">Naszej aplikacji sieci web mogą również zezwalać użytkownikom anonimowym odwiedź (osoby, które nie są zalogowani), ale będzie ograniczona ich jedynie do wyświetlania danych.</span><span class="sxs-lookup"><span data-stu-id="52508-113">Our web application might also allow anonymous users to visit (people who have not logged on), but would limit them to just viewing data.</span></span> <span data-ttu-id="52508-114">Takie w systemie użytkownika konta w miejscu czy chcemy danych formantów sieci Web w naszej strony ASP.NET oferowanie Wstawianie, edytowanie i usuwanie możliwości odpowiednie dla obecnie zalogowanego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="52508-114">With such a user account system in place, we would want the data Web controls in our ASP.NET pages to offer the inserting, editing, and deleting capabilities appropriate for the currently logged on user.</span></span>

<span data-ttu-id="52508-115">W tym samouczku zajmiemy się, jak ustawić dynamicznie na podstawie zaproszonych użytkownika funkcji modyfikacji danych.</span><span class="sxs-lookup"><span data-stu-id="52508-115">In this tutorial we'll examine how to dynamically adjust the data modification capabilities based on the visiting user.</span></span> <span data-ttu-id="52508-116">W szczególności utworzymy strona, która zawiera informacje dotyczące dostawców w edytowalnych DetailsView wraz z widoku GridView, który zawiera listę produktów, dostarczone przez dostawcę.</span><span class="sxs-lookup"><span data-stu-id="52508-116">In particular, we'll create a page that displays the suppliers information in an editable DetailsView along with a GridView that lists the products provided by the supplier.</span></span> <span data-ttu-id="52508-117">W przypadku użytkowników, odwiedzając stronę z naszej firmy, mogą one: wyświetlanie wszystkich informacji dostawcy s; Edytowanie adresu; i zmodyfikowania tych informacji w odniesieniu do produktu dostarczony przez dostawcę.</span><span class="sxs-lookup"><span data-stu-id="52508-117">If the user visiting the page is from our company, they can: view any supplier s information; edit their address; and edit the information for any product provided by the supplier.</span></span> <span data-ttu-id="52508-118">Jeśli jednak użytkownik należy do określonej firmy, mogą one tylko wyświetlić i edytować własnych informacji o adresie oraz można edytować tylko ich produktów, które nie zostały oznaczone jako przerywane.</span><span class="sxs-lookup"><span data-stu-id="52508-118">If, however, the user is from a particular company, they can only view and edit their own address information and can only edit their products that have not been marked as discontinued.</span></span>


<span data-ttu-id="52508-119">[![Użytkownik z naszej firmy można edytować żadnych informacji s dostawcy](limiting-data-modification-functionality-based-on-the-user-cs/_static/image2.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="52508-119">[![A User from Our Company Can Edit Any Supplier s Information](limiting-data-modification-functionality-based-on-the-user-cs/_static/image2.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image1.png)</span></span>

<span data-ttu-id="52508-120">**Rysunek 1**: użytkownik z s nasze firmy można edytować dowolnego dostawcy informacji ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="52508-120">**Figure 1**: A User from Our Company Can Edit Any Supplier s Information ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image3.png))</span></span>


<span data-ttu-id="52508-121">[![Użytkownik z określonego dostawcę może tylko wyświetlanie i edytowanie informacji o ich](limiting-data-modification-functionality-based-on-the-user-cs/_static/image5.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="52508-121">[![A User from a Particular Supplier Can Only View and Edit their Information](limiting-data-modification-functionality-based-on-the-user-cs/_static/image5.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image4.png)</span></span>

<span data-ttu-id="52508-122">**Rysunek 2**: użytkownik z określonego dostawcy można tylko wyświetlanie i edytowanie informacji o ich ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="52508-122">**Figure 2**: A User from a Particular Supplier Can Only View and Edit their Information ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image6.png))</span></span>


<span data-ttu-id="52508-123">Rozpoczynanie pracy dzięki s!</span><span class="sxs-lookup"><span data-stu-id="52508-123">Let s get started!</span></span>

> [!NOTE]
> <span data-ttu-id="52508-124">Platforma ASP.NET 2.0 systemu członkostwa s zapewnia platformę standardowych, rozszerzalne do tworzenia, zarządzania i sprawdzanie poprawności konta użytkownika.</span><span class="sxs-lookup"><span data-stu-id="52508-124">ASP.NET 2.0 s membership system provides a standardized, extensible platform for creating, managing, and validating user accounts.</span></span> <span data-ttu-id="52508-125">Ponieważ badanie systemu członkostwa wykracza poza zakres tego samouczka, w tym samouczku zamiast tego "substytutów" członkostwa, zezwalając anonimowe odwiedzających wybierz, czy są one z określonego dostawcę lub firmy.</span><span class="sxs-lookup"><span data-stu-id="52508-125">Since an examination of the membership system is beyond the scope of these tutorials, this tutorial instead "fakes" membership by allowing anonymous visitors to choose whether they are from a particular supplier or from our company.</span></span> <span data-ttu-id="52508-126">Więcej na członkostwo, można znaleźć w mojej [s badanie ASP.NET 2.0 członkostwa, ról i profilu](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx) artykuł z serii.</span><span class="sxs-lookup"><span data-stu-id="52508-126">For more on membership, refer to my [Examining ASP.NET 2.0 s Membership, Roles, and Profile](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx) article series.</span></span>


## <a name="step-1-allowing-the-user-to-specify-their-access-rights"></a><span data-ttu-id="52508-127">Krok 1: Zezwalanie użytkownikowi określenie praw dostępu</span><span class="sxs-lookup"><span data-stu-id="52508-127">Step 1: Allowing the User to Specify their Access Rights</span></span>

<span data-ttu-id="52508-128">W aplikacji sieci web rzeczywistych informacje o koncie s użytkownika czy obejmują one działał dla firmy lub dla określonego dostawcy, a te informacje będą programowo dostępne z naszej strony ASP.NET, gdy użytkownik jest zalogowany do lokacji.</span><span class="sxs-lookup"><span data-stu-id="52508-128">In a real-world web application, a user s account information would include whether they worked for our company or for a particular supplier, and this information would be programmatically accessible from our ASP.NET pages once the user has logged on to the site.</span></span> <span data-ttu-id="52508-129">Te informacje można przechwytywać za pomocą programu ASP.NET 2.0 s role systemu, jako informacje o koncie użytkownika na poziomie przez system profilu, albo przez oznacza, że niektóre niestandardowe.</span><span class="sxs-lookup"><span data-stu-id="52508-129">This information could be captured through ASP.NET 2.0 s roles system, as user-level account information through the profile system, or through some custom means.</span></span>

<span data-ttu-id="52508-130">Od czasu w celu tego samouczka jest aby zademonstrować dostosowanie funkcji modyfikacji danych na podstawie zalogowanego użytkownika, a nie jest przeznaczona do członkostwa s pokazy ASP.NET 2.0, ról i profilu systemów, aby określić użyjemy mechanizm bardzo prosty możliwości dla użytkownika, odwiedzając stronę - DropDownList, z którego użytkownik może wskazywać, czy powinno być możliwe wyświetlić i edytować informacje o dostawcy i, można również co określonego dostawcę s informacji mogą wyświetlać i edytować.</span><span class="sxs-lookup"><span data-stu-id="52508-130">Since the aim of this tutorial is to demonstrate adjusting the data modification capabilities based on the logged on user, and is not meant to showcase ASP.NET 2.0 s membership, roles, and profile systems, we'll use a very simply mechanism to determine the capabilities for the user visiting the page - a DropDownList from which the user can indicate if they should be able to view and edit any of the suppliers information or, alternatively, what particular supplier s information they can view and edit.</span></span> <span data-ttu-id="52508-131">Jeśli użytkownik wskazuje, czy użytkownik może wyświetlać i edytować wszystkie informacje o dostawcach (ustawienie domyślne), klika strony przez wszystkich dostawców, edytować dowolne informacje adres s dostawcy i Edytuj nazwę i ilość na jednostkę, dla każdego produktu dostarczony przez wybranego dostawcę.</span><span class="sxs-lookup"><span data-stu-id="52508-131">If the user indicates that she can view and edit all supplier information (the default), she can page through all suppliers, edit any supplier s address information, and edit the name and quantity per unit for any product provided by the selected supplier.</span></span> <span data-ttu-id="52508-132">Jeśli użytkownik wskazuje, że może ona tylko przeglądać i Edytuj określonego dostawcę, jednak, a następnie klika można tylko wyświetlić szczegóły i produktów dla jednego dostawcy i może tylko zaktualizować nazwę i ilość na informacje o jednostce dla produktów, które są *nie* przerywane.</span><span class="sxs-lookup"><span data-stu-id="52508-132">If the user indicates that she can only view and edit a particular supplier, however, then she can only view the details and products for that one supplier and can only update the name and quantity per unit information for those products that are *not* discontinued.</span></span>

<span data-ttu-id="52508-133">Naszym pierwszym krokiem w tym samouczku, wówczas do tworzenia tego DropDownList i wypełnić ją dostawców w systemie.</span><span class="sxs-lookup"><span data-stu-id="52508-133">Our first step in this tutorial, then, is to create this DropDownList and populate it with the suppliers in the system.</span></span> <span data-ttu-id="52508-134">Otwórz `UserLevelAccess.aspx` strony `EditInsertDelete` folderu, Dodaj DropDownList których `ID` właściwość jest ustawiona na `Suppliers`i powiązać ten DropDownList nowy element ObjectDataSource o nazwie `AllSuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="52508-134">Open the `UserLevelAccess.aspx` page in the `EditInsertDelete` folder, add a DropDownList whose `ID` property is set to `Suppliers`, and bind this DropDownList to a new ObjectDataSource named `AllSuppliersDataSource`.</span></span>


<span data-ttu-id="52508-135">[![Utwórz nowy element ObjectDataSource o nazwie AllSuppliersDataSource](limiting-data-modification-functionality-based-on-the-user-cs/_static/image8.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="52508-135">[![Create a New ObjectDataSource Named AllSuppliersDataSource](limiting-data-modification-functionality-based-on-the-user-cs/_static/image8.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image7.png)</span></span>

<span data-ttu-id="52508-136">**Rysunek 3**: Utwórz nowy składnik o nazwie ObjectDataSource `AllSuppliersDataSource` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="52508-136">**Figure 3**: Create a New ObjectDataSource Named `AllSuppliersDataSource` ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image9.png))</span></span>


<span data-ttu-id="52508-137">Ponieważ chcemy tego DropDownList uwzględnienie wszystkich dostawców skonfigurować ObjectDataSource do wywołania `SuppliersBLL` klasy s `GetSuppliers()` metody.</span><span class="sxs-lookup"><span data-stu-id="52508-137">Since we want this DropDownList to include all suppliers, configure the ObjectDataSource to invoke the `SuppliersBLL` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="52508-138">Również upewnij się, że element ObjectDataSource s `Update()` metody jest mapowany na `SuppliersBLL` klasy s `UpdateSupplierAddress` metody, jak ten element ObjectDataSource będą również używane przez widoku DetailsView, które będą dodawane w kroku 2.</span><span class="sxs-lookup"><span data-stu-id="52508-138">Also ensure that the ObjectDataSource s `Update()` method is mapped to the `SuppliersBLL` class s `UpdateSupplierAddress` method, as this ObjectDataSource will also be used by the DetailsView we'll be adding in Step 2.</span></span>

<span data-ttu-id="52508-139">Po zakończeniu pracy Kreatora ObjectDataSource, wykonaj kroki, konfigurując `Suppliers` DropDownList taki sposób, że widoczny jest `CompanyName` pola danych i używa `SupplierID` pola danych jako wartość dla każdego `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="52508-139">After completing the ObjectDataSource wizard, complete the steps by configuring the `Suppliers` DropDownList such that it shows the `CompanyName` data field and uses the `SupplierID` data field as the value for each `ListItem`.</span></span>


<span data-ttu-id="52508-140">[![Skonfiguruj DropDownList dostawcy do użycia NazwaFirmy i pola IDDostawcy danych](limiting-data-modification-functionality-based-on-the-user-cs/_static/image11.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="52508-140">[![Configure the Suppliers DropDownList to Use the CompanyName and SupplierID Data Fields](limiting-data-modification-functionality-based-on-the-user-cs/_static/image11.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image10.png)</span></span>

<span data-ttu-id="52508-141">**Rysunek 4**: Konfigurowanie `Suppliers` DropDownList użyć `CompanyName` i `SupplierID` pól danych ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="52508-141">**Figure 4**: Configure the `Suppliers` DropDownList to Use the `CompanyName` and `SupplierID` Data Fields ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image12.png))</span></span>


<span data-ttu-id="52508-142">W tym momencie DropDownList Wyświetla nazwy firmy, dostawców w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="52508-142">At this point, the DropDownList lists the company names of the suppliers in the database.</span></span> <span data-ttu-id="52508-143">Jednak również należy dołączyć opcję "Pokaż i edytowanie wszystkich dostawców", aby DropDownList.</span><span class="sxs-lookup"><span data-stu-id="52508-143">However, we also need to include a "Show/Edit ALL Suppliers" option to the DropDownList.</span></span> <span data-ttu-id="52508-144">Aby to zrobić, ustaw `Suppliers` DropDownList s `AppendDataBoundItems` właściwości `true` , a następnie dodaj `ListItem` których `Text` właściwość jest "Pokaż i edytowanie wszystkich dostawców", którego wartość jest `-1`.</span><span class="sxs-lookup"><span data-stu-id="52508-144">To accomplish this, set the `Suppliers` DropDownList s `AppendDataBoundItems` property to `true` and then add a `ListItem` whose `Text` property is "Show/Edit ALL Suppliers" and whose value is `-1`.</span></span> <span data-ttu-id="52508-145">To można dodać bezpośrednio za pomocą deklaratywne znaczników lub poprzez projektanta, przechodząc do okna właściwości i klikając wielokropek w DropDownList s `Items` właściwości.</span><span class="sxs-lookup"><span data-stu-id="52508-145">This can be added directly through the declarative markup or through the Designer by going to the Properties window and clicking on the ellipses in the DropDownList s `Items` property.</span></span>

> [!NOTE]
> <span data-ttu-id="52508-146">Odwołaj się do [ *wzorzec/szczegół filtrowania z DropDownList* ](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) samouczka bardziej szczegółowe omówienie na dodawanie elementu Zaznacz wszystko do powiązanych z danymi DropDownList.</span><span class="sxs-lookup"><span data-stu-id="52508-146">Refer back to the [*Master/Detail Filtering With a DropDownList*](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial for a more detailed discussion on adding a Select All item to a databound DropDownList.</span></span>


<span data-ttu-id="52508-147">Po `AppendDataBoundItems` właściwość została ustawiona i `ListItem` dodany, znaczników deklaratywne s DropDownList powinien wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="52508-147">After the `AppendDataBoundItems` property has been set and the `ListItem` added, the DropDownList s declarative markup should look like:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample1.aspx)]

<span data-ttu-id="52508-148">Rysunek 5. pokazuje zrzut ekranu: naszych Bieżący postęp, podczas wyświetlania za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="52508-148">Figure 5 shows a screen shot of our current progress, when viewed through a browser.</span></span>


<span data-ttu-id="52508-149">[![Lista DropDownList dostawców zawiera pokazu wszystkich element listy, a także dla każdego z dostawców](limiting-data-modification-functionality-based-on-the-user-cs/_static/image14.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="52508-149">[![The Suppliers DropDownList Contains a Show ALL ListItem, Plus One for Each Supplier](limiting-data-modification-functionality-based-on-the-user-cs/_static/image14.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image13.png)</span></span>

<span data-ttu-id="52508-150">**Rysunek 5**: `Suppliers` DropDownList zawiera wszystkie Pokaż `ListItem`, oraz jednym dla każdego dostawcy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="52508-150">**Figure 5**: The `Suppliers` DropDownList Contains a Show ALL `ListItem`, Plus One for Each Supplier ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image15.png))</span></span>


<span data-ttu-id="52508-151">Ponieważ chcemy Aktualizowanie interfejsu użytkownika, natychmiast po użytkownik zmienił ich wyboru, ustaw `Suppliers` DropDownList s `AutoPostBack` właściwości `true`.</span><span class="sxs-lookup"><span data-stu-id="52508-151">Since we want to update the user interface immediately after the user has changed their selection, set the `Suppliers` DropDownList s `AutoPostBack` property to `true`.</span></span> <span data-ttu-id="52508-152">W kroku 2 utworzymy zawierające informacje dotyczące dostawców według wybranego DropDownList formantu widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="52508-152">In Step 2 we'll create a DetailsView control that will show the information for the supplier(s) based on the DropDownList selection.</span></span> <span data-ttu-id="52508-153">Następnie, w kroku 3, utworzymy program obsługi zdarzeń dla tego s DropDownList `SelectedIndexChanged` zdarzeń, w którym zostanie dodany kod, który wiąże odpowiednie informacje do widoku DetailsView ustalane na podstawie wybranego dostawcy.</span><span class="sxs-lookup"><span data-stu-id="52508-153">Then, in Step 3, we'll create an event handler for this DropDownList s `SelectedIndexChanged` event, in which we'll add code that binds the appropriate supplier information to the DetailsView based upon the selected supplier.</span></span>

## <a name="step-2-adding-a-detailsview-control"></a><span data-ttu-id="52508-154">Krok 2: Dodawanie formantu widoku DetailsView</span><span class="sxs-lookup"><span data-stu-id="52508-154">Step 2: Adding a DetailsView Control</span></span>

<span data-ttu-id="52508-155">Pozwól umożliwia wyświetlanie informacji o dostawcy Element DetailsView s.</span><span class="sxs-lookup"><span data-stu-id="52508-155">Let s use a DetailsView to show supplier information.</span></span> <span data-ttu-id="52508-156">Dla użytkownika, który można wyświetlać i edytować wszystkich dostawców widoku DetailsView będzie obsługiwać stronicowania, umożliwiający użytkownikowi kroków opisanych w jeden rekord informacji o dostawcy naraz.</span><span class="sxs-lookup"><span data-stu-id="52508-156">For the user who can view and edit all suppliers, the DetailsView will support paging, allowing the user to step through the supplier information one record at a time.</span></span> <span data-ttu-id="52508-157">Jeśli użytkownik pracuje dla określonego dostawcy, jednak widoku DetailsView są wyświetlane tylko określonego dostawcy s informacje i nie będzie zawierać interfejsu stronicowania.</span><span class="sxs-lookup"><span data-stu-id="52508-157">If the user works for a particular supplier, however, the DetailsView will show only that particular supplier s information and will not include a paging interface.</span></span> <span data-ttu-id="52508-158">W obu przypadkach widoku DetailsView musi zezwolić użytkownikowi na edytowanie dostawcy s adresu, miasta i pola.</span><span class="sxs-lookup"><span data-stu-id="52508-158">In either case, the DetailsView needs to allow the user to edit the supplier s address, city, and country fields.</span></span>

<span data-ttu-id="52508-159">Na stronie poniżej Dodaj element DetailsView `Suppliers` DropDownList, ustaw jej `ID` właściwości `SupplierDetails`i powiązać `AllSuppliersDataSource` ObjectDataSource utworzony w poprzednim kroku.</span><span class="sxs-lookup"><span data-stu-id="52508-159">Add a DetailsView to the page beneath the `Suppliers` DropDownList, set its `ID` property to `SupplierDetails`, and bind it to the `AllSuppliersDataSource` ObjectDataSource created in the previous step.</span></span> <span data-ttu-id="52508-160">Następnie sprawdź włączyć stronicowanie i Włącz edytowanie pola wyboru z tagów inteligentnych s widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="52508-160">Next, check the Enable Paging and Enable Editing checkboxes from the DetailsView s smart tag.</span></span>

> [!NOTE]
> <span data-ttu-id="52508-161">Jeśli opcja Włącz edytowanie w widoku DetailsView s inteligentne ADAM t tagu go s, ponieważ nie mapy ObjectDataSource s `Update()` metodę `SuppliersBLL` klasy s `UpdateSupplierAddress` metody.</span><span class="sxs-lookup"><span data-stu-id="52508-161">If you don t see an Enable Editing option in the DetailsView s smart tag it s because you did not map the ObjectDataSource s `Update()` method to the `SuppliersBLL` class s `UpdateSupplierAddress` method.</span></span> <span data-ttu-id="52508-162">Poświęć chwilę, aby wrócić i zmienić tę konfigurację, zmienić, po upływie którego opcję Włącz edytowanie powinny być wyświetlane w widoku DetailsView tag inteligentny s.</span><span class="sxs-lookup"><span data-stu-id="52508-162">Take a moment to go back and make this configuration change, after which the Enable Editing option should appear in the DetailsView s smart tag.</span></span>


<span data-ttu-id="52508-163">Ponieważ `SuppliersBLL` klasy s `UpdateSupplierAddress` metody akceptuje tylko cztery parametry - `supplierID`, `address`, `city`, i `country` -zmodyfikować s widoku DetailsView BoundFields, aby `CompanyName` i `Phone` BoundFields są tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="52508-163">Since the `SuppliersBLL` class s `UpdateSupplierAddress` method only accepts four parameters - `supplierID`, `address`, `city`, and `country` - modify the DetailsView s BoundFields so that the `CompanyName` and `Phone` BoundFields are read-only.</span></span> <span data-ttu-id="52508-164">Ponadto, Usuń `SupplierID` całkowicie elementu BoundField.</span><span class="sxs-lookup"><span data-stu-id="52508-164">Additionally, remove the `SupplierID` BoundField altogether.</span></span> <span data-ttu-id="52508-165">Na koniec `AllSuppliersDataSource` ma obecnie ObjectDataSource jego `OldValuesParameterFormatString` ustawioną właściwość `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="52508-165">Finally, the `AllSuppliersDataSource` ObjectDataSource currently has its `OldValuesParameterFormatString` property set to `original_{0}`.</span></span> <span data-ttu-id="52508-166">Poświęć chwilę, aby usunąć ustawienie właściwości z całkowicie składni deklaratywnej lub ustaw ją na wartość domyślna to `{0}`.</span><span class="sxs-lookup"><span data-stu-id="52508-166">Take a moment to remove this property setting from the declarative syntax altogether, or set it to the default value, `{0}`.</span></span>

<span data-ttu-id="52508-167">Po skonfigurowaniu `SupplierDetails` widoku DetailsView i `AllSuppliersDataSource` ObjectDataSource, firma Microsoft będzie mieć następujące deklaratywne znaczników:</span><span class="sxs-lookup"><span data-stu-id="52508-167">After configuring the `SupplierDetails` DetailsView and `AllSuppliersDataSource` ObjectDataSource, we will have the following declarative markup:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample2.aspx)]

<span data-ttu-id="52508-168">W tym momencie widoku DetailsView może być stronicowana za pośrednictwem i można go zaktualizować informacje o adresach wybranego dostawcy s niezależnie od opcji wybranej w `Suppliers` DropDownList (patrz rysunek 6).</span><span class="sxs-lookup"><span data-stu-id="52508-168">At this point the DetailsView can be paged through and the selected supplier s address information can be updated, regardless of the selection made in the `Suppliers` DropDownList (see Figure 6).</span></span>


<span data-ttu-id="52508-169">[![Wszelkie informacje dostawców można wyświetlić i zaktualizować adres](limiting-data-modification-functionality-based-on-the-user-cs/_static/image17.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="52508-169">[![Any Suppliers Information Can Be Viewed, and Its Address Updated](limiting-data-modification-functionality-based-on-the-user-cs/_static/image17.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image16.png)</span></span>

<span data-ttu-id="52508-170">**Rysunek 6**: wszystkich dostawców informacje można wyświetlić i zaktualizować jej adresu ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="52508-170">**Figure 6**: Any Suppliers Information Can Be Viewed, and Its Address Updated ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image18.png))</span></span>


## <a name="step-3-displaying-only-the-selected-supplier-s-information"></a><span data-ttu-id="52508-171">Krok 3: Wyświetlanie informacji s wybranego dostawcy</span><span class="sxs-lookup"><span data-stu-id="52508-171">Step 3: Displaying Only the Selected Supplier s Information</span></span>

<span data-ttu-id="52508-172">Naszą stronę obecnie Wyświetla informacje dla wszystkich dostawców niezależnie od tego, czy została wybrana określonego dostawcę z `Suppliers` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="52508-172">Our page currently displays the information for all suppliers regardless of whether a particular supplier has been selected from the `Suppliers` DropDownList.</span></span> <span data-ttu-id="52508-173">Aby wyświetlić tylko informacje dostawcy dla wybranego dostawcy należy dodać inny element ObjectDataSource do strony, który pobiera informacje dotyczące określonego dostawcy.</span><span class="sxs-lookup"><span data-stu-id="52508-173">In order to display just the supplier information for the selected supplier we need to add another ObjectDataSource to our page, one that retrieves information about a particular supplier.</span></span>

<span data-ttu-id="52508-174">Dodaj nowy element ObjectDataSource ze stroną nazw `SingleSupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="52508-174">Add a new ObjectDataSource to the page, naming it `SingleSupplierDataSource`.</span></span> <span data-ttu-id="52508-175">W tagu inteligentnego, kliknij łącze skonfiguruj źródło danych i go używać `SuppliersBLL` klasy s `GetSupplierBySupplierID(supplierID)` metody.</span><span class="sxs-lookup"><span data-stu-id="52508-175">From its smart tag, click the Configure Data Source link and have it use the `SuppliersBLL` class s `GetSupplierBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="52508-176">Jak `AllSuppliersDataSource` ObjectDataSource, mają `SingleSupplierDataSource` ObjectDataSource s `Update()` metody mapowane na `SuppliersBLL` klasy s `UpdateSupplierAddress` — metoda.</span><span class="sxs-lookup"><span data-stu-id="52508-176">As with the `AllSuppliersDataSource` ObjectDataSource, have the `SingleSupplierDataSource` ObjectDataSource s `Update()` method mapped to the `SuppliersBLL` class s `UpdateSupplierAddress` method.</span></span>


<span data-ttu-id="52508-177">[![Skonfiguruj SingleSupplierDataSource ObjectDataSource przy użyciu metody GetSupplierBySupplierID(supplierID)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image20.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="52508-177">[![Configure the SingleSupplierDataSource ObjectDataSource to Use the GetSupplierBySupplierID(supplierID) Method](limiting-data-modification-functionality-based-on-the-user-cs/_static/image20.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image19.png)</span></span>

<span data-ttu-id="52508-178">**Rysunek 7**: Konfigurowanie `SingleSupplierDataSource` ObjectDataSource użyć `GetSupplierBySupplierID(supplierID)` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="52508-178">**Figure 7**: Configure the `SingleSupplierDataSource` ObjectDataSource to Use the `GetSupplierBySupplierID(supplierID)` Method ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image21.png))</span></span>


<span data-ttu-id="52508-179">Następnie możemy re monit o określenie źródło parametru `GetSupplierBySupplierID(supplierID)` metody s `supplierID` parametru wejściowego.</span><span class="sxs-lookup"><span data-stu-id="52508-179">Next, we re prompted to specify the parameter source for the `GetSupplierBySupplierID(supplierID)` method s `supplierID` input parameter.</span></span> <span data-ttu-id="52508-180">Ponieważ chcemy wyświetlić informacje dotyczące dostawcy z DropDownList, użyj `Suppliers` DropDownList s `SelectedValue` właściwość jako źródło parametru.</span><span class="sxs-lookup"><span data-stu-id="52508-180">Since we want to show the information for the supplier selected from the DropDownList, use the `Suppliers` DropDownList s `SelectedValue` property as the parameter source.</span></span>


<span data-ttu-id="52508-181">[![Użyj DropDownList dostawców jako IDDostawcy źródło parametru](limiting-data-modification-functionality-based-on-the-user-cs/_static/image23.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="52508-181">[![Use the Suppliers DropDownList as the supplierID Parameter Source](limiting-data-modification-functionality-based-on-the-user-cs/_static/image23.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image22.png)</span></span>

<span data-ttu-id="52508-182">**Rysunek 8**: Użyj `Suppliers` DropDownList jako `supplierID` źródło parametru ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="52508-182">**Figure 8**: Use the `Suppliers` DropDownList as the `supplierID` Parameter Source ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image24.png))</span></span>


<span data-ttu-id="52508-183">Nawet w przypadku tego dodany drugi ObjectDataSource, formantu widoku DetailsView jest obecnie skonfigurowany zawsze używaj `AllSuppliersDataSource` ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="52508-183">Even with this second ObjectDataSource added, the DetailsView control is currently configured to always use the `AllSuppliersDataSource` ObjectDataSource.</span></span> <span data-ttu-id="52508-184">Musimy dodać logikę, aby dopasować źródło danych używane przez element DetailsView w zależności od `Suppliers` zaznaczony element DropDownList.</span><span class="sxs-lookup"><span data-stu-id="52508-184">We need to add logic to adjust the data source used by the DetailsView depending on the `Suppliers` DropDownList item selected.</span></span> <span data-ttu-id="52508-185">W tym celu należy utworzyć `SelectedIndexChanged` programu obsługi zdarzeń dla DropDownList dostawców.</span><span class="sxs-lookup"><span data-stu-id="52508-185">To accomplish this, create a `SelectedIndexChanged` event handler for the Suppliers DropDownList.</span></span> <span data-ttu-id="52508-186">Można go utworzyć najłatwiej kliknąć dwukrotnie DropDownList w projektancie.</span><span class="sxs-lookup"><span data-stu-id="52508-186">This can most easily be created by double-clicking the DropDownList in the Designer.</span></span> <span data-ttu-id="52508-187">Ten program obsługi zdarzeń musi określić, jakie źródła danych do użycia i musi ponownie powiązać dane do widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="52508-187">This event handler needs to determine what data source to use and must rebind the data to the DetailsView.</span></span> <span data-ttu-id="52508-188">Jest to realizowane przy użyciu następującego kodu:</span><span class="sxs-lookup"><span data-stu-id="52508-188">This is accomplished with the following code:</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample3.cs)]

<span data-ttu-id="52508-189">Program obsługi zdarzeń rozpoczyna się przez określenie, czy wybrano opcję "Pokaż i edytowanie wszystkich dostawców".</span><span class="sxs-lookup"><span data-stu-id="52508-189">The event handler begins by determining whether the "Show/Edit ALL Suppliers" option was selected.</span></span> <span data-ttu-id="52508-190">Jeśli tak jest, ustawia `SupplierDetails` s widoku DetailsView `DataSourceID` do `AllSuppliersDataSource` i zwraca użytkownika na pierwszy rekord w zestawie dostawców przez ustawienie `PageIndex` właściwości na 0.</span><span class="sxs-lookup"><span data-stu-id="52508-190">If it was, it sets the `SupplierDetails` DetailsView s `DataSourceID` to `AllSuppliersDataSource` and returns the user to the first record in the set of suppliers by setting the `PageIndex` property to 0.</span></span> <span data-ttu-id="52508-191">Jeśli jednak użytkownik wybrał określonego dostawcę z DropDownList, s widoku DetailsView `DataSourceID` jest przypisany do `SingleSuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="52508-191">If, however, the user has selected a particular supplier from the DropDownList, the DetailsView s `DataSourceID` is assigned to `SingleSuppliersDataSource`.</span></span> <span data-ttu-id="52508-192">Niezależnie od tego, jakie dane źródłowego jest używana, `SuppliersDetails` tryb zostanie przywrócony do trybu tylko do odczytu i danych jest odbitych do widoku DetailsView przez wywołanie do `SuppliersDetails` kontroli s `DataBind()` metody.</span><span class="sxs-lookup"><span data-stu-id="52508-192">Regardless of what data source is used, the `SuppliersDetails` mode is reverted back to the read-only mode and the data is rebound to the DetailsView by a call to the `SuppliersDetails` control s `DataBind()` method.</span></span>

<span data-ttu-id="52508-193">Z tej obsługi zdarzeń w miejscu formantu widoku DetailsView zawiera obecnie wybranego dostawcy, chyba że wybrano opcję "Pokaż i edytowanie wszystkich dostawców", w którym to przypadku wszyscy dostawcy można wyświetlić za pomocą interfejsu stronicowania.</span><span class="sxs-lookup"><span data-stu-id="52508-193">With this event handler in place, the DetailsView control now shows the selected supplier, unless the "Show/Edit ALL Suppliers" option was selected, in which case all of the suppliers can be viewed through the paging interface.</span></span> <span data-ttu-id="52508-194">Na rysunku nr 9 przedstawiono strony z opcji "Pokaż i edytowanie wszystkich dostawców"; należy pamiętać, że interfejs stronicowania istnieje, umożliwiając użytkownikowi odwiedź i aktualizowanie dostawcy.</span><span class="sxs-lookup"><span data-stu-id="52508-194">Figure 9 shows the page with the "Show/Edit ALL Suppliers" option selected; note that the paging interface is present, allowing the user to visit and update any supplier.</span></span> <span data-ttu-id="52508-195">Rysunek nr 10 przedstawia strony z dostawcą Ma Maison zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="52508-195">Figure 10 shows the page with the Ma Maison supplier selected.</span></span> <span data-ttu-id="52508-196">Tylko informacje s Ma Maison w tym przypadku jest widoczny i edytować.</span><span class="sxs-lookup"><span data-stu-id="52508-196">Only Ma Maison s information is viewable and editable in this case.</span></span>


<span data-ttu-id="52508-197">[![Wszystkie informacje dostawców można wyświetlać i edytować](limiting-data-modification-functionality-based-on-the-user-cs/_static/image26.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="52508-197">[![All of the Suppliers Information Can Be Viewed and Edited](limiting-data-modification-functionality-based-on-the-user-cs/_static/image26.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image25.png)</span></span>

<span data-ttu-id="52508-198">**Rysunek 9**: wszystkich dostawców informacje można wyświetlić i edytowany ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="52508-198">**Figure 9**: All of the Suppliers Information Can Be Viewed and Edited ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image27.png))</span></span>


<span data-ttu-id="52508-199">[![Można wyświetlać i edytować tylko informacje wybranego dostawcy s](limiting-data-modification-functionality-based-on-the-user-cs/_static/image29.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="52508-199">[![Only the Selected Supplier s Information Can Be Viewed and Edited](limiting-data-modification-functionality-based-on-the-user-cs/_static/image29.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image28.png)</span></span>

<span data-ttu-id="52508-200">**Na rysunku nr 10**: tylko s dostawcy wybrane informacje mogą być Viewed i edytowany ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="52508-200">**Figure 10**: Only the Selected Supplier s Information Can Be Viewed and Edited ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="52508-201">W tym samouczku DropDownList i widoku DetailsView kontrolować s `EnableViewState` musi mieć ustawioną `true` (ustawienie domyślne) ponieważ DropDownList s `SelectedIndex` i s widoku DetailsView `DataSourceID` zmiany właściwości s należy pamiętać, między ogłaszania zwrotnego.</span><span class="sxs-lookup"><span data-stu-id="52508-201">For this tutorial, both the DropDownList and DetailsView control s `EnableViewState` must be set to `true` (the default) because the DropDownList s `SelectedIndex` and the DetailsView s `DataSourceID` property s changes must be remembered across postbacks.</span></span>


## <a name="step-4-listing-the-suppliers-products-in-an-editable-gridview"></a><span data-ttu-id="52508-202">Krok 4: Wyświetlanie listy produktów dostawców w można edytować widoku GridView</span><span class="sxs-lookup"><span data-stu-id="52508-202">Step 4: Listing the Suppliers Products in an Editable GridView</span></span>

<span data-ttu-id="52508-203">Z pełną DetailsView naszych następnym krokiem jest uwzględnienie można edytować widoku GridView z listą tych produktów dostarczone przez wybranego dostawcę.</span><span class="sxs-lookup"><span data-stu-id="52508-203">With the DetailsView complete, our next step is to include an editable GridView that lists those products provided by the selected supplier.</span></span> <span data-ttu-id="52508-204">Ten element GridView powinna zezwalać na modyfikacje tylko `ProductName` i `QuantityPerUnit` pól.</span><span class="sxs-lookup"><span data-stu-id="52508-204">This GridView should allow edits to only the `ProductName` and `QuantityPerUnit` fields.</span></span> <span data-ttu-id="52508-205">Ponadto, jeśli użytkownik, odwiedzając stronę od określonego dostawcy, tylko umożliwiać aktualizacje produktów, które są *nie* przerywane.</span><span class="sxs-lookup"><span data-stu-id="52508-205">Moreover, if the user visiting the page is from a particular supplier, it should only allow updates to those products that are *not* discontinued.</span></span> <span data-ttu-id="52508-206">Musisz najpierw dodać przeciążenie metody w tym celu `ProductsBLL` klasy s `UpdateProducts` metodę, która przyjmuje tylko `ProductID`, `ProductName`, i `QuantityPerUnit` pola jako dane wejściowe.</span><span class="sxs-lookup"><span data-stu-id="52508-206">To accomplish this we'll need to first add an overload of the `ProductsBLL` class s `UpdateProducts` method that takes in just the `ProductID`, `ProductName`, and `QuantityPerUnit` fields as inputs.</span></span> <span data-ttu-id="52508-207">Firma Microsoft kolejnych przeprowadził przez ten proces wcześniej w wielu samouczki, więc let s właśnie przyjrzeć się kod w tym miejscu, które powinny zostać dodane do `ProductsBLL`:</span><span class="sxs-lookup"><span data-stu-id="52508-207">We ve stepped through this process beforehand in numerous tutorials, so let s just look at the code here, which should be added to `ProductsBLL`:</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample4.cs)]

<span data-ttu-id="52508-208">Z tego przeciążenia utworzone, możemy re gotowe, aby dodać kontrolki widoku siatki i jego skojarzony element ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="52508-208">With this overload created, we re ready to add the GridView control and its associated ObjectDataSource.</span></span> <span data-ttu-id="52508-209">Na stronie Dodaj nowy element GridView, ustaw jej `ID` właściwości `ProductsBySupplier`i skonfigurować go do używania nowych ObjectDataSource, o nazwie `ProductsBySupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="52508-209">Add a new GridView to the page, set its `ID` property to `ProductsBySupplier`, and configure it to use a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span> <span data-ttu-id="52508-210">Ponieważ chcemy tego widoku GridView, aby wyświetlić listę tych produktów przez wybranego dostawcę użyć `ProductsBLL` klasy s `GetProductsBySupplierID(supplierID)` metody.</span><span class="sxs-lookup"><span data-stu-id="52508-210">Since we want this GridView to list those products by the selected supplier, use the `ProductsBLL` class s `GetProductsBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="52508-211">Również mapować `Update()` metody do nowego `UpdateProduct` przeciążenia właśnie utworzyliśmy.</span><span class="sxs-lookup"><span data-stu-id="52508-211">Also map the `Update()` method to the new `UpdateProduct` overload we just created.</span></span>


<span data-ttu-id="52508-212">[![Skonfiguruj ObjectDataSource do użycia przeciążenia UpdateProduct właśnie utworzony](limiting-data-modification-functionality-based-on-the-user-cs/_static/image32.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="52508-212">[![Configure the ObjectDataSource to Use the UpdateProduct Overload Just Created](limiting-data-modification-functionality-based-on-the-user-cs/_static/image32.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image31.png)</span></span>

<span data-ttu-id="52508-213">**Rysunek 11**: Konfigurowanie ObjectDataSource użyć `UpdateProduct` przeciążenia właśnie utworzony ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="52508-213">**Figure 11**: Configure the ObjectDataSource to Use the `UpdateProduct` Overload Just Created ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image33.png))</span></span>


<span data-ttu-id="52508-214">Firma Microsoft re monit o wybranie źródło parametru `GetProductsBySupplierID(supplierID)` metody s `supplierID` parametru wejściowego.</span><span class="sxs-lookup"><span data-stu-id="52508-214">We re prompted to select the parameter source for the `GetProductsBySupplierID(supplierID)` method s `supplierID` input parameter.</span></span> <span data-ttu-id="52508-215">Ponieważ chcemy pokazać produktów dla dostawcy wybranego w widoku DetailsView, użyj `SuppliersDetails` formantu widoku DetailsView s `SelectedValue` właściwość jako źródło parametru.</span><span class="sxs-lookup"><span data-stu-id="52508-215">Since we want to show the products for the supplier selected in the DetailsView, use the `SuppliersDetails` DetailsView control s `SelectedValue` property as the parameter source.</span></span>


<span data-ttu-id="52508-216">[![Jako źródło parametru należy użyć właściwości SelectedValue s SuppliersDetails widoku DetailsView](limiting-data-modification-functionality-based-on-the-user-cs/_static/image35.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="52508-216">[![Use the SuppliersDetails DetailsView s SelectedValue Property as the Parameter Source](limiting-data-modification-functionality-based-on-the-user-cs/_static/image35.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image34.png)</span></span>

<span data-ttu-id="52508-217">**Rysunek 12**: Użyj `SuppliersDetails` s widoku DetailsView `SelectedValue` właściwość jako źródło parametru ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="52508-217">**Figure 12**: Use the `SuppliersDetails` DetailsView s `SelectedValue` Property as the Parameter Source ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image36.png))</span></span>


<span data-ttu-id="52508-218">Powrót do widoku GridView, Usuń wszystkie pola widoku GridView z wyjątkiem `ProductName`, `QuantityPerUnit`, i `Discontinued`, oznaczanie `Discontinued` CheckBoxField jako tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="52508-218">Returning to the GridView, remove all of the GridView fields except for `ProductName`, `QuantityPerUnit`, and `Discontinued`, marking the `Discontinued` CheckBoxField as read-only.</span></span> <span data-ttu-id="52508-219">Ponadto zaznacz opcję Włącz edytowanie z tagów inteligentnych s widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="52508-219">Also, check the Enable Editing option from the GridView s smart tag.</span></span> <span data-ttu-id="52508-220">Po dokonaniu zmian, deklaratywne znaczników dla widoku GridView i ObjectDataSource powinien wyglądać podobnie do następujących:</span><span class="sxs-lookup"><span data-stu-id="52508-220">After these changes have been made, the declarative markup for the GridView and ObjectDataSource should look similar to the following:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample5.aspx)]

<span data-ttu-id="52508-221">Tak jak w naszych poprzednich ObjectDataSources to jeden s `OldValuesParameterFormatString` właściwość jest ustawiona na `original_{0}`, który może powodować problemy podczas próby zaktualizowania nazwy produktu s lub ilość na jednostkę.</span><span class="sxs-lookup"><span data-stu-id="52508-221">As with our previous ObjectDataSources, this one s `OldValuesParameterFormatString` property is set to `original_{0}`, which will cause problems when attempting to update a product s name or quantity per unit.</span></span> <span data-ttu-id="52508-222">Całkowicie Usuń tę właściwość z składni deklaratywnej lub ustaw ją na jego domyślny `{0}`.</span><span class="sxs-lookup"><span data-stu-id="52508-222">Remove this property from the declarative syntax altogether or set it to its default, `{0}`.</span></span>

<span data-ttu-id="52508-223">W tej konfiguracji pełną naszą stronę teraz zawiera listę produktów dostarczone przez dostawcę w widoku GridView (patrz rysunek 13).</span><span class="sxs-lookup"><span data-stu-id="52508-223">With this configuration complete, our page now lists the products provided by the supplier selected in the GridView (see Figure 13).</span></span> <span data-ttu-id="52508-224">Obecnie *żadnych* można zaktualizować nazwy produktu s lub ilość na jednostkę.</span><span class="sxs-lookup"><span data-stu-id="52508-224">Currently *any* product s name or quantity per unit can be updated.</span></span> <span data-ttu-id="52508-225">Jednak należy zaktualizować logiki strony, tak aby takich funkcji jest zabroniony dla obejmowałyby produkty dla użytkowników skojarzonych z określonym dostawcą.</span><span class="sxs-lookup"><span data-stu-id="52508-225">However, we need to update our page logic so that such functionality is prohibited for discontinued products for users associated with a particular supplier.</span></span> <span data-ttu-id="52508-226">Firma Microsoft będzie rozwiązania to ostatni element w kroku 5.</span><span class="sxs-lookup"><span data-stu-id="52508-226">We'll tackle this final piece in Step 5.</span></span>


<span data-ttu-id="52508-227">[![Produkty dostarczone przez dostawcę wybrane są wyświetlane.](limiting-data-modification-functionality-based-on-the-user-cs/_static/image38.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="52508-227">[![The Products Provided by the Selected Supplier are Displayed](limiting-data-modification-functionality-based-on-the-user-cs/_static/image38.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image37.png)</span></span>

<span data-ttu-id="52508-228">**Rysunek 13**: produkty dostarczone przez dostawcę wybrane są wyświetlane ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="52508-228">**Figure 13**: The Products Provided by the Selected Supplier are Displayed ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image39.png))</span></span>


> [!NOTE]
> <span data-ttu-id="52508-229">Dodając ten można edytować widoku GridView `Suppliers` DropDownList s `SelectedIndexChanged` obsługi zdarzeń powinny zostać uaktualnione do zwrócenia widoku GridView do stanu tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="52508-229">With the addition of this editable GridView the `Suppliers` DropDownList s `SelectedIndexChanged` event handler should be updated to return the GridView to a read-only state.</span></span> <span data-ttu-id="52508-230">W przeciwnym razie zaznaczenie inny dostawca podczas środku edytowanie informacji o produkcie odpowiedni indeks w widoku GridView dla nowego dostawcy również będzie można edytować.</span><span class="sxs-lookup"><span data-stu-id="52508-230">Otherwise, if a different supplier is selected while in the middle of editing product information, the corresponding index in the GridView for the new supplier will also be editable.</span></span> <span data-ttu-id="52508-231">Aby tego uniknąć, wystarczy ustawić GridView s `EditIndex` właściwości `-1` w `SelectedIndexChanged` obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="52508-231">To prevent this, simply set the GridView s `EditIndex` property to `-1` in the `SelectedIndexChanged` event handler.</span></span>


<span data-ttu-id="52508-232">Ponadto odwołania, jest ważne, czy można s widok stanu widoku GridView włączone (domyślnie).</span><span class="sxs-lookup"><span data-stu-id="52508-232">Also, recall that it is important that the GridView s view state be enabled (the default behavior).</span></span> <span data-ttu-id="52508-233">Jeśli ustawisz GridView s `EnableViewState` właściwości `false`, uruchom ryzyko równoczesnych użytkowników przypadkowo usunięcie lub edytowania rekordów.</span><span class="sxs-lookup"><span data-stu-id="52508-233">If you set the GridView s `EnableViewState` property to `false`, you run the risk of having concurrent users unintentionally deleting or editing records.</span></span> <span data-ttu-id="52508-234">Zobacz [Ostrzeżenie: problem współbieżności z ASP.NET 2.0 GridViews/widoku DetailsView/FormViews tej edycji pomocy technicznej i/lub usunięcie i Whose stan widoku jest wyłączona](http://scottonwriting.net/sowblog/posts/10054.aspx) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="52508-234">See [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/posts/10054.aspx) for more information.</span></span>

## <a name="step-5-disallow-editing-for-discontinued-products-when-showedit-all-suppliers-is-not-selected"></a><span data-ttu-id="52508-235">Krok 5: Nie zezwalaj na edytowanie jest przerywane produktów podczas pokazu i edytowanie wszystkich dostawców nie wybrano</span><span class="sxs-lookup"><span data-stu-id="52508-235">Step 5: Disallow Editing for Discontinued Products When Show/Edit ALL Suppliers is Not Selected</span></span>

<span data-ttu-id="52508-236">Gdy `ProductsBySupplier` widoku GridView jest w pełni funkcjonalny, obecnie przyznaje ona za dużo dostęp do tych użytkowników, którzy są od określonego dostawcy.</span><span class="sxs-lookup"><span data-stu-id="52508-236">While the `ProductsBySupplier` GridView is fully functional, it currently grants too much access to those users who are from a particular supplier.</span></span> <span data-ttu-id="52508-237">Na naszym reguł biznesowych takich użytkowników powinny nie była możliwa aktualizacja obejmowałyby produkty.</span><span class="sxs-lookup"><span data-stu-id="52508-237">Per our business rules, such users should not be able to update discontinued products.</span></span> <span data-ttu-id="52508-238">Aby wymusić to, firma Microsoft można ukryć (lub wyłącz) przycisk Edytuj w widoku GridView wiersze, w których produkty wycofane podczas odwiedzania strony przez użytkownika od dostawcy.</span><span class="sxs-lookup"><span data-stu-id="52508-238">To enforce this, we can hide (or disable) the Edit button in those GridView rows with discontinued products when the page is being visited by a user from a supplier.</span></span>

<span data-ttu-id="52508-239">Tworzenie procedury obsługi zdarzeń dla widoku GridView s `RowDataBound` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="52508-239">Create an event handler for the GridView s `RowDataBound` event.</span></span> <span data-ttu-id="52508-240">W tej obsłudze zdarzeń należy ustalić, czy użytkownik jest skojarzony z określonego dostawcę, który w tym samouczku, można ustalić sprawdzając s DropDownList dostawców `SelectedValue` właściwości — jeśli jego s coś innego niż -1, a następnie użytkownik jest skojarzone z określonym dostawcą.</span><span class="sxs-lookup"><span data-stu-id="52508-240">In this event handler we need to determine whether or not the user is associated with a particular supplier, which, for this tutorial, can be determined by checking the Suppliers DropDownList s `SelectedValue` property - if it s something other than -1, then the user is associated with a particular supplier.</span></span> <span data-ttu-id="52508-241">Dla tych użytkowników następnie należy określić, czy produkt jest już obsługiwana.</span><span class="sxs-lookup"><span data-stu-id="52508-241">For such users, we then need to determine whether or not the product is discontinued.</span></span> <span data-ttu-id="52508-242">Firma Microsoft wystarczy pobrać odwołanie do rzeczywistego `ProductRow` powiązane wystąpienie wiersza elementu GridView za pośrednictwem `e.Row.DataItem` właściwości, zgodnie z opisem w [ *wyświetlanie informacji podsumowania w widoku GridView s stopki* ](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) samouczek.</span><span class="sxs-lookup"><span data-stu-id="52508-242">We can grab a reference to the actual `ProductRow` instance bound to the GridView row via the `e.Row.DataItem` property, as discussed in the [*Displaying Summary Information in the GridView s Footer*](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) tutorial.</span></span> <span data-ttu-id="52508-243">Jeśli produkt jest przerywane, możemy chwycić programowe odwołanie do przycisk Edytuj w widoku GridView s CommandField przy użyciu techniki opisane w poprzedniej samouczek, [ *Dodawanie klienta potwierdzenia podczas usuwania* ](adding-client-side-confirmation-when-deleting-cs.md).</span><span class="sxs-lookup"><span data-stu-id="52508-243">If the product is discontinued, we can grab a programmatic reference to the Edit button in the GridView s CommandField using the techniques discussed in the previous tutorial, [*Adding Client-Side Confirmation When Deleting*](adding-client-side-confirmation-when-deleting-cs.md).</span></span> <span data-ttu-id="52508-244">Gdy istnieje odwołanie, firma Microsoft może ukryć lub Wyłącz przycisk.</span><span class="sxs-lookup"><span data-stu-id="52508-244">Once we have a reference we can then hide or disable the button.</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample6.cs)]

<span data-ttu-id="52508-245">Z tym zdarzeniem obsługi w miejscu, podczas odwiedzania tej strony jako użytkownik z określonym dostawcą tych produktów, które są anulowane jest niemożliwa, jako przycisk Edytuj jest ukryta dla tych produktów.</span><span class="sxs-lookup"><span data-stu-id="52508-245">With this event handler in place, when visiting this page as a user from a specific supplier those products that are discontinued are not editable, as the Edit button is hidden for these products.</span></span> <span data-ttu-id="52508-246">Na przykład Jacka Chef s Gumbo mieszany jest produktem wycofane radości Cajun Orleans nowego dostawcy.</span><span class="sxs-lookup"><span data-stu-id="52508-246">For example, Chef Anton s Gumbo Mix is a discontinued product for the New Orleans Cajun Delights supplier.</span></span> <span data-ttu-id="52508-247">Podczas odwiedzania strony dla tego konkretnego dostawcy, przycisk Edytuj dla tego produktu jest ukryta dla procesów (patrz rysunek 14).</span><span class="sxs-lookup"><span data-stu-id="52508-247">When visiting the page for this particular supplier, the Edit button for this product is hidden from sight (see Figure 14).</span></span> <span data-ttu-id="52508-248">Jednak przy użyciu "Pokaż i edytowanie wszystkich dostawców", przycisk Edytuj jest dostępna (patrz rysunek 15).</span><span class="sxs-lookup"><span data-stu-id="52508-248">However, when visiting using the "Show/Edit ALL Suppliers," the Edit button is available (see Figure 15).</span></span>


<span data-ttu-id="52508-249">[![Dla użytkowników specyficznych dla dostawcy przycisk Edytuj Jacka Chef s Gumbo mieszany jest ukryty](limiting-data-modification-functionality-based-on-the-user-cs/_static/image41.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="52508-249">[![For Supplier-Specific Users the Edit Button for Chef Anton s Gumbo Mix is Hidden](limiting-data-modification-functionality-based-on-the-user-cs/_static/image41.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image40.png)</span></span>

<span data-ttu-id="52508-250">**Rysunek 14**: dla użytkowników specyficznych dla dostawcy jest ukryty przycisk Edytuj Jacka Chef s Gumbo mieszanego ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="52508-250">**Figure 14**: For Supplier-Specific Users the Edit Button for Chef Anton s Gumbo Mix is Hidden ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image42.png))</span></span>


<span data-ttu-id="52508-251">[![Dla wszystkich użytkowników Pokaż i edytowanie dostawcy jest wyświetlany przycisk Edytuj Jacka Chef s Gumbo mieszany](limiting-data-modification-functionality-based-on-the-user-cs/_static/image44.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="52508-251">[![For Show/Edit ALL Suppliers Users, the Edit Button for Chef Anton s Gumbo Mix is Displayed](limiting-data-modification-functionality-based-on-the-user-cs/_static/image44.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image43.png)</span></span>

<span data-ttu-id="52508-252">**Rysunek 15**: dla Pokaż i edytowanie wszystkich dostawców użytkowników, dla Jacka Chef s Gumbo mieszany jest wyświetlany przycisk Edytuj ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](limiting-data-modification-functionality-based-on-the-user-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="52508-252">**Figure 15**: For Show/Edit ALL Suppliers Users, the Edit Button for Chef Anton s Gumbo Mix is Displayed ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image45.png))</span></span>


## <a name="checking-for-access-rights-in-the-business-logic-layer"></a><span data-ttu-id="52508-253">Sprawdzanie uprawnień dostępu do warstwy logiki biznesowej</span><span class="sxs-lookup"><span data-stu-id="52508-253">Checking for Access Rights in the Business Logic Layer</span></span>

<span data-ttu-id="52508-254">W tym samouczku platformy ASP.NET strony obsługuje całą logikę w odniesieniu do informacji, jakie użytkownik może zobaczyć i jakie produkty on aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="52508-254">In this tutorial the ASP.NET page handles all logic with regards to what information the user can see and what products he can update.</span></span> <span data-ttu-id="52508-255">W idealnym przypadku tę logikę również będą zainstalowane na warstwę logiki biznesowej.</span><span class="sxs-lookup"><span data-stu-id="52508-255">Ideally, this logic would also be present at the Business Logic Layer.</span></span> <span data-ttu-id="52508-256">Na przykład `SuppliersBLL` klasy s `GetSuppliers()` (która zwraca wszystkich dostawców) może obejmować wyboru, aby upewnić się, że obecnie zalogowany użytkownik jest *nie* skojarzony z określonym dostawcą.</span><span class="sxs-lookup"><span data-stu-id="52508-256">For example, the `SuppliersBLL` class s `GetSuppliers()` method (which returns all suppliers) might include a check to ensure that the currently logged on user is *not* associated with a specific supplier.</span></span> <span data-ttu-id="52508-257">Podobnie `UpdateSupplierAddress` metoda może zawierać wyboru, aby upewnić się, że obecnie zalogowany użytkownik, albo działał dla firmy (i w związku z tym można zaktualizować wszystkie informacje adresu dostawcy) lub jest skojarzona z dostawcą, którego dane są aktualizowane.</span><span class="sxs-lookup"><span data-stu-id="52508-257">Likewise, the `UpdateSupplierAddress` method could include a check to ensure that the currently logged on user either worked for our company (and therefore can update all suppliers address information) or is associated with the supplier whose data is being updated.</span></span>

<span data-ttu-id="52508-258">I nie obejmują takie kontrole warstwy logiki warstwy Biznesowej, ponieważ w naszym samouczku prawa użytkownika s są określane przez DropDownList na stronie, która nie ma dostępu do klasy logiki warstwy Biznesowej.</span><span class="sxs-lookup"><span data-stu-id="52508-258">I did not include such BLL-layer checks here because in our tutorial the user s rights are determined by a DropDownList on the page, which the BLL classes cannot access.</span></span> <span data-ttu-id="52508-259">Podczas korzystania z systemu członkostwa lub jednego z schematów uwierzytelniania w poziomie z pola dostarczane przez platformę ASP.NET (takich jak uwierzytelnianie systemu Windows), aktualnie zalogowanego użytkownika s można uzyskać informacji o i ról z logiki warstwy Biznesowej, dzięki czemu takiego dostępu prawa sprawdza możliwe na prezentacji i warstwy logiki warstwy Biznesowej.</span><span class="sxs-lookup"><span data-stu-id="52508-259">When using the membership system or one of the out-of-the box authentication schemes provided by ASP.NET (such as Windows authentication), the currently logged on user s information and roles information can be accessed from the BLL, thereby making such access rights checks possible at both the presentation and BLL layers.</span></span>

## <a name="summary"></a><span data-ttu-id="52508-260">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="52508-260">Summary</span></span>

<span data-ttu-id="52508-261">W większości witryn, które zapewniają kont użytkowników należy dostosować interfejs modyfikacji danych, które są ustalane na podstawie zalogowanego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="52508-261">Most sites that provide user accounts need to customize the data modification interface based upon the logged in user.</span></span> <span data-ttu-id="52508-262">Użytkownicy administracyjni można usuwać i edytować żadnych rekordów użytkowników innych niż administracyjne mogą być ograniczone tylko aktualizowania lub usuwania rekordów one utworzone samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="52508-262">Administrative users may be able to delete and edit any record, whereas non-administrative users may be limited to only updating or deleting records they created themselves.</span></span> <span data-ttu-id="52508-263">Może być niezależnie od scenariusza, formantów sieci Web, ObjectDataSource, danych i klasy warstwy logiki biznesowej można rozszerzyć, aby dodać lub odmówić niektórych funkcji, na podstawie zalogowanego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="52508-263">Whatever the scenario may be, the data Web controls, ObjectDataSource, and Business Logic Layer classes can be extended to add or deny certain functionality based on the logged on user.</span></span> <span data-ttu-id="52508-264">W tym samouczku widzieliśmy jak ograniczyć dane widoczne i można edytować w zależności od tego, czy użytkownik został skojarzony z określonym dostawcą lub jeśli ich działał dla firmy.</span><span class="sxs-lookup"><span data-stu-id="52508-264">In this tutorial we saw how to limit the viewable and editable data depending on whether the user was associated with a particular supplier or if they worked for our company.</span></span>

<span data-ttu-id="52508-265">W tym samouczku kończy się naszego badania Wstawianie, aktualizowanie i usuwanie danych za pomocą kontrolki GridView widoku DetailsView i FormView.</span><span class="sxs-lookup"><span data-stu-id="52508-265">This tutorial concludes our examination of inserting, updating, and deleting data using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="52508-266">Począwszy od w następnym samouczku, firma Microsoft będzie Włącz wymagające uwagi do dodawania stronicowania i sortowania pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="52508-266">Starting with the next tutorial, we'll turn our attention to adding paging and sorting support.</span></span>

<span data-ttu-id="52508-267">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="52508-267">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="52508-268">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="52508-268">About the Author</span></span>

<span data-ttu-id="52508-269">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="52508-269">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="52508-270">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="52508-270">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="52508-271">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="52508-271">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="52508-272">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="52508-272">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="52508-273">[Poprzednie](adding-client-side-confirmation-when-deleting-cs.md)
[dalej](an-overview-of-inserting-updating-and-deleting-data-vb.md)</span><span class="sxs-lookup"><span data-stu-id="52508-273">[Previous](adding-client-side-confirmation-when-deleting-cs.md)
[Next](an-overview-of-inserting-updating-and-deleting-data-vb.md)</span></span>
