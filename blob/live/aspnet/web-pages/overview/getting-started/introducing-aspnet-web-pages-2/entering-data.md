---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/entering-data
title: "Wprowadzenie do składnika ASP.NET Web Pages — wprowadzanie danych bazy danych za pomocą formularzy | Dokumentacja firmy Microsoft"
author: tfitzmac
description: "W tym samouczku przedstawiono sposób tworzenia formularza wpis, a następnie wprowadź dane, które otrzymujesz z formularza do tabeli bazy danych użycia stron ASP.NET Web Pages (...)"
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/28/2015
ms.topic: article
ms.assetid: d37c93fc-25fd-4e94-8671-0d437beef206
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/entering-data
msc.type: authoredcontent
ms.openlocfilehash: b74eecb16b2c4695bb417816b90f701f724cc9d0
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/10/2017
---
<a name="introducing-aspnet-web-pages---entering-database-data-by-using-forms"></a><span data-ttu-id="0d11c-103">Wprowadzenie do składnika ASP.NET Web Pages — wprowadzanie danych bazy danych za pomocą formularzy</span><span class="sxs-lookup"><span data-stu-id="0d11c-103">Introducing ASP.NET Web Pages - Entering Database Data by Using Forms</span></span>
====================
<span data-ttu-id="0d11c-104">przez [FitzMacken niestandardowy](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="0d11c-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="0d11c-105">W tym samouczku przedstawiono sposób tworzenia formularza wpis, a następnie wprowadź dane, które otrzymujesz z formularza do tabeli bazy danych użycia stron sieci Web platformy ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="0d11c-105">This tutorial shows you how to create an entry form and then enter the data that you get from the form into a database table when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="0d11c-106">Przyjęto założenie, że zostały wykonane serii za pomocą [podstawy formularzy HTML strony ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581).</span><span class="sxs-lookup"><span data-stu-id="0d11c-106">It assumes you have completed the series through [Basics of HTML Forms in ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581).</span></span>
> 
> <span data-ttu-id="0d11c-107">Zawartość:</span><span class="sxs-lookup"><span data-stu-id="0d11c-107">What you'll learn:</span></span>
> 
> - <span data-ttu-id="0d11c-108">Więcej informacji na temat sposobu przetwarzania wpisu formularzy.</span><span class="sxs-lookup"><span data-stu-id="0d11c-108">More about how to process entry forms.</span></span>
> - <span data-ttu-id="0d11c-109">Jak dodać (Wstaw) danych w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-109">How to add (insert) data in a database.</span></span>
> - <span data-ttu-id="0d11c-110">Jak sprawdzić, czy użytkownicy zostały wprowadzone wymaganej wartości w postaci (sposób sprawdzania poprawności danych wejściowych użytkownika).</span><span class="sxs-lookup"><span data-stu-id="0d11c-110">How to make sure that users have entered a required value in a form (how to validate user input).</span></span>
> - <span data-ttu-id="0d11c-111">Jak wyświetlać błędy sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="0d11c-111">How to display validation errors.</span></span>
> - <span data-ttu-id="0d11c-112">Jak przejść do innej strony z bieżącej strony.</span><span class="sxs-lookup"><span data-stu-id="0d11c-112">How to jump to another page from the current page.</span></span>
>   
> 
> <span data-ttu-id="0d11c-113">Funkcje/technologie omówione:</span><span class="sxs-lookup"><span data-stu-id="0d11c-113">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="0d11c-114">`Database.Execute` Metody.</span><span class="sxs-lookup"><span data-stu-id="0d11c-114">The `Database.Execute` method.</span></span>
> - <span data-ttu-id="0d11c-115">SQL `Insert Into` — instrukcja</span><span class="sxs-lookup"><span data-stu-id="0d11c-115">The SQL `Insert Into` statement</span></span>
> - <span data-ttu-id="0d11c-116">`Validation` Pomocnika.</span><span class="sxs-lookup"><span data-stu-id="0d11c-116">The `Validation` helper.</span></span>
> - <span data-ttu-id="0d11c-117">`Response.Redirect` Metody.</span><span class="sxs-lookup"><span data-stu-id="0d11c-117">The `Response.Redirect` method.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="0d11c-118">Jakie będzie kompilacji</span><span class="sxs-lookup"><span data-stu-id="0d11c-118">What You'll Build</span></span>

<span data-ttu-id="0d11c-119">Samouczek wcześniej który pokazano, jak utworzyć bazę danych, należy wprowadzić dane z bazy danych, edytując bazy danych bezpośrednio w programie WebMatrix, pracy w **bazy danych** obszaru roboczego.</span><span class="sxs-lookup"><span data-stu-id="0d11c-119">In the tutorial earlier that showed you how to create a database, you entered database data by editing the database directly in WebMatrix, working in the **Database** workspace.</span></span> <span data-ttu-id="0d11c-120">W przypadku większości aplikacji, która nie jest praktycznym sposobem umieszczanie danych w bazie danych, mimo że.</span><span class="sxs-lookup"><span data-stu-id="0d11c-120">In most apps, that's not a practical way to put data into the database, though.</span></span> <span data-ttu-id="0d11c-121">Dlatego w tym samouczku utworzysz opartych na sieci web interfejs, umożliwiający lub wprowadź dane i zapisać ją w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-121">So in this tutorial, you'll create a web-based interface that lets you or anyone enter data and save it to the database.</span></span>

<span data-ttu-id="0d11c-122">Utworzysz strony, gdzie można wprowadzić nowości.</span><span class="sxs-lookup"><span data-stu-id="0d11c-122">You'll create a page where you can enter new movies.</span></span> <span data-ttu-id="0d11c-123">Strona będzie zawierać formularz wpis, który ma pola (pola tekstowe), gdzie można wprowadzić tytuł filmu, genre i roku.</span><span class="sxs-lookup"><span data-stu-id="0d11c-123">The page will contain an entry form that has fields (text boxes) where you can enter a movie title, genre, and year.</span></span> <span data-ttu-id="0d11c-124">Strona będzie wyglądała tej strony:</span><span class="sxs-lookup"><span data-stu-id="0d11c-124">The page will look like this page:</span></span>

!["Dodawanie filmu" strony w przeglądarce](entering-data/_static/image1.png)

<span data-ttu-id="0d11c-126">Pola tekstowe będzie HTML `<input>` elementy, które będą wyglądały jak tego znacznika:</span><span class="sxs-lookup"><span data-stu-id="0d11c-126">The text boxes will be HTML `<input>` elements that will look like this markup:</span></span>

`<input type="text" name="genre" value="" />`

## <a name="creating-the-basic-entry-form"></a><span data-ttu-id="0d11c-127">Tworzenie formularza podstawowego</span><span class="sxs-lookup"><span data-stu-id="0d11c-127">Creating the Basic Entry Form</span></span>

<span data-ttu-id="0d11c-128">Utwórz stronę o nazwie *AddMovie.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="0d11c-128">Create a page named *AddMovie.cshtml*.</span></span>

<span data-ttu-id="0d11c-129">Zastąp nowości w pliku o następujących znaczników.</span><span class="sxs-lookup"><span data-stu-id="0d11c-129">Replace what's in the file with the following markup.</span></span> <span data-ttu-id="0d11c-130">Zastąp wszystkie; wkrótce zostanie dodana blok kodu u góry.</span><span class="sxs-lookup"><span data-stu-id="0d11c-130">Overwrite everything; you'll add a code block at the top shortly.</span></span>

[!code-cshtml[Main](entering-data/samples/sample1.cshtml)]

<span data-ttu-id="0d11c-131">Ten przykład przedstawia typowy HTML podczas tworzenia formularza.</span><span class="sxs-lookup"><span data-stu-id="0d11c-131">This example shows typical HTML for creating a form.</span></span> <span data-ttu-id="0d11c-132">Używa `<input>` elementy dla pól tekstowych i przycisku Prześlij.</span><span class="sxs-lookup"><span data-stu-id="0d11c-132">It uses `<input>` elements for the text boxes and for the submit button.</span></span> <span data-ttu-id="0d11c-133">Podpisy dla pola tekstowe są tworzone przy użyciu standardu `<label>` elementów.</span><span class="sxs-lookup"><span data-stu-id="0d11c-133">The captions for the text boxes are created by using standard `<label>` elements.</span></span> <span data-ttu-id="0d11c-134">`<fieldset>` i `<legend>` elementów put nieuprzywilejowany pole wokół formularza.</span><span class="sxs-lookup"><span data-stu-id="0d11c-134">The `<fieldset>` and `<legend>` elements put a nice box around the form.</span></span>

<span data-ttu-id="0d11c-135">Zwróć uwagę, że na tej stronie `<form>` element używa `post` jako wartość `method` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="0d11c-135">Notice that in this page, the `<form>` element uses `post` as the value for the `method` attribute.</span></span> <span data-ttu-id="0d11c-136">Poprzednie samouczka utworzone formularza, który jest używany `get` metody.</span><span class="sxs-lookup"><span data-stu-id="0d11c-136">In the previous tutorial, you created a form that used the `get` method.</span></span> <span data-ttu-id="0d11c-137">Która jest poprawna, ponieważ mimo że przesłaniem formularza, wartości na serwerze, żądanie nie wprowadzono żadnych zmian.</span><span class="sxs-lookup"><span data-stu-id="0d11c-137">That was correct, because although the form submitted values to the server, the request did not make any changes.</span></span> <span data-ttu-id="0d11c-138">Wszystkie jak zostało pobierania danych na różne sposoby.</span><span class="sxs-lookup"><span data-stu-id="0d11c-138">All it did was fetch data in different ways.</span></span> <span data-ttu-id="0d11c-139">Jednak w tym stronie *będzie* zmiany — możesz zacząć dodawać nowe rekordy z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-139">However, in this page you *will* make changes—you're going to add new database records.</span></span> <span data-ttu-id="0d11c-140">W związku z tym należy używać tego formularza `post` metody.</span><span class="sxs-lookup"><span data-stu-id="0d11c-140">Therefore, this form should use the `post` method.</span></span> <span data-ttu-id="0d11c-141">(Aby uzyskać więcej informacji o różnicach między `GET` i `POST` operacji, zobacz[GET, POST i bezpieczeństwa zlecenie HTTP](https://go.microsoft.com/fwlink/?LinkId=251581#GET,_POST,_and_HTTP_Verb_Safety) paska bocznego w samouczku poprzedniej.)</span><span class="sxs-lookup"><span data-stu-id="0d11c-141">(For more about the difference between `GET` and `POST` operations, see the[GET, POST, and HTTP Verb Safety](https://go.microsoft.com/fwlink/?LinkId=251581#GET,_POST,_and_HTTP_Verb_Safety) sidebar in the previous tutorial.)</span></span>

<span data-ttu-id="0d11c-142">Należy pamiętać, że każde pole tekstowe ma `name` elementu (`title`, `genre`, `year`).</span><span class="sxs-lookup"><span data-stu-id="0d11c-142">Note that each text box has a `name` element (`title`, `genre`, `year`).</span></span> <span data-ttu-id="0d11c-143">Jak przedstawiono w poprzednim samouczek te nazwy są ważne, ponieważ muszą mieć te nazwy, dzięki czemu możesz później uzyskać danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0d11c-143">As you saw in the previous tutorial, these names are important because you must have those names so you can get the user's input later.</span></span> <span data-ttu-id="0d11c-144">Można użyć dowolnej nazwy.</span><span class="sxs-lookup"><span data-stu-id="0d11c-144">You can use any names.</span></span> <span data-ttu-id="0d11c-145">Warto Użyj znaczące nazwy, które ułatwiają należy pamiętać, jakie dane, z którymi pracujesz.</span><span class="sxs-lookup"><span data-stu-id="0d11c-145">It's helpful to use meaningful names that help you remember what data you're working with.</span></span>

<span data-ttu-id="0d11c-146">`value` Atrybut każdego `<input>` element zawiera bitowego kodu Razor (na przykład `Request.Form["title"]`).</span><span class="sxs-lookup"><span data-stu-id="0d11c-146">The `value` attribute of each `<input>` element contains a bit of Razor code (for example, `Request.Form["title"]`).</span></span> <span data-ttu-id="0d11c-147">Znasz wersja ta procedura poprzedniej samouczka w celu zachowania wartości wprowadzonej w polu tekstowym (jeśli istnieje), po przesłaniu formularza.</span><span class="sxs-lookup"><span data-stu-id="0d11c-147">You learned a version of this trick in the previous tutorial to preserve the value entered into the text box (if any) after the form has been submitted.</span></span>

## <a name="getting-the-form-values"></a><span data-ttu-id="0d11c-148">Pobieranie wartości formularza</span><span class="sxs-lookup"><span data-stu-id="0d11c-148">Getting the Form Values</span></span>

<span data-ttu-id="0d11c-149">Następnie użytkownik dodaje kod, który przetwarza formularza.</span><span class="sxs-lookup"><span data-stu-id="0d11c-149">Next, you add code that processes the form.</span></span> <span data-ttu-id="0d11c-150">Konspekt będzie wykonywać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="0d11c-150">In outline, you'll do the following:</span></span>

1. <span data-ttu-id="0d11c-151">Sprawdź, czy strona jest przesyłana (zostało przesłane).</span><span class="sxs-lookup"><span data-stu-id="0d11c-151">Check whether the page is being posted (was submitted).</span></span> <span data-ttu-id="0d11c-152">Chcesz kodu do uruchamiania tylko wtedy, gdy użytkownicy kliknięty przycisk, nie po stronie pierwszego uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="0d11c-152">You want to your code to run only when users have clicked the button, not when the page first runs.</span></span>
2. <span data-ttu-id="0d11c-153">Pobiera wartości, które użytkownik wprowadził do pól tekstowych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-153">Get the values that the user entered into the text boxes.</span></span> <span data-ttu-id="0d11c-154">W takim przypadku ponieważ używa formularza `POST` zlecenie, możesz uzyskać wartości formularza z `Request.Form` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="0d11c-154">In this case, because the form is using the `POST` verb, you get the form values from the `Request.Form` collection.</span></span>
3. <span data-ttu-id="0d11c-155">Wstaw wartości jako nowy rekord w *filmy* tabeli bazy danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-155">Insert the values as a new record in the *Movies* database table.</span></span>

<span data-ttu-id="0d11c-156">W górnej części pliku Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="0d11c-156">At the top of the file, add the following code:</span></span>

[!code-cshtml[Main](entering-data/samples/sample2.cshtml)]

<span data-ttu-id="0d11c-157">Zmienne utworzyć kilka pierwszych wierszy (`title`, `genre`, i `year`) do przechowywania wartości w polach tekstowych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-157">The first few lines create variables (`title`, `genre`, and `year`) to hold the values from the text boxes.</span></span> <span data-ttu-id="0d11c-158">Wiersz `if(IsPost)` upewnia się, że zmienne są ustawione *tylko* po kliknięciu **dodać film** przycisk — to znaczy kiedy formularz została opublikowana.</span><span class="sxs-lookup"><span data-stu-id="0d11c-158">The line `if(IsPost)` makes sure that the variables are set *only* when users click the **Add Movie** button — that is, when the form has been posted.</span></span>

<span data-ttu-id="0d11c-159">Jak przedstawiono wcześniej samouczka pobrać wartości pola tekstowego przy użyciu wyrażeń, takich jak `Request.Form["name"]`, gdzie *nazwa* jest nazwą `<input>` elementu.</span><span class="sxs-lookup"><span data-stu-id="0d11c-159">As you saw in an earlier tutorial, you get the value of a text box by using an expression like `Request.Form["name"]`, where *name* is the name of the `<input>` element.</span></span>

<span data-ttu-id="0d11c-160">Nazwy zmiennych (`title`, `genre`, i `year`) są dowolne.</span><span class="sxs-lookup"><span data-stu-id="0d11c-160">The names of the variables (`title`, `genre`, and `year`) are arbitrary.</span></span> <span data-ttu-id="0d11c-161">Takich jak nazwy, które są przypisywane do `<input>` elementy, możesz je wywołać niczego chcesz.</span><span class="sxs-lookup"><span data-stu-id="0d11c-161">Like the names that you assign to `<input>` elements, you can call them anything you like.</span></span> <span data-ttu-id="0d11c-162">(Nazwy zmiennych nie muszą być zgodne z atrybutami name `<input>` elementów w formularzu.) Jednak w przypadku `<input>` elementy, to warto użyć nazwy zmiennych, które odzwierciedla dane, które zawierają.</span><span class="sxs-lookup"><span data-stu-id="0d11c-162">(The names of the variables don't have to match the name attributes of `<input>` elements on the form.) But as with the `<input>` elements, it's a good idea to use variable names that reflect the data that they contain.</span></span> <span data-ttu-id="0d11c-163">Podczas pisania kodu spójnych nazw ułatwiają należy pamiętać, jakie dane, z którymi pracujesz.</span><span class="sxs-lookup"><span data-stu-id="0d11c-163">When you write code, consistent names make it easier for you to remember what data you're working with.</span></span>

## <a name="adding-data-to-the-database"></a><span data-ttu-id="0d11c-164">Dodawanie danych do bazy danych</span><span class="sxs-lookup"><span data-stu-id="0d11c-164">Adding Data to the Database</span></span>

<span data-ttu-id="0d11c-165">W kodzie zablokować właśnie dodanej, po prostu *wewnątrz* zamykający nawias klamrowy ( `}` ) z `if` zablokować (nie tylko wewnątrz bloku kodu), Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="0d11c-165">In the code block you just added, just *inside* the closing brace ( `}` ) of the `if` block (not just inside the code block), add the following code:</span></span>

[!code-csharp[Main](entering-data/samples/sample3.cs)]

<span data-ttu-id="0d11c-166">W tym przykładzie jest podobny do kodu, używanego w poprzednich instrukcji do pobierania i wyświetlania danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-166">This example is similar to the code you used in a previous tutorial to fetch and display data.</span></span> <span data-ttu-id="0d11c-167">Wiersz, który rozpoczyna się od `db =` otwiera bazę danych, takich jak wcześniej i następnego wiersza definiuje instrukcję SQL ponownie jako przedstawiono wcześniej.</span><span class="sxs-lookup"><span data-stu-id="0d11c-167">The line that starts with `db =` opens the database, like before, and the next line defines a SQL statement, again as you saw before.</span></span> <span data-ttu-id="0d11c-168">Jednak teraz definiuje SQL `Insert Into` instrukcji.</span><span class="sxs-lookup"><span data-stu-id="0d11c-168">However, this time it defines a SQL `Insert Into` statement.</span></span> <span data-ttu-id="0d11c-169">W poniższym przykładzie przedstawiono ogólna składnia `Insert Into` instrukcji:</span><span class="sxs-lookup"><span data-stu-id="0d11c-169">The following example shows the general syntax of the `Insert Into` statement:</span></span>

`INSERT INTO table (column1, column2, column3, ...) VALUES (value1, value2, value3, ...)`

<span data-ttu-id="0d11c-170">Innymi słowy należy określić tabeli, aby wstawić do, wyświetlona lista kolumn do wstawienia do, a następnie listy wartości do wstawienia.</span><span class="sxs-lookup"><span data-stu-id="0d11c-170">In other words, you specify the table to insert into, then list the columns to insert into, and then list the values to insert.</span></span> <span data-ttu-id="0d11c-171">(Wspomnianego przed SQL nie jest uwzględniana wielkość liter, ale niektóre osoby wielką słów kluczowych, aby ułatwić odczytu polecenie).</span><span class="sxs-lookup"><span data-stu-id="0d11c-171">(As noted before, SQL is not case sensitive but some people capitalize the keywords to make it easier to read the command.)</span></span>

<span data-ttu-id="0d11c-172">Kolumny, które są wstawianie do już znajdują się w poleceniu — `(Title, Genre, Year)`.</span><span class="sxs-lookup"><span data-stu-id="0d11c-172">The columns that you're inserting into are already listed in the command — `(Title, Genre, Year)`.</span></span> <span data-ttu-id="0d11c-173">Część interesujące jest, jak uzyskać wartości w polach tekstowych w `VALUES` część polecenia.</span><span class="sxs-lookup"><span data-stu-id="0d11c-173">The interesting part is how you get the values from the text boxes into the `VALUES` part of the command.</span></span> <span data-ttu-id="0d11c-174">Zamiast wartości rzeczywistych, zobacz `@0`, `@1`, i `@2`, które są oczywiście symbole zastępcze.</span><span class="sxs-lookup"><span data-stu-id="0d11c-174">Instead of actual values, you see `@0`, `@1`, and `@2`, which are of course placeholders.</span></span> <span data-ttu-id="0d11c-175">Po uruchomieniu polecenia (na `db.Execute` wiersza), przekazać wartości, które masz od pól tekstowych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-175">When you run the command (on the `db.Execute` line), you pass the values that you got from the text boxes.</span></span>

<span data-ttu-id="0d11c-176">**Ważne!**</span><span class="sxs-lookup"><span data-stu-id="0d11c-176">**Important!**</span></span> <span data-ttu-id="0d11c-177">Należy pamiętać, że jedynym sposobem kiedykolwiek powinny obejmować dane wprowadzane w trybie online przez użytkownika w instrukcji SQL jest użycie symboli zastępczych, jak widać w tym miejscu (`VALUES(@0, @1, @2)`).</span><span class="sxs-lookup"><span data-stu-id="0d11c-177">Remember that the only way you should ever include data entered online by a user in a SQL statement is to use placeholders, as you see here (`VALUES(@0, @1, @2)`).</span></span> <span data-ttu-id="0d11c-178">Jeśli łączenie danych wejściowych użytkownika do instrukcji SQL, należy otworzyć samodzielnie na atak iniekcji kodu SQL, zgodnie z objaśnieniem w [podstawy formularza stron ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581) (samouczek poprzedniej).</span><span class="sxs-lookup"><span data-stu-id="0d11c-178">If you concatenate user input into a SQL statement, you open yourself to a SQL injection attack, as explained in [Form Basics in ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581) (the previous tutorial).</span></span>

<span data-ttu-id="0d11c-179">Nadal wewnątrz `if` bloków, Dodaj następujący wiersz po `db.Execute` wiersza:</span><span class="sxs-lookup"><span data-stu-id="0d11c-179">Still inside the `if` block, add the following line after the `db.Execute` line:</span></span>

[!code-css[Main](entering-data/samples/sample4.css)]

<span data-ttu-id="0d11c-180">Po nowych film został wstawiony do bazy danych, ten wiersz przechodzi możesz (przekierowania) do *filmy* strony, dzięki czemu filmu podanej.</span><span class="sxs-lookup"><span data-stu-id="0d11c-180">After the new movie has been inserted into the database, this line jumps you (redirects) to the *Movies* page so you can see the movie you just entered.</span></span> <span data-ttu-id="0d11c-181">`~` Operator oznacza "root witryny sieci Web".</span><span class="sxs-lookup"><span data-stu-id="0d11c-181">The `~` operator means "root of the website."</span></span> <span data-ttu-id="0d11c-182">( `~` Operator działa tylko w stron ASP.NET nie jest w formacie HTML zazwyczaj.)</span><span class="sxs-lookup"><span data-stu-id="0d11c-182">(The `~` operator works only in ASP.NET pages, not in HTML generally.)</span></span>

<span data-ttu-id="0d11c-183">Ukończony blok kodu wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="0d11c-183">The complete code block looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample5.cshtml)]

## <a name="testing-the-insert-command-so-far"></a><span data-ttu-id="0d11c-184">Testowanie polecenia wstawiania (wykonanej do tej pory)</span><span class="sxs-lookup"><span data-stu-id="0d11c-184">Testing the Insert Command (So Far)</span></span>

<span data-ttu-id="0d11c-185">Nie jest jeszcze gotowe, lecz teraz jest odpowiedni moment, aby przetestować.</span><span class="sxs-lookup"><span data-stu-id="0d11c-185">You're not done yet, but now is a good time to test.</span></span>

<span data-ttu-id="0d11c-186">W widoku drzewa plików w programie WebMatrix, kliknij prawym przyciskiem myszy *AddMovie.cshtml* a następnie kliknij przycisk **Uruchom w przeglądarce**.</span><span class="sxs-lookup"><span data-stu-id="0d11c-186">In the tree view of files in WebMatrix, right-click the *AddMovie.cshtml* page and then click **Launch in browser**.</span></span>

!["Dodawanie filmu" strony w przeglądarce](entering-data/_static/image2.png)

<span data-ttu-id="0d11c-188">(Jeśli na końcu innej strony w przeglądarce, upewnij się, że adres URL jest `http://localhost:nnnnn/AddMovie`), gdzie  *nnnnn*  jest numerem portu, którego używasz.)</span><span class="sxs-lookup"><span data-stu-id="0d11c-188">(If you end up with a different page in the browser, make sure that the URL is `http://localhost:nnnnn/AddMovie`), where *nnnnn* is the port number that you're using.)</span></span>

<span data-ttu-id="0d11c-189">Czy został wyświetlony stronę błędu</span><span class="sxs-lookup"><span data-stu-id="0d11c-189">Did you get an error page?</span></span> <span data-ttu-id="0d11c-190">Jeśli tak, należy uważnie przeczytać i upewnij się, że kod wygląda dokładnie co był wcześniej.</span><span class="sxs-lookup"><span data-stu-id="0d11c-190">If so, read it carefully and make sure that the code looks exactly what was listed earlier.</span></span>

<span data-ttu-id="0d11c-191">Wprowadź filmu w postaci &mdash; na przykład użyć "Obywateli Wójcik", "Teatralne" i "1941".</span><span class="sxs-lookup"><span data-stu-id="0d11c-191">Enter a movie in the form &mdash; for example, use "Citizen Kane", "Drama", and "1941".</span></span> <span data-ttu-id="0d11c-192">(Lub niezależnie od) Następnie kliknij przycisk **dodać film**.</span><span class="sxs-lookup"><span data-stu-id="0d11c-192">(Or whatever.) Then click **Add Movie**.</span></span>

<span data-ttu-id="0d11c-193">Jeśli wszystko przebiegnie poprawnie, jest przekierowywane do *filmy* strony.</span><span class="sxs-lookup"><span data-stu-id="0d11c-193">If all goes well, you're redirected to the *Movies* page.</span></span> <span data-ttu-id="0d11c-194">Upewnij się, czy wymieniony jest nowy filmu.</span><span class="sxs-lookup"><span data-stu-id="0d11c-194">Make sure that your new movie is listed.</span></span>

![Strona filmy przedstawiający nowo dodana film](entering-data/_static/image3.png)

## <a name="validating-user-input"></a><span data-ttu-id="0d11c-196">Walidacja danych wejściowych użytkownika</span><span class="sxs-lookup"><span data-stu-id="0d11c-196">Validating User Input</span></span>

<span data-ttu-id="0d11c-197">Wróć do *AddMovie* strony lub uruchomić go ponownie.</span><span class="sxs-lookup"><span data-stu-id="0d11c-197">Go back to the *AddMovie* page, or run it again.</span></span> <span data-ttu-id="0d11c-198">Wprowadź inny film, ale tym razem, wprowadź tylko tytuł &mdash; wprowadź na przykład "Rejstrowanie rejestrowanie logowanie ' w ustaniu".</span><span class="sxs-lookup"><span data-stu-id="0d11c-198">Enter another movie, but this time, enter only the title &mdash; for example, enter "Singin' in the Rain".</span></span> <span data-ttu-id="0d11c-199">Następnie kliknij przycisk **dodać film**.</span><span class="sxs-lookup"><span data-stu-id="0d11c-199">Then click **Add Movie**.</span></span>

<span data-ttu-id="0d11c-200">Są przekierowywane do *filmy* strony ponownie.</span><span class="sxs-lookup"><span data-stu-id="0d11c-200">You're redirected to the *Movies* page again.</span></span> <span data-ttu-id="0d11c-201">Można znaleźć nowe film, ale jest niekompletna.</span><span class="sxs-lookup"><span data-stu-id="0d11c-201">You can find the new movie, but it's incomplete.</span></span>

![Filmy strony przedstawiający nowy film Brak niektórych wartości](entering-data/_static/image4.png)

<span data-ttu-id="0d11c-203">Podczas tworzenia *filmy* tabeli, należy jawnie powiedzieć, że żadne z pól może mieć wartości null.</span><span class="sxs-lookup"><span data-stu-id="0d11c-203">When you created the *Movies* table, you explicitly said that none of the fields could be null.</span></span> <span data-ttu-id="0d11c-204">W tym miejscu masz formularz nowości i jest pozostawienie pustego pola.</span><span class="sxs-lookup"><span data-stu-id="0d11c-204">Here you have an entry form for new movies, and you're leaving fields blank.</span></span> <span data-ttu-id="0d11c-205">To jest błąd.</span><span class="sxs-lookup"><span data-stu-id="0d11c-205">That's an error.</span></span>

<span data-ttu-id="0d11c-206">W takim przypadku faktycznie nie podnieść bazy danych (lub *throw*) wystąpił błąd.</span><span class="sxs-lookup"><span data-stu-id="0d11c-206">In this case, the database didn't actually raise (or *throw*) an error.</span></span> <span data-ttu-id="0d11c-207">Użytkownik nie dostarczył genre lub rok, więc kod w *AddMovie* strony traktować te wartości jako tak zwane *puste ciągi*.</span><span class="sxs-lookup"><span data-stu-id="0d11c-207">You didn't supply a genre or year, so the code in the *AddMovie* page treated those values as so-called *empty strings*.</span></span> <span data-ttu-id="0d11c-208">Gdy SQL `Insert Into` polecenie zadziałało, genre i roku pól nie mają przydatnych danych w nich, ale nie był zerowy.</span><span class="sxs-lookup"><span data-stu-id="0d11c-208">When the SQL `Insert Into` command ran, the genre and year fields didn't have useful data in them, but they weren't null.</span></span>

<span data-ttu-id="0d11c-209">Oczywiście nie chcesz umożliwić użytkownikom wprowadzanie pusta połowie informacje do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-209">Obviously, you don't want to let users enter half-empty movie information into the database.</span></span> <span data-ttu-id="0d11c-210">Rozwiązanie to sprawdzanie poprawności danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0d11c-210">The solution is to validate the user's input.</span></span> <span data-ttu-id="0d11c-211">Początkowo weryfikacji po prostu zostanie upewnij się, że użytkownik wprowadził wartość dla wszystkich pól (oznacza to, że żadna z nich nie zawiera pusty ciąg).</span><span class="sxs-lookup"><span data-stu-id="0d11c-211">Initially, the validation will simply make sure that the user has entered a value for all of the fields (that is, that none of them contains an empty string).</span></span>

> [!TIP] 
> 
> <span data-ttu-id="0d11c-212">**Wartość null i pustych ciągów**</span><span class="sxs-lookup"><span data-stu-id="0d11c-212">**Null and Empty Strings**</span></span>
> 
> <span data-ttu-id="0d11c-213">W programowaniu jest różnica między różnych pojęcia "żadnej wartości."</span><span class="sxs-lookup"><span data-stu-id="0d11c-213">In programming, there's a distinction between different notions of "no value."</span></span> <span data-ttu-id="0d11c-214">Ogólnie rzecz biorąc, wartość jest *null* Jeśli nigdy nie została ustawiona lub zainicjować w dowolny sposób.</span><span class="sxs-lookup"><span data-stu-id="0d11c-214">In general, a value is *null* if it has never been set or initialized in any way.</span></span> <span data-ttu-id="0d11c-215">Z kolei może mieć wartości zmiennej, która oczekuje na dane znakowe (ciągi) *pusty ciąg*.</span><span class="sxs-lookup"><span data-stu-id="0d11c-215">In contrast, a variable that expects character data (strings) can be set to an *empty string*.</span></span> <span data-ttu-id="0d11c-216">W takim przypadku wartość nie jest równa null; jest właśnie została jawnie ustawiona na ciąg znaków, którego długość wynosi zero.</span><span class="sxs-lookup"><span data-stu-id="0d11c-216">In that case, the value is not null; it's just been explicitly set to a string of characters whose length is zero.</span></span> <span data-ttu-id="0d11c-217">Te dwie instrukcje wskazują różnice:</span><span class="sxs-lookup"><span data-stu-id="0d11c-217">These two statements show the difference:</span></span>
> 
> [!code-csharp[Main](entering-data/samples/sample6.cs)]
> 
> <span data-ttu-id="0d11c-218">Nieco ma bardziej skomplikowane niż ta, ale jest to istotne, że `null` reprezentuje rodzaj nieokreślony stan.</span><span class="sxs-lookup"><span data-stu-id="0d11c-218">It's a little more complicated than that, but the important point is that `null` represents a sort of undetermined state.</span></span>
> 
> <span data-ttu-id="0d11c-219">Teraz, a następnie ważne jest zrozumienie, dokładnie gdy wartość jest równa null i gdy jest tylko pustym ciągiem.</span><span class="sxs-lookup"><span data-stu-id="0d11c-219">Now and then it's important to understand exactly when a value is null and when it's just an empty string.</span></span> <span data-ttu-id="0d11c-220">W kodzie *AddMovie* strony, należy pobrać wartości w polach tekstowych przy użyciu `Request.Form["title"]` i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="0d11c-220">In the code for the *AddMovie* page, you get the values of the text boxes by using `Request.Form["title"]` and so on.</span></span> <span data-ttu-id="0d11c-221">Po pierwszym uruchomieniu strony (zanim klikniesz przycisk), wartość `Request.Form["title"]` ma wartość null.</span><span class="sxs-lookup"><span data-stu-id="0d11c-221">When the page first runs (before you click the button), the value of `Request.Form["title"]` is null.</span></span> <span data-ttu-id="0d11c-222">Jednak po przesłaniu formularza, `Request.Form["title"]` pobiera wartość `title` pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="0d11c-222">But when you submit the form, `Request.Form["title"]` gets the value of the `title` text box.</span></span> <span data-ttu-id="0d11c-223">Nie jest jasne, ale puste pole tekstowe nie ma wartości null; go po prostu zawiera pusty ciąg.</span><span class="sxs-lookup"><span data-stu-id="0d11c-223">It's not obvious, but an empty text box is not null; it just has an empty string in it.</span></span> <span data-ttu-id="0d11c-224">Dlatego po kod uruchamiany w odpowiedzi na przycisk kliknij przycisk, `Request.Form["title"]` ma pusty ciąg.</span><span class="sxs-lookup"><span data-stu-id="0d11c-224">So when the code runs in response to the button click, `Request.Form["title"]` has an empty string in it.</span></span>
> 
> <span data-ttu-id="0d11c-225">Ta różnica jest ważna</span><span class="sxs-lookup"><span data-stu-id="0d11c-225">Why is this distinction important?</span></span> <span data-ttu-id="0d11c-226">Podczas tworzenia *filmy* tabeli, należy jawnie powiedzieć, że żadne z pól może mieć wartości null.</span><span class="sxs-lookup"><span data-stu-id="0d11c-226">When you created the *Movies* table, you explicitly said that none of the fields could be null.</span></span> <span data-ttu-id="0d11c-227">W tym miejscu masz formularz nowości a jest pozostawienie pustego pola.</span><span class="sxs-lookup"><span data-stu-id="0d11c-227">But here you have an entry form for new movies, and you're leaving fields blank.</span></span> <span data-ttu-id="0d11c-228">Czy spodziewać bazę danych do skarżą się, gdy próbowano zapisać nowe filmów, które nie mają wartości dla rodzaju lub roku.</span><span class="sxs-lookup"><span data-stu-id="0d11c-228">You would reasonably expect the database to complain when you tried to save new movies that didn't have values for genre or year.</span></span> <span data-ttu-id="0d11c-229">Jednak to punkt &mdash; nawet jeśli te pola tekstowe pozostanie puste, wartości nie ma wartości null; są one puste ciągi.</span><span class="sxs-lookup"><span data-stu-id="0d11c-229">But that's the point &mdash; even if you leave those text boxes blank, the values aren't null; they're empty strings.</span></span> <span data-ttu-id="0d11c-230">W związku z tym możesz zapisać nowości w bazie danych z tych kolumn pusty &mdash; , ale nie o wartości null!</span><span class="sxs-lookup"><span data-stu-id="0d11c-230">As a result, you're able to save new movies to the database with these columns empty &mdash; but not null!</span></span> <span data-ttu-id="0d11c-231">&mdash;wartości.</span><span class="sxs-lookup"><span data-stu-id="0d11c-231">&mdash; values.</span></span> <span data-ttu-id="0d11c-232">W związku z tym należy upewnić się, że użytkownicy nie przesyłaj pusty ciąg, co można zrobić poprzez sprawdzenie poprawności danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0d11c-232">Therefore, you have to make sure that users don't submit an empty string, which you can do by validating the user's input.</span></span>


### <a name="the-validation-helper"></a><span data-ttu-id="0d11c-233">Pomocnik weryfikacji</span><span class="sxs-lookup"><span data-stu-id="0d11c-233">The Validation Helper</span></span>

<span data-ttu-id="0d11c-234">Strony sieci Web platformy ASP.NET zawiera pomocnika &mdash; `Validation` Pomocnika &mdash; można się upewnić, że wprowadzania danych, które spełniają wymagania.</span><span class="sxs-lookup"><span data-stu-id="0d11c-234">ASP.NET Web Pages includes a helper &mdash; the `Validation` helper &mdash; that you can use to make sure that users enter data that meets your requirements.</span></span> <span data-ttu-id="0d11c-235">`Validation` Pomocnika jest jednym z wątków, które korzysta z wbudowanej w do składnika ASP.NET Web Pages, tak aby nie trzeba go zainstalować w pakiecie przy użyciu narzędzia NuGet sposób pomocnika Gravatar jest zainstalowany w samouczku wcześniej.</span><span class="sxs-lookup"><span data-stu-id="0d11c-235">The `Validation` helper is one of the helpers that's built in to ASP.NET Web Pages, so you don't have to install it as a package by using NuGet, the way you installed the Gravatar helper in an earlier tutorial.</span></span>

<span data-ttu-id="0d11c-236">Aby sprawdzić poprawność danych wejściowych użytkownika, będzie wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="0d11c-236">To validate the user's input, you'll do the following:</span></span>

- <span data-ttu-id="0d11c-237">Określ, czy wymaga wartości w polach tekstowych na stronie przy użyciu kodu.</span><span class="sxs-lookup"><span data-stu-id="0d11c-237">Use code to specify that you want to require values in the text boxes on the page.</span></span>
- <span data-ttu-id="0d11c-238">Umieść test do kodu tak, aby informacje filmu są dodawane do bazy danych tylko wtedy, gdy wszystko weryfikuje poprawnie.</span><span class="sxs-lookup"><span data-stu-id="0d11c-238">Put a test into the code so that the movie information is added to the database only if everything validates properly.</span></span>
- <span data-ttu-id="0d11c-239">Dodaj kod do znaczników, aby wyświetlić komunikaty o błędach.</span><span class="sxs-lookup"><span data-stu-id="0d11c-239">Add code into the markup to display error messages.</span></span>

<span data-ttu-id="0d11c-240">W bloku kodu w *AddMovie* prawo do góry u góry przed deklaracjami zmiennych, Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="0d11c-240">In the code block in the *AddMovie* page, right up at the top before the variable declarations, add the following code:</span></span>

[!code-csharp[Main](entering-data/samples/sample7.cs)]

<span data-ttu-id="0d11c-241">Należy wywołać `Validation.RequireField` raz dla każdego pola (`<input>` element), w którym ma być wymagane wprowadzenie.</span><span class="sxs-lookup"><span data-stu-id="0d11c-241">You call `Validation.RequireField` once for each field (`<input>` element) where you want to require an entry.</span></span> <span data-ttu-id="0d11c-242">Można również dodać niestandardowy komunikat o błędzie dla każdego wywołania, tak jak to tutaj.</span><span class="sxs-lookup"><span data-stu-id="0d11c-242">You can also add a custom error message for each call, like you see here.</span></span> <span data-ttu-id="0d11c-243">(Możemy zróżnicowane wiadomości tak, aby pokazać, że można umieścić coś, co Ci się podoba).</span><span class="sxs-lookup"><span data-stu-id="0d11c-243">(We varied the messages just to show that you can put anything you like there.)</span></span>

<span data-ttu-id="0d11c-244">W przypadku problemu chcesz zapobiec nowe informacje film z wstawiane do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-244">If there's a problem, you want to prevent the new movie information from being inserted into the database.</span></span> <span data-ttu-id="0d11c-245">W `if(IsPost)` bloków, użyj `&&` (logiczne i), aby dodać inny warunek, który umożliwia sprawdzenie `Validation.IsValid()`.</span><span class="sxs-lookup"><span data-stu-id="0d11c-245">In the `if(IsPost)` block, use `&&` (logical AND) to add another condition that tests `Validation.IsValid()`.</span></span> <span data-ttu-id="0d11c-246">Gdy wszystko będzie gotowe, cała `if(IsPost)` bloku wygląda ten kod:</span><span class="sxs-lookup"><span data-stu-id="0d11c-246">When you're done, the whole `if(IsPost)` block looks like this code:</span></span>

[!code-csharp[Main](entering-data/samples/sample8.cs)]

<span data-ttu-id="0d11c-247">Jeśli występuje błąd weryfikacji za pomocą dowolnego pola, które są zarejestrowane przy użyciu `Validation` pomocnika, `Validation.IsValid` metoda zwraca wartość false.</span><span class="sxs-lookup"><span data-stu-id="0d11c-247">If there's a validation error with any of the fields that you registered by using the `Validation` helper, the `Validation.IsValid` method returns false.</span></span> <span data-ttu-id="0d11c-248">I w takim przypadku żaden kod w tym bloku zostaną uruchomione, więc żadnych wpisów nieprawidłowy filmu zostaną wstawione do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-248">And in that case, none of the code in that block will run, so no invalid movie entries will be inserted into the database.</span></span> <span data-ttu-id="0d11c-249">I oczywiście możesz jest nie przekierowana do *filmy* strony.</span><span class="sxs-lookup"><span data-stu-id="0d11c-249">And of course you're not redirected to the *Movies* page.</span></span>

<span data-ttu-id="0d11c-250">Ukończony blok kodu, w tym kod weryfikacji teraz wygląda w tym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="0d11c-250">The complete code block, including the validation code, now looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample9.cshtml?highlight=10)]

## <a name="displaying-validation-errors"></a><span data-ttu-id="0d11c-251">Wyświetlanie błędów walidacji</span><span class="sxs-lookup"><span data-stu-id="0d11c-251">Displaying Validation Errors</span></span>

<span data-ttu-id="0d11c-252">Ostatnim krokiem jest, aby wyświetlić komunikaty o błędach.</span><span class="sxs-lookup"><span data-stu-id="0d11c-252">The last step is to display any error messages.</span></span> <span data-ttu-id="0d11c-253">Można wyświetlić poszczególne komunikaty dla każdego błędu weryfikacji, lub możesz wyświetlić podsumowanie lub oba.</span><span class="sxs-lookup"><span data-stu-id="0d11c-253">You can display individual messages for each validation error, or you can display a summary, or both.</span></span> <span data-ttu-id="0d11c-254">W tym samouczku należy to zrobić zarówno, dzięki czemu można zobaczyć, jak działa.</span><span class="sxs-lookup"><span data-stu-id="0d11c-254">For this tutorial, you'll do both so that you can see how it works.</span></span>

<span data-ttu-id="0d11c-255">Obok każdego `<input>` element, który jest sprawdzanie poprawności, wywołaj `Html.ValidationMessage` — metoda i przekaż go nazwę `<input>` element jest sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="0d11c-255">Next to each `<input>` element that you're validating, call the `Html.ValidationMessage` method and pass it the name of the `<input>` element you're validating.</span></span> <span data-ttu-id="0d11c-256">Możesz umieścić `Html.ValidationMessage` prawo metody, w którym ma być wyświetlany komunikat o błędzie.</span><span class="sxs-lookup"><span data-stu-id="0d11c-256">You put the `Html.ValidationMessage` method right where you want the error message to appear.</span></span> <span data-ttu-id="0d11c-257">Po uruchomieniu strony, `Html.ValidationMessage` metoda renderuje `<span>` elementu, gdzie błąd sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="0d11c-257">When the page runs, the `Html.ValidationMessage` method renders a `<span>` element where the validation error will go.</span></span> <span data-ttu-id="0d11c-258">(Jeśli nie było błędu, `<span>` element jest renderowany, ale nie ma żadnego tekstu w nim.)</span><span class="sxs-lookup"><span data-stu-id="0d11c-258">(If there's no error, the `<span>` element is rendered, but there's no text in it.)</span></span>

<span data-ttu-id="0d11c-259">Zmień kod znaczników na stronie, co zawierają one `Html.ValidationMessage` metody dla każdego z trzech `<input>` elementów na stronie, takich jak w tym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="0d11c-259">Change the markup in the page so that it includes an `Html.ValidationMessage` method for each of the three `<input>` elements on the page, like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample10.cshtml?highlight=3,8,13)]

<span data-ttu-id="0d11c-260">Aby zobaczyć, jak działa podsumowania, również Dodaj następujący kod znaczników i kodu bezpośrednio po `<h1>Add a Movie</h1>` elementu na stronie:</span><span class="sxs-lookup"><span data-stu-id="0d11c-260">To see how the summary works, also add the following markup and code right after the `<h1>Add a Movie</h1>` element on the page:</span></span>

[!code-cshtml[Main](entering-data/samples/sample11.cshtml)]

<span data-ttu-id="0d11c-261">Domyślnie `Html.ValidationSummary` metoda wyświetla na liście wszystkich komunikatów dotyczących sprawdzania poprawności ( `<ul>` element, który znajduje się wewnątrz `<div>` elementu).</span><span class="sxs-lookup"><span data-stu-id="0d11c-261">By default, the `Html.ValidationSummary` method displays all the validation messages in a list (a `<ul>` element that's inside a `<div>` element).</span></span> <span data-ttu-id="0d11c-262">Jak `Html.ValidationMessage` metody zawsze renderowania kodu znaczników dla podsumowania weryfikacji; Jeśli nie ma żadnych błędów, nie elementy listy są renderowane.</span><span class="sxs-lookup"><span data-stu-id="0d11c-262">As with the `Html.ValidationMessage` method, the markup for the validation summary is always rendered; if there are no errors, no list items are rendered.</span></span>

<span data-ttu-id="0d11c-263">Podsumowanie może być alternatywny sposób wyświetlania komunikatów dotyczących sprawdzania poprawności, a nie za pomocą `Html.ValidationMessage` metodę w celu wyświetlenia każdego błędu określonego pola.</span><span class="sxs-lookup"><span data-stu-id="0d11c-263">The summary can be an alternative way to display validation messages instead of by using the `Html.ValidationMessage` method to display each field-specific error.</span></span> <span data-ttu-id="0d11c-264">Lub można użyć zarówno Podsumowanie i szczegóły.</span><span class="sxs-lookup"><span data-stu-id="0d11c-264">Or you can use both a summary and the details.</span></span> <span data-ttu-id="0d11c-265">Lub użyć `Html.ValidationSummary` metodę, aby wyświetlić ogólny błąd, a następnie użyj poszczególnych `Html.ValidationMessage` wywołań, aby wyświetlić szczegóły.</span><span class="sxs-lookup"><span data-stu-id="0d11c-265">Or you can use the `Html.ValidationSummary` method to display a generic error and then use individual `Html.ValidationMessage` calls to display details.</span></span>

<span data-ttu-id="0d11c-266">Strona ukończyć teraz wygląda w tym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="0d11c-266">The complete page now looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample12.cshtml)]

<span data-ttu-id="0d11c-267">To wszystko.</span><span class="sxs-lookup"><span data-stu-id="0d11c-267">That's it.</span></span> <span data-ttu-id="0d11c-268">Teraz możesz przetestować strony przez dodanie filmu, ale pomijając jedną lub więcej pól.</span><span class="sxs-lookup"><span data-stu-id="0d11c-268">You can now test the page by adding a movie but leaving out one or more of the fields.</span></span> <span data-ttu-id="0d11c-269">Po wykonaniu, zostanie wyświetlony następujący błąd wyświetlania:</span><span class="sxs-lookup"><span data-stu-id="0d11c-269">When you do, you see the following error display:</span></span>

![Dodaj stronę Film przedstawiający komunikaty o błędach weryfikacji](entering-data/_static/image5.png)

## <a name="styling-the-validation-error-messages"></a><span data-ttu-id="0d11c-271">Nadawanie stylu komunikatów o błędach</span><span class="sxs-lookup"><span data-stu-id="0d11c-271">Styling the Validation Error Messages</span></span>

<span data-ttu-id="0d11c-272">Widać, że istnieją komunikaty o błędach, ale ich nie naprawdę wyróżniające bardzo dobrze.</span><span class="sxs-lookup"><span data-stu-id="0d11c-272">You can see that there are error messages, but they don't really stand out very well.</span></span> <span data-ttu-id="0d11c-273">Jest to prosty sposób do określania stylu komunikatów o błędach, ale.</span><span class="sxs-lookup"><span data-stu-id="0d11c-273">There's an easy way to style the error messages, though.</span></span>

<span data-ttu-id="0d11c-274">Do określania stylu poszczególne komunikaty o błędach są wyświetlane przez `Html.ValidationMessage`, Utwórz klasę stylu CSS o nazwie `field-validation-error`.</span><span class="sxs-lookup"><span data-stu-id="0d11c-274">To style the individual error messages that are displayed by `Html.ValidationMessage`, create a CSS style class named `field-validation-error`.</span></span> <span data-ttu-id="0d11c-275">Aby zdefiniować wygląd dla podsumowania weryfikacji, należy utworzyć klasę stylu CSS o nazwie `validation-summary-errors`.</span><span class="sxs-lookup"><span data-stu-id="0d11c-275">To define the look for the validation summary, create a CSS style class named `validation-summary-errors`.</span></span>

<span data-ttu-id="0d11c-276">Aby sprawdzić, jak działa ta technika, Dodaj `<style>` element wewnątrz `<head>` części strony.</span><span class="sxs-lookup"><span data-stu-id="0d11c-276">To see how this technique works, add a `<style>` element inside the `<head>` section of the page.</span></span> <span data-ttu-id="0d11c-277">Następnie zdefiniuj styl klasy o nazwie `field-validation-error` i `validation-summary-errors` zawierających następujące reguły:</span><span class="sxs-lookup"><span data-stu-id="0d11c-277">Then define style classes named `field-validation-error` and `validation-summary-errors` that contain the following rules:</span></span>

[!code-cshtml[Main](entering-data/samples/sample13.cshtml?highlight=4-17)]

<span data-ttu-id="0d11c-278">Zwykle prawdopodobnie spowodowałaby informacji o stylu w oddzielnej *.css* pliku, ale dla uproszczenia należy umieścić ich na stronie teraz.</span><span class="sxs-lookup"><span data-stu-id="0d11c-278">Normally you'd probably put style information into a separate *.css* file, but for simplicity you can put them in the page for now.</span></span> <span data-ttu-id="0d11c-279">(W dalszej części tego samouczka zestawu następuje przeniesienie reguły CSS do osobnego *.css* pliku.)</span><span class="sxs-lookup"><span data-stu-id="0d11c-279">(Later in this tutorial set, you'll move the CSS rules to a separate *.css* file.)</span></span>

<span data-ttu-id="0d11c-280">Jeśli występuje błąd weryfikacji `Html.ValidationMessage` metoda renderuje `<span>` element, który zawiera `class="field-validation-error"`.</span><span class="sxs-lookup"><span data-stu-id="0d11c-280">If there's a validation error, the `Html.ValidationMessage` method renders a `<span>` element that includes `class="field-validation-error"`.</span></span> <span data-ttu-id="0d11c-281">Dodanie definicji stylu dla tej klasy, można skonfigurować wygląd wiadomości.</span><span class="sxs-lookup"><span data-stu-id="0d11c-281">By adding a style definition for that class, you can configure what the message looks like.</span></span> <span data-ttu-id="0d11c-282">Jeśli wystąpią błędy, `ValidationSummary` metoda renderuje również dynamicznie atrybutu `class="validation-summary-errors"`.</span><span class="sxs-lookup"><span data-stu-id="0d11c-282">If there are errors, the `ValidationSummary` method likewise dynamically renders the attribute `class="validation-summary-errors"`.</span></span>

<span data-ttu-id="0d11c-283">Ponownie uruchom strony i celowo Opuść kilka pól.</span><span class="sxs-lookup"><span data-stu-id="0d11c-283">Run the page again and deliberately leave out a couple of the fields.</span></span> <span data-ttu-id="0d11c-284">Błędy są teraz bardziej zauważalne.</span><span class="sxs-lookup"><span data-stu-id="0d11c-284">The errors are now more noticeable.</span></span> <span data-ttu-id="0d11c-285">(W rzeczywistości są one overdone, ale jest tak, aby pokazać, co można zrobić).</span><span class="sxs-lookup"><span data-stu-id="0d11c-285">(In fact, they're overdone, but that's just to show what you can do.)</span></span>

![Dodaj stronę Film przedstawiający błędy sprawdzania poprawności, które ma zostać wstawiony](entering-data/_static/image6.png)

## <a name="adding-a-link-to-the-movies-page"></a><span data-ttu-id="0d11c-287">Dodawanie Linku do strony filmy</span><span class="sxs-lookup"><span data-stu-id="0d11c-287">Adding a Link to the Movies Page</span></span>

<span data-ttu-id="0d11c-288">Jeden ostatnim krokiem jest ułatwia ona na uzyskanie dostępu do *AddMovie* strony z oryginalnej listy filmów.</span><span class="sxs-lookup"><span data-stu-id="0d11c-288">One final step is to make it convenient to get to the *AddMovie* page from the original movie listing.</span></span>

<span data-ttu-id="0d11c-289">Otwórz *filmy* strony ponownie.</span><span class="sxs-lookup"><span data-stu-id="0d11c-289">Open the *Movies* page again.</span></span> <span data-ttu-id="0d11c-290">Po upływie `</div>` tag, który następuje `WebGrid` pomocnika, Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="0d11c-290">After the closing `</div>` tag that follows the `WebGrid` helper, add the following markup:</span></span>

[!code-cshtml[Main](entering-data/samples/sample14.cshtml)]

<span data-ttu-id="0d11c-291">Jak przedstawiono wcześniej, ASP.NET interpretuje `~` operatora jako katalog główny witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0d11c-291">As you saw before, ASP.NET interprets the `~` operator as the root of the website.</span></span> <span data-ttu-id="0d11c-292">Nie trzeba używać `~` operatora; można użyć znaczników `<a href="./AddMovie">Add a movie</a>` lub w inny sposób do zdefiniował ścieżki, która obsługuje usługę HTML.</span><span class="sxs-lookup"><span data-stu-id="0d11c-292">You don't have to use the `~` operator; you could use the markup `<a href="./AddMovie">Add a movie</a>` or some other way to define the path that HTML understands.</span></span> <span data-ttu-id="0d11c-293">Ale `~` operator jest dobrym ogólne podejście podczas tworzenia łączy do stron Razor, ponieważ lokacji zapewnia bardziej elastyczne — Jeśli bieżącej strony są przenoszone do podfolderu, link będzie nadal przejdź do *AddMovie* strony.</span><span class="sxs-lookup"><span data-stu-id="0d11c-293">But the `~` operator is a good general approach when you create links for Razor pages, because it makes the site more flexible — if you move the current page to a subfolder, the link will still go to the *AddMovie* page.</span></span> <span data-ttu-id="0d11c-294">(Należy pamiętać, że `~` operator działa tylko *.cshtml* stron.</span><span class="sxs-lookup"><span data-stu-id="0d11c-294">(Remember that the `~` operator only works in *.cshtml* pages.</span></span> <span data-ttu-id="0d11c-295">ASP.NET go rozumieją, ale nie jest to standardowy HTML).</span><span class="sxs-lookup"><span data-stu-id="0d11c-295">ASP.NET understands it, but it's not standard HTML.)</span></span>

<span data-ttu-id="0d11c-296">Gdy wszystko będzie gotowe, uruchom *filmy* strony.</span><span class="sxs-lookup"><span data-stu-id="0d11c-296">When you're done, run the *Movies* page.</span></span> <span data-ttu-id="0d11c-297">Ta strona będzie wyglądać:</span><span class="sxs-lookup"><span data-stu-id="0d11c-297">It will look like this page:</span></span>

![Strona filmów z łącze do strony "Dodaj filmy"](entering-data/_static/image7.png)

<span data-ttu-id="0d11c-299">Kliknij przycisk **Dodawanie filmu** łącze, aby upewnić się, że trafia do *AddMovie* strony.</span><span class="sxs-lookup"><span data-stu-id="0d11c-299">Click the **Add a movie** link to make sure that it goes to the *AddMovie* page.</span></span>

## <a name="coming-up-next"></a><span data-ttu-id="0d11c-300">Powtarzający się dalej</span><span class="sxs-lookup"><span data-stu-id="0d11c-300">Coming Up Next</span></span>

<span data-ttu-id="0d11c-301">W następnym samouczku nauczysz się, jak umożliwić użytkownikom edytowanie danych, który jest już w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="0d11c-301">In the next tutorial, you'll learn how to let users edit data that's already in the database.</span></span>

## <a name="complete-listing-for-addmovie-page"></a><span data-ttu-id="0d11c-302">Pełna lista AddMovie strony</span><span class="sxs-lookup"><span data-stu-id="0d11c-302">Complete Listing for AddMovie Page</span></span>

[!code-cshtml[Main](entering-data/samples/sample15.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="0d11c-303">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="0d11c-303">Additional Resources</span></span>

- [<span data-ttu-id="0d11c-304">Wprowadzenie do programowania sieci Web ASP.NET przy użyciu składni Razor</span><span class="sxs-lookup"><span data-stu-id="0d11c-304">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)
- <span data-ttu-id="0d11c-305">[Wstawianie w instrukcji SQL](http://www.w3schools.com/sql/sql_insert.asp) w witrynie W3Schools</span><span class="sxs-lookup"><span data-stu-id="0d11c-305">[SQL INSERT INTO Statement](http://www.w3schools.com/sql/sql_insert.asp) on the W3Schools site</span></span>
- <span data-ttu-id="0d11c-306">[Walidacja danych wejściowych użytkownika w sieci Web ASP.NET stron witryny](https://go.microsoft.com/fwlink/?LinkId=253002).</span><span class="sxs-lookup"><span data-stu-id="0d11c-306">[Validating User Input in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=253002).</span></span> <span data-ttu-id="0d11c-307">Więcej informacji na temat pracy z `Validation` pomocnika.</span><span class="sxs-lookup"><span data-stu-id="0d11c-307">More information about working with the `Validation` helper.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="0d11c-308">[Poprzednie](form-basics.md)
[dalej](updating-data.md)</span><span class="sxs-lookup"><span data-stu-id="0d11c-308">[Previous](form-basics.md)
[Next](updating-data.md)</span></span>
