---
uid: web-forms/overview/data-access/introduction/master-pages-and-site-navigation-vb
title: Strony wzorcowej i nawigacji w witrynie (VB) | Dokumentacja firmy Microsoft
author: rick-anderson
description: "Jedną wspólną cechą witryn sieci Web przyjaznych dla użytkownika jest, że schemat nawigacji i układ strony spójny, całej lokacji. W tym samouczku wygląda jak y..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: 022801d8-a327-4d0c-8780-6094c9cee00d
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/introduction/master-pages-and-site-navigation-vb
msc.type: authoredcontent
ms.openlocfilehash: 7bb8a9bccbd9dfbbf983618ecd32588fd8f69c64
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/24/2018
---
<a name="master-pages-and-site-navigation-vb"></a><span data-ttu-id="3f4e8-104">Strony wzorcowej i nawigacji w witrynie (VB)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-104">Master Pages and Site Navigation (VB)</span></span>
====================
<span data-ttu-id="3f4e8-105">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="3f4e8-106">[Pobierz przykładową aplikację](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_3_VB.exe) lub [pobierania plików PDF](master-pages-and-site-navigation-vb/_static/datatutorial03vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-106">[Download Sample App](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_3_VB.exe) or [Download PDF](master-pages-and-site-navigation-vb/_static/datatutorial03vb1.pdf)</span></span>

> <span data-ttu-id="3f4e8-107">Jedną wspólną cechą witryn sieci Web przyjaznych dla użytkownika jest, że schemat nawigacji i układ strony spójny, całej lokacji.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-107">One common characteristic of user-friendly websites is that they have a consistent, site-wide page layout and navigation scheme.</span></span> <span data-ttu-id="3f4e8-108">W tym samouczku analizuje tworzenia spójny wygląd i zachowanie we wszystkich stron, które można łatwo aktualizować.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-108">This tutorial looks at how you can create a consistent look and feel across all pages that can easily be updated.</span></span>


## <a name="introduction"></a><span data-ttu-id="3f4e8-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="3f4e8-109">Introduction</span></span>

<span data-ttu-id="3f4e8-110">Jedną wspólną cechą witryn sieci Web przyjaznych dla użytkownika jest, że schemat nawigacji i układ strony spójny, całej lokacji.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-110">One common characteristic of user-friendly websites is that they have a consistent, site-wide page layout and navigation scheme.</span></span> <span data-ttu-id="3f4e8-111">Platforma ASP.NET 2.0 wprowadzono dwie nowe funkcje, które znacznie upraszcza wdrażanie zarówno całej lokacji, strony układu i nawigacja schemat: strony wzorcowe i lokacji nawigacji.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-111">ASP.NET 2.0 introduces two new features that greatly simplify implementing both a site-wide page layout and navigation scheme: master pages and site navigation.</span></span> <span data-ttu-id="3f4e8-112">Strony wzorcowe umożliwiają deweloperom tworzenie szablonu całej lokacji z wyznaczonych edytowalnych.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-112">Master pages allow for developers to create a site-wide template with designated editable regions.</span></span> <span data-ttu-id="3f4e8-113">Następnie można zastosować ten szablon do stron ASP.NET w witrynie.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-113">This template can then be applied to ASP.NET pages in the site.</span></span> <span data-ttu-id="3f4e8-114">Takie stron ASP.NET wystarczy zdefiniować zawartości dla strony wzorcowej do określonych edytowalnych innych znaczników na stronie głównej jest identyczne we wszystkich stron ASP.NET, które używają strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-114">Such ASP.NET pages need only provide content for the master page's specified editable regions all other markup in the master page is identical across all ASP.NET pages that use the master page.</span></span> <span data-ttu-id="3f4e8-115">Ten model umożliwia deweloperom zdefiniuj oraz na scentralizowanie układ strony w całej lokacji, a tym samym co ułatwia tworzenie spójny wygląd i zachowanie we wszystkich stron, które można łatwo aktualizować.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-115">This model allows developers to define and centralize a site-wide page layout, thereby making it easier to create a consistent look and feel across all pages that can easily be updated.</span></span>

<span data-ttu-id="3f4e8-116">[Nawigacji systemu lokacji](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) zapewnia zarówno mechanizm dla deweloperów strony zdefiniować mapy witryny sieci Web i interfejsu API dla tej mapy witryny do programowego można wykonać zapytania.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-116">The [site navigation system](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) provides both a mechanism for page developers to define a site map and an API for that site map to be programmatically queried.</span></span> <span data-ttu-id="3f4e8-117">Nowe formanty sieci Web nawigacji, który Menu, TreeView i ścieżki mapy witryny ułatwiają renderować całości lub części mapy witryny w typowych nawigacji elementu interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-117">The new navigation Web controls the Menu, TreeView, and SiteMapPath make it easy to render all or part of the site map in a common navigation user interface element.</span></span> <span data-ttu-id="3f4e8-118">Będziemy używać domyślnego lokacji nawigacji dostawcy, co oznacza, że nasze mapy witryny zostanie zdefiniowana w pliku w formacie XML.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-118">We'll be using the default site navigation provider, meaning that our site map will be defined in an XML-formatted file.</span></span>

<span data-ttu-id="3f4e8-119">Aby zilustrować tych pojęć i naszych samouczków witryny sieci Web bardziej użyteczne, Poświęć tej lekcji Definiowanie układ strony w całej lokacji, implementacja mapy witryny sieci Web i dodawanie nawigacji interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-119">To illustrate these concepts and make our tutorials website more usable, let's spend this lesson defining a site-wide page layout, implementing a site map, and adding the navigation UI.</span></span> <span data-ttu-id="3f4e8-120">Na koniec tego samouczka mamy będzie dopracowany witryny sieci Web projektu do tworzenia samouczek stronach sieci web.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-120">By the end of this tutorial we'll have a polished website design for building our tutorial web pages.</span></span>


<span data-ttu-id="3f4e8-121">[![W rezultacie tego samouczka](master-pages-and-site-navigation-vb/_static/image2.png)](master-pages-and-site-navigation-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-121">[![The End Result of This Tutorial](master-pages-and-site-navigation-vb/_static/image2.png)](master-pages-and-site-navigation-vb/_static/image1.png)</span></span>

<span data-ttu-id="3f4e8-122">**Rysunek 1**: końcowego wyniku z tego samouczka ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-122">**Figure 1**: The End Result of This Tutorial ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image3.png))</span></span>


## <a name="step-1-creating-the-master-page"></a><span data-ttu-id="3f4e8-123">Krok 1: Tworzenie strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="3f4e8-123">Step 1: Creating the Master Page</span></span>

<span data-ttu-id="3f4e8-124">Pierwszym krokiem jest utworzenie strony wzorcowej dla witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-124">The first step is to create the master page for the site.</span></span> <span data-ttu-id="3f4e8-125">Obecnie naszą witrynę sieci Web składa się tylko wpisane zestawu danych (`Northwind.xsd`w `App_Code` folderu), klasy logiki warstwy Biznesowej (`ProductsBLL.vb`, `CategoriesBLL.vb`i tak dalej wszystkie w `App_Code` folderu), bazy danych (`NORTHWND.MDF`w `App_Data` folder), plik konfiguracji (`Web.config`), a plik arkusza stylów CSS (`Styles.css`).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-125">Right now our website consists of only the Typed DataSet (`Northwind.xsd`, in the `App_Code` folder), the BLL classes (`ProductsBLL.vb`, `CategoriesBLL.vb`, and so on, all in the `App_Code` folder), the database (`NORTHWND.MDF`, in the `App_Data` folder), the configuration file (`Web.config`), and a CSS stylesheet file (`Styles.css`).</span></span> <span data-ttu-id="3f4e8-126">Po usunięciu te strony i pliki prezentacja za pomocą warstwy DAL i logiki warstwy Biznesowej z dwóch pierwszych samouczki, ponieważ firma Microsoft będzie można Rewidowanie tych przykładów bardziej szczegółowo w przyszłości samouczki.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-126">I cleaned out those pages and files demonstrating using the DAL and BLL from the first two tutorials since we will be reexamining those examples in greater detail in future tutorials.</span></span>


![Pliki w naszym projektu](master-pages-and-site-navigation-vb/_static/image4.png)

<span data-ttu-id="3f4e8-128">**Rysunek 2**: pliki w naszym projektu</span><span class="sxs-lookup"><span data-stu-id="3f4e8-128">**Figure 2**: The Files in Our Project</span></span>


<span data-ttu-id="3f4e8-129">Aby utworzyć strony wzorcowej, kliknij prawym przyciskiem myszy nazwę projektu w Eksploratorze rozwiązań i wybierz polecenie Dodaj nowy element.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-129">To create a master page, right-click on the project name in the Solution Explorer and choose Add New Item.</span></span> <span data-ttu-id="3f4e8-130">Następnie wybierz typ strony wzorcowej z listy szablonów i nadaj mu nazwę `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-130">Then select the Master Page type from the list of templates and name it `Site.master`.</span></span>


<span data-ttu-id="3f4e8-131">[![Dodaj nową stronę wzorcową do witryny sieci Web](master-pages-and-site-navigation-vb/_static/image6.png)](master-pages-and-site-navigation-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-131">[![Add a New Master Page to the Website](master-pages-and-site-navigation-vb/_static/image6.png)](master-pages-and-site-navigation-vb/_static/image5.png)</span></span>

<span data-ttu-id="3f4e8-132">**Rysunek 3**: Dodaj nową stronę wzorcową do witryny sieci Web ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-132">**Figure 3**: Add a New Master Page to the Website ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image7.png))</span></span>


<span data-ttu-id="3f4e8-133">Zdefiniuj tutaj układ strony całej lokacji, na stronie głównej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-133">Define the site-wide page layout here in the master page.</span></span> <span data-ttu-id="3f4e8-134">Można użyć widoku projektu i Dodaj formanty niezależnie od układu lub sieci Web należy, lub można ręcznie dodać kod znaczników ręcznie w widoku źródła.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-134">You can use the Design view and add whatever Layout or Web controls you need, or you can manually add the markup by hand in the Source view.</span></span> <span data-ttu-id="3f4e8-135">Na stronie głównej w programie używać [kaskadowych arkuszy stylów](http://www.w3schools.com/css/default.asp) pozycjonowanie i style CSS ustawienia zdefiniowane w pliku zewnętrznym `Style.css`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-135">In my master page I use [cascading style sheets](http://www.w3schools.com/css/default.asp) for positioning and styles with the CSS settings defined in the external file `Style.css`.</span></span> <span data-ttu-id="3f4e8-136">Gdy nie można ustalić, z poziomu znacznika pokazano poniżej, reguły CSS są zdefiniowane tak, aby nawigacji `<div>`w zawartości jest bezwzględnego, który pojawia się po lewej stronie i ma stałą szerokość 200 pikseli.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-136">While you cannot tell from the markup shown below, the CSS rules are defined such that the navigation `<div>`'s content is absolutely positioned so that it appears on the left and has a fixed width of 200 pixels.</span></span>

<span data-ttu-id="3f4e8-137">Site.master</span><span class="sxs-lookup"><span data-stu-id="3f4e8-137">Site.master</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample1.aspx)]

<span data-ttu-id="3f4e8-138">Strona wzorcowa definiuje zarówno układ strony statyczne, jak i regionów, które mogą być edytowane przez stron ASP.NET, które używają strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-138">A master page defines both the static page layout and the regions that can be edited by the ASP.NET pages that use the master page.</span></span> <span data-ttu-id="3f4e8-139">Te zawartości edytowalnych są wskazywane przez formantu elementu ContentPlaceHolder może być widoczny w obrębie zawartości `<div>`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-139">These content editable regions are indicated by the ContentPlaceHolder control, which can be seen within the content `<div>`.</span></span> <span data-ttu-id="3f4e8-140">Pojedynczy element ContentPlaceHolder ma naszej strony wzorcowej (`MainContent`), ale strony wzorcowej mogą mieć wiele Elementy ContentPlaceHolders.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-140">Our master page has a single ContentPlaceHolder (`MainContent`), but master page's may have multiple ContentPlaceHolders.</span></span>

<span data-ttu-id="3f4e8-141">Adiustację wprowadzony powyżej przełączając do widoku projektu zawiera układ strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-141">With the markup entered above, switching to the Design view shows the master page's layout.</span></span> <span data-ttu-id="3f4e8-142">Żadnych stron ASP.NET, które używają tej strony wzorcowej będzie mieć tego układu jednolite, możliwość określenia kod znaczników dla `MainContent` regionu.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-142">Any ASP.NET pages that use this master page will have this uniform layout, with the ability to specify the markup for the `MainContent` region.</span></span>


<span data-ttu-id="3f4e8-143">[![Strona wzorcowa, podczas wyświetlania za pośrednictwem widoku Projekt](master-pages-and-site-navigation-vb/_static/image9.png)](master-pages-and-site-navigation-vb/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-143">[![The Master Page, When Viewed Through the Design View](master-pages-and-site-navigation-vb/_static/image9.png)](master-pages-and-site-navigation-vb/_static/image8.png)</span></span>

<span data-ttu-id="3f4e8-144">**Rysunek 4**: strona wzorcowa, podczas wyświetlania za pośrednictwem widoku Projekt ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-144">**Figure 4**: The Master Page, When Viewed Through the Design View ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image10.png))</span></span>


## <a name="step-2-adding-a-homepage-to-the-website"></a><span data-ttu-id="3f4e8-145">Krok 2: Dodawanie strony głównej witryny sieci Web</span><span class="sxs-lookup"><span data-stu-id="3f4e8-145">Step 2: Adding a Homepage to the Website</span></span>

<span data-ttu-id="3f4e8-146">Ze stroną wzorcową zdefiniowane już wszystko gotowe do dodania stron ASP.NET dla witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-146">With the master page defined, we're ready to add the ASP.NET pages for the website.</span></span> <span data-ttu-id="3f4e8-147">Zacznijmy od dodania `Default.aspx`, strony głównej naszą witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-147">Let's start by adding `Default.aspx`, our website's homepage.</span></span> <span data-ttu-id="3f4e8-148">Kliknij prawym przyciskiem myszy nazwę projektu w Eksploratorze rozwiązań i wybierz polecenie Dodaj nowy element.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-148">Right-click on the project name in the Solution Explorer and choose Add New Item.</span></span> <span data-ttu-id="3f4e8-149">Wybierz opcję formularza sieci Web z listy szablonów i nazwa pliku `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-149">Pick the Web Form option from the template list and name the file `Default.aspx`.</span></span> <span data-ttu-id="3f4e8-150">Ponadto zaznacz pole wyboru "Wybierz strony głównej".</span><span class="sxs-lookup"><span data-stu-id="3f4e8-150">Also, check the "Select master page" checkbox.</span></span>


<span data-ttu-id="3f4e8-151">[![Dodaj nowy formularz sieci Web sprawdzanie strony wzorcowej zaznacz pole wyboru](master-pages-and-site-navigation-vb/_static/image12.png)](master-pages-and-site-navigation-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-151">[![Add a New Web Form, Checking the Select master page Checkbox](master-pages-and-site-navigation-vb/_static/image12.png)](master-pages-and-site-navigation-vb/_static/image11.png)</span></span>

<span data-ttu-id="3f4e8-152">**Rysunek 5**: Dodaj nowy formularz sieci Web sprawdzanie zaznacz pole wyboru strony wzorcowej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-152">**Figure 5**: Add a New Web Form, Checking the Select master page Checkbox ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image13.png))</span></span>


<span data-ttu-id="3f4e8-153">Po kliknięciu przycisku OK, firma Microsoft jest wyświetlony monit o wybranie jakie strony wzorcowej tej nowej strony ASP.NET należy używać.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-153">After clicking the OK button, we're asked to choose what master page this new ASP.NET page should use.</span></span> <span data-ttu-id="3f4e8-154">Natomiast w projekcie, może mieć wiele stron wzorcowych, będziemy mieć tylko jeden.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-154">While you can have multiple master pages in your project, we have only one.</span></span>


<span data-ttu-id="3f4e8-155">[![Wybierz strony wzorcowej, której ma używać tej strony ASP.NET](master-pages-and-site-navigation-vb/_static/image15.png)](master-pages-and-site-navigation-vb/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-155">[![Choose the Master Page this ASP.NET Page Should Use](master-pages-and-site-navigation-vb/_static/image15.png)](master-pages-and-site-navigation-vb/_static/image14.png)</span></span>

<span data-ttu-id="3f4e8-156">**Rysunek 6**: Wybierz strony wzorcowej to zastosowanie powinien strony ASP.NET ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-156">**Figure 6**: Choose the Master Page this ASP.NET Page Should Use ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image16.png))</span></span>


<span data-ttu-id="3f4e8-157">Po wybraniu strony wzorcowej, nowych stron ASP.NET będzie zawierać następujący kod:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-157">After picking the master page, the new ASP.NET pages will contain the following markup:</span></span>

<span data-ttu-id="3f4e8-158">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="3f4e8-158">Default.aspx</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample2.aspx)]

<span data-ttu-id="3f4e8-159">W `@Page` dyrektywa jest odwołaniem do pliku strony głównej używanego (`MasterPageFile="~/Site.master"`), i znaczników strony ASP.NET zawiera formant zawartości dla każdego elementu ContentPlaceHolder formantów zdefiniowane na stronie głównej, z formantu `ContentPlaceHolderID` Mapowanie zawartości do określonego elementu ContentPlaceHolder kontrolować.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-159">In the `@Page` directive there's a reference to the master page file used (`MasterPageFile="~/Site.master"`), and the ASP.NET page's markup contains a Content control for each of the ContentPlaceHolder controls defined in the master page, with the control's `ContentPlaceHolderID` mapping the Content control to a specific ContentPlaceHolder.</span></span> <span data-ttu-id="3f4e8-160">Formant zawartości jest, gdzie umieścić znaczniki mają być wyświetlane w odpowiedniego elementu ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-160">The Content control is where you place the markup you want to appear in the corresponding ContentPlaceHolder.</span></span> <span data-ttu-id="3f4e8-161">Ustaw `@Page` dyrektywy `Title` atrybutu do strony głównej i dodać niektóre powitalnego zawartości do formantu zawartości:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-161">Set the `@Page` directive's `Title` attribute to Home and add some welcoming content to the Content control:</span></span>

<span data-ttu-id="3f4e8-162">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="3f4e8-162">Default.aspx</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample3.aspx)]

<span data-ttu-id="3f4e8-163">`Title` Atrybutu w `@Page` dyrektywy pozwala ustawić tytuł strony ze strony programu ASP.NET, mimo że `<title>` jest zdefiniowany element na stronie głównej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-163">The `Title` attribute in the `@Page` directive allows us to set the page's title from the ASP.NET page, even though the `<title>` element is defined in the master page.</span></span> <span data-ttu-id="3f4e8-164">Firma Microsoft może także ustawić tytuł programowo, przy użyciu `Page.Title`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-164">We can also set the title programmatically, using `Page.Title`.</span></span> <span data-ttu-id="3f4e8-165">Należy również zauważyć, że strony wzorcowej odwołania do arkuszy stylów (takie jak `Style.css`) są automatycznie aktualizowane, aby mogły działać w dowolnej strony ASP.NET, niezależnie od tego, jakie katalogu strony ASP.NET jest względem strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-165">Also note that the master page's references to stylesheets (such as `Style.css`) are automatically updated so that they work in any ASP.NET page, regardless of what directory the ASP.NET page is in relative to the master page.</span></span>

<span data-ttu-id="3f4e8-166">Przełączanie do widoku projektu, że możemy stwierdzić wygląd strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-166">Switching to the Design view we can see how our page will look in a browser.</span></span> <span data-ttu-id="3f4e8-167">Należy pamiętać, że w projekcie wyświetlania dla strony ASP.NET, czy można edytować tylko zawartości edytowalnych znaczników z systemem innym niż ContentPlaceHolder zdefiniowane na stronie głównej jest szary.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-167">Note that in the Design view for the ASP.NET page that only the content editable regions are editable the non-ContentPlaceHolder markup defined in the master page is grayed out.</span></span>


<span data-ttu-id="3f4e8-168">[![Widok projektu dla strony ASP.NET zawiera edycji i nie można edytować regionów](master-pages-and-site-navigation-vb/_static/image18.png)](master-pages-and-site-navigation-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-168">[![The Design View for the ASP.NET Page Shows Both the Editable and Non-Editable Regions](master-pages-and-site-navigation-vb/_static/image18.png)](master-pages-and-site-navigation-vb/_static/image17.png)</span></span>

<span data-ttu-id="3f4e8-169">**Rysunek 7**: widok projektu dla platformy ASP.NET strony zawiera zarówno edytowalna i regiony Non-edytowalna ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-169">**Figure 7**: The Design View for the ASP.NET Page Shows Both the Editable and Non-Editable Regions ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image19.png))</span></span>


<span data-ttu-id="3f4e8-170">Gdy `Default.aspx` odwiedzenia strony w przeglądarce, aparatu ASP.NET automatycznie scala strony zawartości strony wzorcowej i ASP. NET zawartość i renderuje zawartość scalone do końcowego kodu HTML, który jest przesyłany do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-170">When the `Default.aspx` page is visited by a browser, the ASP.NET engine automatically merges the page's master page content and the ASP.NET's content, and renders the merged content into the final HTML that is sent down to the requesting browser.</span></span> <span data-ttu-id="3f4e8-171">Po zaktualizowaniu zawartości strony wzorcowej wszystkich stron ASP.NET, które używają tej strony wzorcowej ma ich zawartość remerged z nowej zawartości strony wzorcowej podczas następnego żądania.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-171">When the master page's content is updated, all ASP.NET pages that use this master page will have their content remerged with the new master page content the next time they are requested.</span></span> <span data-ttu-id="3f4e8-172">Krótko mówiąc, model strony wzorcowej pozwala na jednej stronie szablon układu, aby być zdefiniowane (strony wzorcowej) której zmiany są natychmiast odzwierciedlone w całej lokacji.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-172">In short, the master page model allows for a single page layout template to be defined (the master page) whose changes are immediately reflected across the entire site.</span></span>

## <a name="adding-additional-aspnet-pages-to-the-website"></a><span data-ttu-id="3f4e8-173">Dodawanie stron ASP.NET dodatkowe witryny sieci Web</span><span class="sxs-lookup"><span data-stu-id="3f4e8-173">Adding Additional ASP.NET Pages to the Website</span></span>

<span data-ttu-id="3f4e8-174">Załóżmy Poświęć chwilę, aby dodać dodatkowe klas zastępczych strony ASP.NET do lokacji, w której będą przechowywane ostatecznie różnych pokazy raportowania.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-174">Let's take a moment to add additional ASP.NET page stubs to the site that will eventually hold the various reporting demos.</span></span> <span data-ttu-id="3f4e8-175">Będzie więcej niż 35 pokazy łącznie tak zamiast tworzenia wszystkie strony stub umożliwia po prostu utworzyć kilka pierwszy.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-175">There will be more than 35 demos in total, so rather than creating all of the stub pages let's just create the first few.</span></span> <span data-ttu-id="3f4e8-176">Ponieważ będzie również wiele kategorii pokazów, aby lepiej zarządzać pokazy dodać folder dla kategorii.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-176">Since there will also be many categories of demos, to better manage the demos add a folder for the categories.</span></span> <span data-ttu-id="3f4e8-177">Dodaj następujące trzy foldery teraz:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-177">Add the following three folders for now:</span></span>

- `BasicReporting`
- `Filtering`
- `CustomFormatting`

<span data-ttu-id="3f4e8-178">Na koniec Dodaj nowych plików, jak pokazano w Eksploratorze rozwiązań na rysunku 8.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-178">Finally, add new files as shown in the Solution Explorer in Figure 8.</span></span> <span data-ttu-id="3f4e8-179">Podczas dodawania każdego pliku, pamiętaj, aby zaznaczyć pole wyboru "Wybierz strony wzorcowej".</span><span class="sxs-lookup"><span data-stu-id="3f4e8-179">When adding each file, remember to check the "Select master page" checkbox.</span></span>


![Dodaj następujące pliki](master-pages-and-site-navigation-vb/_static/image20.png)

<span data-ttu-id="3f4e8-181">**Rysunek 8**: Dodaj poniższe pliki</span><span class="sxs-lookup"><span data-stu-id="3f4e8-181">**Figure 8**: Add the Following Files</span></span>


## <a name="step-2-creating-a-site-map"></a><span data-ttu-id="3f4e8-182">Krok 2: Tworzenie mapy witryny sieci Web</span><span class="sxs-lookup"><span data-stu-id="3f4e8-182">Step 2: Creating a Site Map</span></span>

<span data-ttu-id="3f4e8-183">Jednym z wyzwań związanych z zarządzaniem składa się z więcej niż kilka stron witryny sieci Web oferuje łatwe dla użytkowników przejść do witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-183">One of the challenges of managing a website composed of more than a handful of pages is providing a straightforward way for visitors to navigate through the site.</span></span> <span data-ttu-id="3f4e8-184">Najpierw należy zdefiniować struktura nawigacji w witrynie.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-184">To begin with, the site's navigational structure must be defined.</span></span> <span data-ttu-id="3f4e8-185">Następnie ta struktura musi można przetłumaczyć elementów interfejsu użytkownika można nawigować, np. menu lub nawigacji.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-185">Next, this structure must be translated into navigable user interface elements, such as menus or breadcrumbs.</span></span> <span data-ttu-id="3f4e8-186">Na koniec całego tego procesu musi być obsługiwany i aktualizowane w miarę dodawania nowych stron do lokacji i istniejące usunięte.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-186">Finally, this whole process needs to be maintained and updated as new pages are added to the site and existing ones removed.</span></span> <span data-ttu-id="3f4e8-187">Przed składnika ASP.NET 2.0 deweloperzy były na ich własnych dla tworzenia struktury nawigacji witryny, utrzymując i tłumaczenie go na elementy interfejsu użytkownika można nawigować.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-187">Prior to ASP.NET 2.0, developers were on their own for creating the site's navigational structure, maintaining it, and translating it into navigable user interface elements.</span></span> <span data-ttu-id="3f4e8-188">Z programem ASP.NET 2.0, deweloperzy mogą korzystać z bardzo elastyczne wbudowanej w system nawigacji witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-188">With ASP.NET 2.0, however, developers can utilize the very flexible built in site navigation system.</span></span>

<span data-ttu-id="3f4e8-189">System nawigacji witryny ASP.NET 2.0 umożliwia projektantowi do definiowania mapy witryny sieci Web, a następnie dostęp do informacji za pośrednictwem programowe interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-189">The ASP.NET 2.0 site navigation system provides a means for a developer to define a site map and to then access this information through a programmatic API.</span></span> <span data-ttu-id="3f4e8-190">Program ASP.NET jest dostarczany z dostawcy mapy witryny, który oczekuje na dane mapy witryny mają być przechowywane w pliku XML w określony sposób.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-190">ASP.NET ships with a site map provider that expects site map data to be stored in an XML file formatted in a particular way.</span></span> <span data-ttu-id="3f4e8-191">Jednak ponieważ nawigacji systemu lokacji jest zbudowany [modelu dostawcy](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) może zostać rozszerzony do obsługi alternatywnych metod dla serializacji mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-191">But, since the site navigation system is built on the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) it can be extended to support alternative ways for serializing the site map information.</span></span> <span data-ttu-id="3f4e8-192">Artykuł Jeff Prosise [SQL lokacji mapy dostawcy możesz już został do](https://msdn.microsoft.com/msdnmag/issues/06/02/WickedCode/default.aspx) pokazuje, jak utworzyć dostawcy mapy witryny który przechowuje mapy witryny w bazie danych programu SQL Server; innym rozwiązaniem jest utworzenie [na podstawie dostawcy mapy witryny struktury systemu plików](http://aspnet.4guysfromrolla.com/articles/020106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-192">Jeff Prosise's article, [The SQL Site Map Provider You've Been Waiting For](https://msdn.microsoft.com/msdnmag/issues/06/02/WickedCode/default.aspx) shows how to create a site map provider that stores the site map in a SQL Server database; another option is to create [a site map provider based on the file system structure](http://aspnet.4guysfromrolla.com/articles/020106-1.aspx).</span></span>

<span data-ttu-id="3f4e8-193">W tym samouczku jednak Użyjmy domyślnego dostawcę mapy witryny, który jest dostarczany z programem ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-193">For this tutorial, however, let's use the default site map provider that ships with ASP.NET 2.0.</span></span> <span data-ttu-id="3f4e8-194">Aby utworzyć mapy witryny, po prostu kliknij prawym przyciskiem myszy nazwę projektu w Eksploratorze rozwiązań, wybierz polecenie Dodaj nowy element i wybierz opcję mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-194">To create the site map, simply right-click on the project name in the Solution Explorer, choose Add New Item, and choose the Site Map option.</span></span> <span data-ttu-id="3f4e8-195">Pozostaw nazwę jako `Web.sitemap` i kliknij przycisk Dodaj.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-195">Leave the name as `Web.sitemap` and click the Add button.</span></span>


<span data-ttu-id="3f4e8-196">[![Dodaj mapy witryny sieci Web do projektu](master-pages-and-site-navigation-vb/_static/image22.png)](master-pages-and-site-navigation-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-196">[![Add a Site Map to Your Project](master-pages-and-site-navigation-vb/_static/image22.png)](master-pages-and-site-navigation-vb/_static/image21.png)</span></span>

<span data-ttu-id="3f4e8-197">**Rysunek 9**: Dodaj mapy witryny sieci Web do projektu Your ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-197">**Figure 9**: Add a Site Map to Your Project ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image23.png))</span></span>


<span data-ttu-id="3f4e8-198">Plik mapy witryny jest plikiem XML.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-198">The site map file is an XML file.</span></span> <span data-ttu-id="3f4e8-199">Należy pamiętać, że program Visual Studio udostępnia IntelliSense dla struktury mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-199">Note that Visual Studio provides IntelliSense for the site map structure.</span></span> <span data-ttu-id="3f4e8-200">Plik mapy witryny musi mieć `<siteMap>` węzeł jako węzeł główny, który musi zawierać dokładnie jeden `<siteMapNode>` element podrzędny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-200">The site map file must have the `<siteMap>` node as its root node, which must contain precisely one `<siteMapNode>` child element.</span></span> <span data-ttu-id="3f4e8-201">Pierwsza `<siteMapNode>` element następnie może zawierać dowolną liczbę podrzędny `<siteMapNode>` elementów.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-201">That first `<siteMapNode>` element can then contain an arbitrary number of descendent `<siteMapNode>` elements.</span></span>

<span data-ttu-id="3f4e8-202">Zdefiniuj mapy witryny, aby naśladował strukturę systemu plików.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-202">Define the site map to mimic the file system structure.</span></span> <span data-ttu-id="3f4e8-203">Oznacza to, Dodaj `<siteMapNode>` elementu dla każdego z trzech folderów i podrzędne `<siteMapNode>` elementy dla każdej strony ASP.NET w tych folderach w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-203">That is, add a `<siteMapNode>` element for each of the three folders, and child `<siteMapNode>` elements for each of the ASP.NET pages in those folders, like so:</span></span>

<span data-ttu-id="3f4e8-204">Web.sitemap</span><span class="sxs-lookup"><span data-stu-id="3f4e8-204">Web.sitemap</span></span>


[!code-xml[Main](master-pages-and-site-navigation-vb/samples/sample4.xml)]

<span data-ttu-id="3f4e8-205">Mapy witryny definiuje struktury nawigacji witryny sieci Web, która jest hierarchii, która zawiera opis różnych sekcji witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-205">The site map defines the website's navigational structure, which is a hierarchy that describes the various sections of the site.</span></span> <span data-ttu-id="3f4e8-206">Każdy `<siteMapNode>` element `Web.sitemap` reprezentuje sekcję w strukturze nawigacji witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-206">Each `<siteMapNode>` element in `Web.sitemap` represents a section in the site's navigational structure.</span></span>


<span data-ttu-id="3f4e8-207">[![Mapy witryny reprezentuje strukturę hierarchiczną nawigacji](master-pages-and-site-navigation-vb/_static/image25.png)](master-pages-and-site-navigation-vb/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-207">[![The Site Map Represents a Hierarchical Navigational Structure](master-pages-and-site-navigation-vb/_static/image25.png)](master-pages-and-site-navigation-vb/_static/image24.png)</span></span>

<span data-ttu-id="3f4e8-208">**Na rysunku nr 10**: mapy witryny reprezentuje strukturę hierarchiczną nawigacji ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-208">**Figure 10**: The Site Map Represents a Hierarchical Navigational Structure ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image26.png))</span></span>


<span data-ttu-id="3f4e8-209">Program ASP.NET udostępnia struktury mapy witryny za pomocą programu .NET Framework [klasy SiteMap](https://msdn.microsoft.com/library/system.web.sitemap.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-209">ASP.NET exposes the site map's structure through the .NET Framework's [SiteMap class](https://msdn.microsoft.com/library/system.web.sitemap.aspx).</span></span> <span data-ttu-id="3f4e8-210">Ta klasa ma `CurrentNode` właściwość, która zwraca informacje o sekcji, użytkownik jest obecnie odwiedzający; `RootNode` właściwość Zwraca pierwiastek mapy witryny (głównej, w naszym mapy witryny).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-210">This class has a `CurrentNode` property, which returns information about the section the user is currently visiting; the `RootNode` property returns the root of the site map (Home, in our site map).</span></span> <span data-ttu-id="3f4e8-211">Zarówno `CurrentNode` i `RootNode` return właściwości [SiteMapNode](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) wystąpienia, które mają właściwości takich jak `ParentNode`, `ChildNodes`, `NextSibling`, `PreviousSibling`i tak dalej umożliwiające mapy witryny Hierarchia można udał.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-211">Both the `CurrentNode` and `RootNode` properties return [SiteMapNode](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) instances, which have properties like `ParentNode`, `ChildNodes`, `NextSibling`, `PreviousSibling`, and so on, that allow for the site map hierarchy to be walked.</span></span>

## <a name="step-3-displaying-a-menu-based-on-the-site-map"></a><span data-ttu-id="3f4e8-212">Krok 3: Wyświetlanie Menu oparty na mapie witryny</span><span class="sxs-lookup"><span data-stu-id="3f4e8-212">Step 3: Displaying a Menu Based on the Site Map</span></span>

<span data-ttu-id="3f4e8-213">Uzyskiwanie dostępu do danych w programie ASP.NET 2.0 można wykonać programowo, takich jak w programie ASP.NET 1.x, lub deklaratywnie, za pomocą nowego [kontroli źródła danych](https://msdn.microsoft.com/library/ms227679.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-213">Accessing data in ASP.NET 2.0 can be accomplished programmatically, like in ASP.NET 1.x, or declaratively, through the new [data source controls](https://msdn.microsoft.com/library/ms227679.aspx).</span></span> <span data-ttu-id="3f4e8-214">Istnieje kilka kontrolki źródła danych wbudowanych, takich jak kontrola SqlDataSource, do uzyskiwania dostępu do danych relacyjnych baz danych, kontrolki ObjectDataSource, uzyskać dostęp do danych z klasy i inne.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-214">There are several built-in data source controls such as the SqlDataSource control, for accessing relational database data, the ObjectDataSource control, for accessing data from classes, and others.</span></span> <span data-ttu-id="3f4e8-215">Można też tworzyć własne [źródła danych niestandardowych formantów](https://msdn.microsoft.com/asp.net/reference/data/default.aspx?pull=/library/dnvs05/html/DataSourceCon1.asp).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-215">You can even create your own [custom data source controls](https://msdn.microsoft.com/asp.net/reference/data/default.aspx?pull=/library/dnvs05/html/DataSourceCon1.asp).</span></span>

<span data-ttu-id="3f4e8-216">Kontrolki źródła danych służą jako serwer proxy między strony ASP.NET i danych.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-216">The data source controls serve as a proxy between your ASP.NET page and the underlying data.</span></span> <span data-ttu-id="3f4e8-217">Aby wyświetlić dane pobrane z kontroli źródła danych, firma Microsoft będzie zwykle na stronie Dodaj inny formant sieci Web i powiązać ją z kontroli źródła danych.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-217">In order to display a data source control's retrieved data, we'll typically add another Web control to the page and bind it to the data source control.</span></span> <span data-ttu-id="3f4e8-218">Aby powiązać formant sieci Web do kontroli źródła danych, wystarczy ustawić formant sieci Web `DataSourceID` na wartość formantu źródła danych `ID` właściwości.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-218">To bind a Web control to a data source control, simply set the Web control's `DataSourceID` property to the value of the data source control's `ID` property.</span></span>

<span data-ttu-id="3f4e8-219">W celu ułatwienia pracy z danymi mapy witryny, program ASP.NET zawiera kontrolki SiteMapDataSource, który umożliwia powiązanie formantu względem naszego witryny sieci Web mapy witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-219">To aid in working with the site map's data, ASP.NET includes the SiteMapDataSource control, which allows us to bind a Web control against our website's site map.</span></span> <span data-ttu-id="3f4e8-220">Dwóch formantów sieci Web TreeView i Menu są często używane do udostępniają interfejs użytkownika nawigacji.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-220">Two Web controls the TreeView and Menu are commonly used to provide a navigation user interface.</span></span> <span data-ttu-id="3f4e8-221">Aby powiązać dane mapy witryny do jednej z tych dwóch formantów, po prostu Dodaj SiteMapDataSource do strony wraz z elementu TreeView lub Menu kontroli, których `DataSourceID` właściwość jest ustawiona odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-221">To bind the site map data to one of these two controls, simply add a SiteMapDataSource to the page along with a TreeView or Menu control whose `DataSourceID` property is set accordingly.</span></span> <span data-ttu-id="3f4e8-222">Na przykład możemy dodać kontrolkę Menu, strony wzorcowej przy użyciu następujących znaczników:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-222">For example, we could add a Menu control to the master page using the following markup:</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample5.aspx)]

<span data-ttu-id="3f4e8-223">Dla dokładniejszą kontrolę nad emitowany HTML, możemy powiązanie formantu SiteMapDataSource na kontrolce elementu powtarzanego w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-223">For a finer degree of control over the emitted HTML, we can bind the SiteMapDataSource control to the Repeater control, like so:</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample6.aspx)]

<span data-ttu-id="3f4e8-224">Formant SiteMapDataSource zwraca poziom hierarchii jednej mapy witryny w czasie, począwszy od główny węzeł mapy witryny (głównej, w naszym mapy witryny), następnie następnego poziomu (podstawowym raportowaniem, filtrowania raportów i dostosować formatowania) i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-224">The SiteMapDataSource control returns the site map hierarchy one level at a time, starting with the root site map node (Home, in our site map), then the next level (Basic Reporting, Filtering Reports, and Customized Formatting), and so on.</span></span> <span data-ttu-id="3f4e8-225">Podczas tworzenia wiązania SiteMapDataSource elementu powtarzanego, wylicza go pierwszy poziom zwrócił i tworzy `ItemTemplate` dla każdego `SiteMapNode` wystąpienia, w tym pierwszy poziom.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-225">When binding the SiteMapDataSource to a Repeater, it enumerates the first level returned and instantiates the `ItemTemplate` for each `SiteMapNode` instance in that first level.</span></span> <span data-ttu-id="3f4e8-226">Można uzyskać dostępu do określonej właściwości elementu `SiteMapNode`, możemy użyć `Eval(propertyName)`, czyli sposób uzyskujemy każdego `SiteMapNode`w `Url` i `Title` właściwości formantu hiperłącza.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-226">To access a particular property of the `SiteMapNode`, we can use `Eval(propertyName)`, which is how we get each `SiteMapNode`'s `Url` and `Title` properties for the HyperLink control.</span></span>

<span data-ttu-id="3f4e8-227">W powyższym przykładzie elementu powtarzanego spowoduje, że następujący kod:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-227">The Repeater example above will render the following markup:</span></span>


[!code-html[Main](master-pages-and-site-navigation-vb/samples/sample7.html)]

<span data-ttu-id="3f4e8-228">Te węzły mapy witryny (podstawowym raportowaniem, filtrowania raportów i dostosować formatowania) obejmują *drugi* poziomu renderowanego nie pierwszej mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-228">These site map nodes (Basic Reporting, Filtering Reports, and Customized Formatting) comprise the *second* level of the site map being rendered, not the first.</span></span> <span data-ttu-id="3f4e8-229">Jest to spowodowane SiteMapDataSource `ShowStartingNode` właściwość jest ustawiona na wartość False, powodując SiteMapDataSource do obejścia główny węzeł mapy witryny i zamiast tego rozpocząć zwracając drugiego poziomu w hierarchii mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-229">This is because the SiteMapDataSource's `ShowStartingNode` property is set to False, causing the SiteMapDataSource to bypass the root site map node and instead begin by returning the second level in the site map hierarchy.</span></span>

<span data-ttu-id="3f4e8-230">Do wyświetlenia elementów podrzędnych podstawowym raportowaniem, filtrowania raportów i dostosować formatowania `SiteMapNode` s, można dodać innego elementu powtarzanego do początkowego elementu powtarzanego `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-230">To display the children for the Basic Reporting, Filtering Reports, and Customized Formatting `SiteMapNode` s, we can add another Repeater to the initial Repeater's `ItemTemplate`.</span></span> <span data-ttu-id="3f4e8-231">Zostanie powiązany tego drugiego elementu powtarzanego `SiteMapNode` wystąpienia `ChildNodes` właściwości, w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-231">This second Repeater will be bound to the `SiteMapNode` instance's `ChildNodes` property, like so:</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample8.aspx)]

<span data-ttu-id="3f4e8-232">Te dwie wzmacniaki spowodować następujący kod znaczników (niektóre znaczników zostało usunięte w przypadku skrócenia):</span><span class="sxs-lookup"><span data-stu-id="3f4e8-232">These two Repeaters result in the following markup (some markup has been removed for brevity):</span></span>


[!code-html[Main](master-pages-and-site-navigation-vb/samples/sample9.html)]

<span data-ttu-id="3f4e8-233">Za pomocą CSS style wybrane z [Rachel Andrew](http://www.rachelandrew.co.uk/)obiektu książki [Anthology CSS: 101 porady ważne wskazówki, &amp; uzyskuje dostęp do](https://www.amazon.com/gp/product/0957921888/qid=1137565739/sr=8-1/ref=pd_bbs_1/103-0562306-3386214?n=507846&amp;s=books&amp;v=glance), `<ul>` i `<li>` elementy są stylem tak, aby Kod znaczników tworzy visual następujące dane wyjściowe:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-233">Using CSS styles chosen from [Rachel Andrew](http://www.rachelandrew.co.uk/)'s book [The CSS Anthology: 101 Essential Tips, Tricks, &amp; Hacks](https://www.amazon.com/gp/product/0957921888/qid=1137565739/sr=8-1/ref=pd_bbs_1/103-0562306-3386214?n=507846&amp;s=books&amp;v=glance), the `<ul>` and `<li>` elements are styled such that the markup produces the following visual output:</span></span>


![Menu składa się z dwóch wzmacniaki i niektóre CSS](master-pages-and-site-navigation-vb/_static/image27.png)

<span data-ttu-id="3f4e8-235">**Rysunek 11**: Menu składa się z dwóch wzmacniaki i niektóre CSS</span><span class="sxs-lookup"><span data-stu-id="3f4e8-235">**Figure 11**: A Menu Composed from Two Repeaters and Some CSS</span></span>


<span data-ttu-id="3f4e8-236">To menu strony wzorcowej i powiązany z mapy witryny zdefiniowane w `Web.sitemap`, co oznacza że zmiany do mapy witryny zostaną natychmiast odzwierciedlone na wszystkich stronach używające `Site.master` strony wzorcowej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-236">This menu is in the master page and bound to the site map defined in `Web.sitemap`, meaning that any change to the site map will be immediately reflected on all pages that use the `Site.master` master page.</span></span>

## <a name="disabling-viewstate"></a><span data-ttu-id="3f4e8-237">Wyłączanie ViewState</span><span class="sxs-lookup"><span data-stu-id="3f4e8-237">Disabling ViewState</span></span>

<span data-ttu-id="3f4e8-238">Wszystkie kontrolki ASP.NET Opcjonalnie można utrwalić stanu do [stanu widoku](https://msdn.microsoft.com/msdnmag/issues/03/02/CuttingEdge/), który jest szeregowana jako ukryte pole formularza w renderowanym HTML.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-238">All ASP.NET controls can optionally persist their state to the [view state](https://msdn.microsoft.com/msdnmag/issues/03/02/CuttingEdge/), which is serialized as a hidden form field in the rendered HTML.</span></span> <span data-ttu-id="3f4e8-239">Stan widoku jest używany przez formanty do zapamiętania ich programowo zmienić stan między ogłaszania zwrotnego, takich jak dane powiązane formantu danych sieci Web.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-239">View state is used by controls to remember their programmatically-changed state across postbacks, such as the data bound to a data Web control.</span></span> <span data-ttu-id="3f4e8-240">Gdy stan widoku na to zezwala informacji należy pamiętać, między ogłaszania zwrotnego spowoduje zwiększenie rozmiaru kod znaczników, który należy wysłać do klienta i może spowodować pociągnięcie strony rozrostu Jeśli nie zostanie dokładnie monitorowane.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-240">While view state permits information to be remembered across postbacks, it increases the size of the markup that must be sent to the client and can lead to severe page bloat if not closely monitored.</span></span> <span data-ttu-id="3f4e8-241">Formanty sieci Web danych szczególnie widoku GridView są szczególnie odpowiedzialne za dodawanie dziesiątki dodatkowe kilobajtów znaczników do strony.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-241">Data Web controls especially the GridView are particularly notorious for adding dozens of extra kilobytes of markup to a page.</span></span> <span data-ttu-id="3f4e8-242">Takie zwiększenie może być nieistotne dla użytkowników z połączenia szerokopasmowego lub intranecie, stan widoku można dodać kilka sekund do obiegu dla użytkowników programu dial-up.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-242">While such an increase may be negligible for broadband or intranet users, view state can add several seconds to the round trip for dial-up users.</span></span>

<span data-ttu-id="3f4e8-243">Aby zobaczyć wpływ stanu widoku, odwiedź stronę w przeglądarce, a następnie Wyświetl źródło wysyłane przez stronę sieci web (w programie Internet Explorer przejdź do menu Widok i wybierz opcję źródła).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-243">To see the impact of view state, visit a page in a browser and then view the source sent by the web page (in Internet Explorer, go to the View menu and choose the Source option).</span></span> <span data-ttu-id="3f4e8-244">Można też włączyć [śledzenie strony](https://msdn.microsoft.com/library/sfbfw58f.aspx) wyświetlić alokacji stan widoku, używane przez każdy z formantów na stronie.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-244">You can also turn on [page tracing](https://msdn.microsoft.com/library/sfbfw58f.aspx) to see the view state allocation used by each of the controls on the page.</span></span> <span data-ttu-id="3f4e8-245">Informacje o stanie widoku jest serializowany w ukryte pole o nazwie `__VIEWSTATE`, który znajduje się w `<div>` element natychmiast po otwarciu `<form>` tagu.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-245">The view state information is serialized in a hidden form field named `__VIEWSTATE`, located in a `<div>` element immediately after the opening `<form>` tag.</span></span> <span data-ttu-id="3f4e8-246">Stan widoku jest zachowywane tylko w przypadku jest używany; formularzy sieci Web Jeśli nie ma strony ASP.NET `<form runat="server">` w jego składni deklaratywnej nie będzie `__VIEWSTATE` ukryte pole formularza w renderowanego kodu znaczników.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-246">View state is only persisted when there is a Web Form being used; if your ASP.NET page does not include a `<form runat="server">` in its declarative syntax there won't be a `__VIEWSTATE` hidden form field in the rendered markup.</span></span>

<span data-ttu-id="3f4e8-247">`__VIEWSTATE` Pola formularza, generowane przez strony wzorcowej dodaje około 1800 bajtów do strony wygenerowanego kodu znaczników.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-247">The `__VIEWSTATE` form field generated by the master page adds roughly 1,800 bytes to the page's generated markup.</span></span> <span data-ttu-id="3f4e8-248">Ta dodatkowa rozrostu wynika głównie kontrolce elementu powtarzanego jako zawartości formantu SiteMapDataSource są trwałe, aby wyświetlić stan.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-248">This extra bloat is due primarily to the Repeater control, as the contents of the SiteMapDataSource control are persisted to view state.</span></span> <span data-ttu-id="3f4e8-249">Gdy dodatkowych 1800 bajtów nie dość znacznie uzyskanie radością, jeśli element GridView z wielu pól i rekordów, stan widoku można łatwo spęcznienia przez współczynnik 10 lub więcej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-249">While an extra 1,800 bytes may not seem like much to get excited about, when using a GridView with many fields and records, the view state can easily swell by a factor of 10 or more.</span></span>

<span data-ttu-id="3f4e8-250">Stan widoku można wyłączyć na poziomie strona lub kontrolka przez ustawienie `EnableViewState` właściwości `False`, a tym samym zmniejszenie rozmiaru renderowanego kodu znaczników.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-250">View state can be disabled at the page or control level by setting the `EnableViewState` property to `False`, thereby reducing the size of the rendered markup.</span></span> <span data-ttu-id="3f4e8-251">Od stanu widoku danych sieci Web kontroli danych powiązanych z danymi formantu sieci Web w wielu ogłaszania zwrotnego będzie nadal występować gdy wyłączenie stanu widoku danych formant sieci Web danych musi być powiązana każdej strony.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-251">Since the view state for a data Web control persists the data bound to the data Web control across postbacks, when disabling the view state for a data Web control the data must be bound on each and every postback.</span></span> <span data-ttu-id="3f4e8-252">W wersji platformy ASP.NET 1.x spadła tę odpowiedzialność na łopatkach developer strony. z programu ASP.NET 2.0 jednak formantów sieci Web danych będzie ponownie powiązać do swoich danych kontroli źródła na każdym ogłaszania zwrotnego w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-252">In ASP.NET version 1.x this responsibility fell on the shoulders of the page developer; with ASP.NET 2.0, however, the data Web controls will rebind to their data source control on each postback if needed.</span></span>

<span data-ttu-id="3f4e8-253">Aby zmniejszyć stan widoku danej strony umożliwia Ustaw kontrolce elementu powtarzanego `EnableViewState` właściwości `False`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-253">To reduce the page's view state let's set the Repeater control's `EnableViewState` property to `False`.</span></span> <span data-ttu-id="3f4e8-254">Można to zrobić za pomocą okna właściwości w Projektancie lub deklaratywnie w widoku źródła.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-254">This can be done through the Properties window in the Designer or declaratively in the Source view.</span></span> <span data-ttu-id="3f4e8-255">Po wprowadzeniu tej zmiany znaczników deklaratywne w elemencie powtarzanym powinien wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-255">After making this change the Repeater's declarative markup should look like:</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample10.aspx)]

<span data-ttu-id="3f4e8-256">Po tej zmiany, strony w renderowania widoku, że rozmiar danych stanu został zmniejszony do zaledwie 52 bajtów, oszczędności 97% w widoku stanu rozmiar!</span><span class="sxs-lookup"><span data-stu-id="3f4e8-256">After this change, the page's rendered view state size has shrunk to a mere 52 bytes, a 97% savings in view state size!</span></span> <span data-ttu-id="3f4e8-257">W samouczkach w tej serii firma Microsoft będzie stan widoku danych formantów sieci Web powodująca domyślne wyłączenie Aby zmniejszyć rozmiar renderowanego kodu znaczników.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-257">In the tutorials throughout this series we'll disable the view state of the data Web controls by default in order to reduce the size of the rendered markup.</span></span> <span data-ttu-id="3f4e8-258">W większości przykłady `EnableViewState` będzie mieć ustawioną właściwość `False` i zrobione bez uwagi.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-258">In the majority of the examples the `EnableViewState` property will be set to `False` and done so without mention.</span></span> <span data-ttu-id="3f4e8-259">Tylko razem widok stanu zostaną dokładniej omówione w scenariuszach, w którym musi być włączona w danych do zapewnienia jego funkcjonalność kontrolować sieci Web.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-259">The only time view state will be discussed is in scenarios where it must be enabled in order for the data Web control to provide its expected functionality.</span></span>

## <a name="step-4-adding-breadcrumb-navigation"></a><span data-ttu-id="3f4e8-260">Krok 4: Dodawanie nadrzędnych</span><span class="sxs-lookup"><span data-stu-id="3f4e8-260">Step 4: Adding Breadcrumb Navigation</span></span>

<span data-ttu-id="3f4e8-261">Aby ukończyć strony wzorcowej, Dodajmy elementu interfejsu użytkownika nawigacją nawigacji do każdej strony.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-261">To complete the master page, let's add a breadcrumb navigation UI element to each page.</span></span> <span data-ttu-id="3f4e8-262">Łączach szybko wyświetlani użytkownicy, ich bieżącą pozycję w hierarchii lokacji.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-262">The breadcrumb quickly shows users their current position within the site hierarchy.</span></span> <span data-ttu-id="3f4e8-263">Dodawanie ślad w programie ASP.NET 2.0 jest bardzo łatwo dodać kontrolki ścieżki mapy witryny do strony; Brak kodu jest niezbędne.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-263">Adding a breadcrumb in ASP.NET 2.0 is easy just add a SiteMapPath control to the page; no code is needed.</span></span>

<span data-ttu-id="3f4e8-264">Dla witryny, należy dodać ten formant do nagłówka `<div>`:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-264">For our site, add this control to the header `<div>`:</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample11.aspx)]

<span data-ttu-id="3f4e8-265">Łączach pokazuje bieżącą stronę odwiedzania w hierarchii mapy witryny, a także tej lokacji węzeł mapy "obiektów nadrzędnych," do katalogu głównego (głównej, w naszym mapy witryny).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-265">The breadcrumb shows the current page the user is visiting in the site map hierarchy as well as that site map node's "ancestors," all the way up to the root (Home, in our site map).</span></span>


![Łączach Wyświetla bieżącą stronę i jego obiektów nadrzędnych w witrynie mapowania hierarchii](master-pages-and-site-navigation-vb/_static/image28.png)

<span data-ttu-id="3f4e8-267">**Rysunek 12**: łączach Wyświetla bieżącą stronę i jego obiektów nadrzędnych w witrynie mapowania hierarchii</span><span class="sxs-lookup"><span data-stu-id="3f4e8-267">**Figure 12**: The Breadcrumb Displays the Current Page and its Ancestors in the Site Map Hierarchy</span></span>


## <a name="step-5-adding-the-default-page-for-each-section"></a><span data-ttu-id="3f4e8-268">Krok 5: Dodawanie domyślnej strony dla każdej sekcji</span><span class="sxs-lookup"><span data-stu-id="3f4e8-268">Step 5: Adding the Default Page for Each Section</span></span>

<span data-ttu-id="3f4e8-269">Samouczki w naszej witrynie są rozkładane na różne kategorie podstawowym raportowaniem, filtrowanie, formatowanie niestandardowe, i tak dalej z folderu dla każdej kategorii i odpowiednie samouczki jako strony ASP.NET w tym folderze.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-269">The tutorials in our site are broken down into different categories Basic Reporting, Filtering, Custom Formatting, and so on with a folder for each category and the corresponding tutorials as ASP.NET pages within that folder.</span></span> <span data-ttu-id="3f4e8-270">Ponadto każdy folder zawiera `Default.aspx` strony.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-270">Additionally, each folder contains a `Default.aspx` page.</span></span> <span data-ttu-id="3f4e8-271">Na tej stronie domyślne teraz wyświetlić wszystkie samouczków dla bieżącej sekcji.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-271">For this default page, let's display all of the tutorials for the current section.</span></span> <span data-ttu-id="3f4e8-272">Oznacza to aby uzyskać `Default.aspx` w `BasicReporting` folderu trzeba łącza do `SimpleDisplay.aspx`, `DeclarativeParams.aspx`, i `ProgrammaticParams.aspx`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-272">That is, for the `Default.aspx` in the `BasicReporting` folder we'd have links to `SimpleDisplay.aspx`, `DeclarativeParams.aspx`, and `ProgrammaticParams.aspx`.</span></span> <span data-ttu-id="3f4e8-273">W tym miejscu, możemy użyć `SiteMap` klas i danych formantu sieci Web, aby wyświetlić te informacje oparte na mapy witryny zdefiniowane w `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-273">Here, again, we can use the `SiteMap` class and a data Web control to display this information based upon the site map defined in `Web.sitemap`.</span></span>

<span data-ttu-id="3f4e8-274">Umożliwia wyświetlanie nieuporządkowaną listę ponownie, ale tym razem będzie wyświetlić tytuł i opis samouczków, przy użyciu elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-274">Let's display an unordered list using a Repeater again, but this time we'll display the title and description of the tutorials.</span></span> <span data-ttu-id="3f4e8-275">Ponieważ znaczników i kodu do wykonania będzie konieczne należy powtórzyć dla każdego `Default.aspx` strony, możemy Hermetyzowanie tego logika interfejsu użytkownika w [kontrolki użytkownika](https://msdn.microsoft.com/library/y6wb1a0e.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-275">Since the markup and code to accomplish this will need to be repeated for each `Default.aspx` page, we can encapsulate this UI logic in a [User Control](https://msdn.microsoft.com/library/y6wb1a0e.aspx).</span></span> <span data-ttu-id="3f4e8-276">Utwórz folder w witrynie sieci Web o nazwie `UserControls` i Dodaj do tego nowego elementu typu kontrolka użytkownika sieci Web o nazwie `SectionLevelTutorialListing.ascx`i Dodaj następujący kod:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-276">Create a folder in the website called `UserControls` and add to that a new item of type Web User Control named `SectionLevelTutorialListing.ascx`, and add the following markup:</span></span>


<span data-ttu-id="3f4e8-277">[![Dodaj kontrolkę użytkownika sieci Web do folderu elementy UserControls](master-pages-and-site-navigation-vb/_static/image30.png)](master-pages-and-site-navigation-vb/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-277">[![Add a New Web User Control to the UserControls Folder](master-pages-and-site-navigation-vb/_static/image30.png)](master-pages-and-site-navigation-vb/_static/image29.png)</span></span>

<span data-ttu-id="3f4e8-278">**Rysunek 13**: dodać nową kontrolkę użytkownika sieci Web do `UserControls` Folder ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-278">**Figure 13**: Add a New Web User Control to the `UserControls` Folder ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image31.png))</span></span>


<span data-ttu-id="3f4e8-279">SectionLevelTutorialListing.ascx</span><span class="sxs-lookup"><span data-stu-id="3f4e8-279">SectionLevelTutorialListing.ascx</span></span>


[!code-aspx[Main](master-pages-and-site-navigation-vb/samples/sample12.aspx)]

<span data-ttu-id="3f4e8-280">SectionLevelTutorialListing.ascx.vb</span><span class="sxs-lookup"><span data-stu-id="3f4e8-280">SectionLevelTutorialListing.ascx.vb</span></span>


[!code-vb[Main](master-pages-and-site-navigation-vb/samples/sample13.vb)]

<span data-ttu-id="3f4e8-281">W poprzednim przykładzie elementu powtarzanego możemy powiązany `SiteMap` danych powtarzanego deklaratywnie; `SectionLevelTutorialListing` kontrolki użytkownika, jednak wykonuje programowo.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-281">In the previous Repeater example we bound the `SiteMap` data to the Repeater declaratively; the `SectionLevelTutorialListing` User Control, however, does so programmatically.</span></span> <span data-ttu-id="3f4e8-282">W `Page_Load` program obsługi zdarzeń, dokonuje do upewnij się, że ta strona s adres URL mapowany na węzeł mapy witryny.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-282">In the `Page_Load` event handler, a check is made to ensure that this page s URL maps to a node in the site map.</span></span> <span data-ttu-id="3f4e8-283">Użycie tej kontrolki użytkownika na stronie nie ma odpowiadającego `<siteMapNode>` wpisu, `SiteMap.CurrentNode` zwróci `Nothing` i żadne dane nie będą powiązane powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-283">If this User Control is used in a page that does not have a corresponding `<siteMapNode>` entry, `SiteMap.CurrentNode` will return `Nothing` and no data will be bound to the Repeater.</span></span> <span data-ttu-id="3f4e8-284">Zakładając, że mamy `CurrentNode`, możemy powiązać jej `ChildNodes` kolekcji do elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-284">Assuming we have a `CurrentNode`, we bind its `ChildNodes` collection to the Repeater.</span></span> <span data-ttu-id="3f4e8-285">Ponieważ naszych mapy witryny jest skonfigurowany tak, aby `Default.aspx` strony w każdej sekcji jest węzeł nadrzędny wszystkich samouczków w tej sekcji, ten kod będzie wyświetlana łącza do wraz z opisami wszystkich sekcji samouczki, jak pokazano na ekranie zrzut poniżej.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-285">Since our site map is set up such that the `Default.aspx` page in each section is the parent node of all of the tutorials within that section, this code will display links to and descriptions of all of the section's tutorials, as shown in the screen shot below.</span></span>

<span data-ttu-id="3f4e8-286">Po utworzeniu tego elementu powtarzanego Otwórz `Default.aspx` stron w foldery, przejdź do widoku projektu i po prostu przeciągnij formant użytkownika z Eksploratora rozwiązań na powierzchnię projektu miejscu samouczek listy pojawią się.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-286">Once this Repeater has been created, open the `Default.aspx` pages in each of the folders, go to the Design view, and simply drag the User Control from the Solution Explorer onto the Design surface where you want the tutorial list to appear.</span></span>


<span data-ttu-id="3f4e8-287">[![Kontrolki użytkownika został dodany do Default.aspx](master-pages-and-site-navigation-vb/_static/image33.png)](master-pages-and-site-navigation-vb/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-287">[![The User Control has Been Added to Default.aspx](master-pages-and-site-navigation-vb/_static/image33.png)](master-pages-and-site-navigation-vb/_static/image32.png)</span></span>

<span data-ttu-id="3f4e8-288">**Rysunek 14**: kontrolki użytkownika został dodany do `Default.aspx` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-288">**Figure 14**: The User Control has Been Added to `Default.aspx` ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image34.png))</span></span>


<span data-ttu-id="3f4e8-289">[![Podstawowe samouczki raportowania są wyświetlane.](master-pages-and-site-navigation-vb/_static/image36.png)](master-pages-and-site-navigation-vb/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-289">[![The Basic Reporting Tutorials are Listed](master-pages-and-site-navigation-vb/_static/image36.png)](master-pages-and-site-navigation-vb/_static/image35.png)</span></span>

<span data-ttu-id="3f4e8-290">**Rysunek 15**: znajdują się podstawowe samouczki raportowania ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-pages-and-site-navigation-vb/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="3f4e8-290">**Figure 15**: The Basic Reporting Tutorials are Listed ([Click to view full-size image](master-pages-and-site-navigation-vb/_static/image37.png))</span></span>


## <a name="summary"></a><span data-ttu-id="3f4e8-291">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="3f4e8-291">Summary</span></span>

<span data-ttu-id="3f4e8-292">Mapy witryny zdefiniowany i strony wzorcowej pełną teraz mamy schemat spójne strony układu i nawigacji dla naszych samouczków związanych z danymi.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-292">With the site map defined and the master page complete, we now have a consistent page layout and navigation scheme for our data-related tutorials.</span></span> <span data-ttu-id="3f4e8-293">Niezależnie od tego, ile stron dodania do witryny firmy Microsoft aktualizowanie informacji całej lokacji strony układu lub lokacji nawigacji jest szybkie i proste procesu z powodu tych informacji jest scentralizowane.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-293">Regardless of how many pages we add to our site, updating the site-wide page layout or site navigation information is a quick and simple process due to this information being centralized.</span></span> <span data-ttu-id="3f4e8-294">W szczególności informacji o układzie strony jest zdefiniowana na stronie głównej `Site.master` i mapowanie w lokacji `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-294">Specifically, the page layout information is defined in the master page `Site.master` and the site map in `Web.sitemap`.</span></span> <span data-ttu-id="3f4e8-295">Firma Microsoft nie musisz zapisywać *żadnych* kod, aby osiągnąć ten mechanizm nawigacji i układ strony w całej lokacji, a firma Microsoft przechowywała pełnej WYSIWYG wsparcia projektanta w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-295">We didn't need to write *any* code to achieve this site-wide page layout and navigation mechanism, and we retain full WYSIWYG designer support in Visual Studio.</span></span>

<span data-ttu-id="3f4e8-296">Po zakończeniu Warstwa dostępu do danych i warstwy logiki biznesowej i o spójne strony układu i nawigacja w witrynie zdefiniowana, aby rozpocząć eksplorowanie typowe wzorce raportowania.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-296">Having completed the Data Access Layer and Business Logic Layer and having a consistent page layout and site navigation defined, we're ready to begin exploring common reporting patterns.</span></span> <span data-ttu-id="3f4e8-297">W trzech kolejnych samouczkach przyjrzymy podstawowe zadania raportowania wyświetlanie dane pobrane z logiki warstwy Biznesowej w formantach GridView widoku DetailsView i FormView.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-297">In the next three tutorials we'll look at basic reporting tasks displaying data retrieved from the BLL in the GridView, DetailsView, and FormView controls.</span></span>

<span data-ttu-id="3f4e8-298">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="3f4e8-298">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="3f4e8-299">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="3f4e8-299">Further Reading</span></span>

<span data-ttu-id="3f4e8-300">Więcej informacji dotyczących tematów omówionych w tym samouczku można znaleźć w następujących zasobach:</span><span class="sxs-lookup"><span data-stu-id="3f4e8-300">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="3f4e8-301">Omówienie stron ASP.NET wzorca</span><span class="sxs-lookup"><span data-stu-id="3f4e8-301">ASP.NET Master Pages Overview</span></span>](https://msdn.microsoft.com/library/wtxbf3hh.aspx)
- [<span data-ttu-id="3f4e8-302">Stron wzorcowych w programie ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="3f4e8-302">Master Pages in ASP.NET 2.0</span></span>](http://odetocode.com/Articles/419.aspx)
- [<span data-ttu-id="3f4e8-303">Szablony projektów 2.0 ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3f4e8-303">ASP.NET 2.0 Design Templates</span></span>](https://msdn.microsoft.com/asp.net/reference/design/templates/default.aspx)
- [<span data-ttu-id="3f4e8-304">Omówienie nawigacji witryny ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3f4e8-304">ASP.NET Site Navigation Overview</span></span>](https://msdn.microsoft.com/library/e468hxky.aspx)
- [<span data-ttu-id="3f4e8-305">Badanie ASP.NET 2.0 do nawigacji w witrynie</span><span class="sxs-lookup"><span data-stu-id="3f4e8-305">Examining ASP.NET 2.0's Site Navigation</span></span>](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)
- [<span data-ttu-id="3f4e8-306">Funkcje programu ASP.NET 2.0 lokacji nawigacji</span><span class="sxs-lookup"><span data-stu-id="3f4e8-306">ASP.NET 2.0 Site Navigation Features</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/20/431019.aspx)
- [<span data-ttu-id="3f4e8-307">Opis ASP.NET widok stanu</span><span class="sxs-lookup"><span data-stu-id="3f4e8-307">Understanding ASP.NET View State</span></span>](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/viewstate.asp)
- [<span data-ttu-id="3f4e8-308">Porady: Włączanie śledzenia dla strony platformy ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3f4e8-308">How to: Enable Tracing for an ASP.NET Page</span></span>](https://msdn.microsoft.com/library/94c55d08%28VS.80%29.aspx)
- [<span data-ttu-id="3f4e8-309">Formanty użytkownika ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3f4e8-309">ASP.NET User Controls</span></span>](https://msdn.microsoft.com/library/y6wb1a0e.aspx)

## <a name="about-the-author"></a><span data-ttu-id="3f4e8-310">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="3f4e8-310">About the Author</span></span>

<span data-ttu-id="3f4e8-311">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-311">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="3f4e8-312">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-312">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="3f4e8-313">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-313">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="3f4e8-314">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="3f4e8-314">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="3f4e8-315">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="3f4e8-315">Special Thanks To</span></span>

<span data-ttu-id="3f4e8-316">Ten samouczek serii zostało sprawdzone przez wiele recenzentów przydatne.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-316">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="3f4e8-317">Prowadzić osób dokonujących przeglądu, w tym samouczku zostały Liz Shulok firmy Dennis Patterson i Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="3f4e8-317">Lead reviewers for this tutorial were Liz Shulok, Dennis Patterson, and Hilton Giesenow.</span></span> <span data-ttu-id="3f4e8-318">Zainteresowani recenzowania Moje nadchodzących artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="3f4e8-318">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="3f4e8-319">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="3f4e8-319">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="3f4e8-320">Poprzednie</span><span class="sxs-lookup"><span data-stu-id="3f4e8-320">Previous</span></span>](creating-a-business-logic-layer-vb.md)
