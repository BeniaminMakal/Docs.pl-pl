---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
title: "Wprowadzenie do korzystania z bazy danych programu Entity Framework 4.0 najpierw i platformy ASP.NET 4 sieci Web Forms — część 5 | Dokumentacja firmy Microsoft"
author: tdykstra
description: "Przykładową aplikację sieci web firmy Contoso University przedstawia sposób tworzenia aplikacji formularzy sieci Web ASP.NET przy użyciu programu Entity Framework. Przykładowa aplikacja jest..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 12/03/2010
ms.topic: article
ms.assetid: 24ad4379-3fb2-44dc-ba59-85fe0ffcb2ae
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
msc.type: authoredcontent
ms.openlocfilehash: 7200899d54585cd09e0a648e3aaaf839db2649e0
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/10/2017
---
<a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-5"></a><span data-ttu-id="fed7d-104">Wprowadzenie do korzystania z bazy danych programu Entity Framework 4.0 najpierw i formularzy sieci Web 4 ASP.NET — część 5</span><span class="sxs-lookup"><span data-stu-id="fed7d-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 5</span></span>
====================
<span data-ttu-id="fed7d-105">przez [Dykstra niestandardowy](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="fed7d-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="fed7d-106">Przykładową aplikację sieci web firmy Contoso University przedstawia sposób tworzenia aplikacji formularzy sieci Web ASP.NET przy użyciu programu Entity Framework 4.0 i Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="fed7d-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="fed7d-107">Informacje o samouczek serii, zobacz [pierwszy samouczek z tej serii](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="fed7d-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>


## <a name="working-with-related-data-continued"></a><span data-ttu-id="fed7d-108">Praca z danymi powiązane, nadal</span><span class="sxs-lookup"><span data-stu-id="fed7d-108">Working with Related Data, Continued</span></span>

<span data-ttu-id="fed7d-109">W poprzednich instrukcji rozpoczęcia do użycia `EntityDataSource` formantu do pracy z powiązanych danych.</span><span class="sxs-lookup"><span data-stu-id="fed7d-109">In the previous tutorial you began to use the `EntityDataSource` control to work with related data.</span></span> <span data-ttu-id="fed7d-110">Wyświetlane wiele poziomów hierarchii i edycji danych właściwości nawigacji.</span><span class="sxs-lookup"><span data-stu-id="fed7d-110">You displayed multiple levels of hierarchy and edited data in navigation properties.</span></span> <span data-ttu-id="fed7d-111">W tym samouczku nastąpi przejście do pracy z powiązanych danych przez dodawanie i usuwanie relacji i przez dodanie nowej jednostki, która ma relację do istniejącego obiektu.</span><span class="sxs-lookup"><span data-stu-id="fed7d-111">In this tutorial you'll continue to work with related data by adding and deleting relationships and by adding a new entity that has a relationship to an existing entity.</span></span>

<span data-ttu-id="fed7d-112">Utworzysz strona, która dodaje kursów, które są przypisane do działów.</span><span class="sxs-lookup"><span data-stu-id="fed7d-112">You'll create a page that adds courses that are assigned to departments.</span></span> <span data-ttu-id="fed7d-113">Działy już istnieje, a podczas tworzenia nowego kursu w tym samym czasie będzie ustanowienie relacji między nim a istniejących działu.</span><span class="sxs-lookup"><span data-stu-id="fed7d-113">The departments already exist, and when you create a new course, at the same time you'll establish a relationship between it and an existing department.</span></span>

<span data-ttu-id="fed7d-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="fed7d-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span></span>

<span data-ttu-id="fed7d-115">Strona, która działa w relacji wiele do wielu, przypisując instruktora do kursu (Dodawanie relacji między dwiema jednostkami, które można wybrać) również zostaną utworzone lub usuwanie instruktora z kursu (usuwanie relacji między dwiema jednostkami które Wybierz).</span><span class="sxs-lookup"><span data-stu-id="fed7d-115">You'll also create a page that works with a many-to-many relationship by assigning an instructor to a course (adding a relationship between two entities that you select) or removing an instructor from a course (removing a relationship between two entities that you select).</span></span> <span data-ttu-id="fed7d-116">W bazie danych, Dodawanie relacji między instruktora i kursu powoduje dodawany do nowego wiersza `CourseInstructor` tabeli skojarzenia; usuwanie relacji polega na usuwaniu wierszy z `CourseInstructor` tabeli skojarzenia.</span><span class="sxs-lookup"><span data-stu-id="fed7d-116">In the database, adding a relationship between an instructor and a course results in a new row being added to the `CourseInstructor` association table; removing a relationship involves deleting a row from the `CourseInstructor` association table.</span></span> <span data-ttu-id="fed7d-117">Jednak możesz to zrobić w programu Entity Framework przez ustawienie właściwości nawigacji, bez odwołujących się do `CourseInstructor` jawnie tabeli.</span><span class="sxs-lookup"><span data-stu-id="fed7d-117">However, you do this in the Entity Framework by setting navigation properties, without referring to the `CourseInstructor` table explicitly.</span></span>

<span data-ttu-id="fed7d-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="fed7d-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span></span>

## <a name="adding-an-entity-with-a-relationship-to-an-existing-entity"></a><span data-ttu-id="fed7d-119">Dodawanie jednostki w relacji do istniejącego obiektu</span><span class="sxs-lookup"><span data-stu-id="fed7d-119">Adding an Entity with a Relationship to an Existing Entity</span></span>

<span data-ttu-id="fed7d-120">Tworzenie nowej strony sieci web o nazwie *CoursesAdd.aspx* używającą *Site.Master* strony wzorcowej i Dodaj następujący kod do `Content` formantu o nazwie `Content2`:</span><span class="sxs-lookup"><span data-stu-id="fed7d-120">Create a new web page named *CoursesAdd.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample1.aspx)]

<span data-ttu-id="fed7d-121">Tworzy tego znacznika `EntityDataSource` formant, który wybiera kursów, który umożliwia wstawienie i program obsługi, który określa `Inserting` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="fed7d-121">This markup creates an `EntityDataSource` control that selects courses, that enables inserting, and that specifies a handler for the `Inserting` event.</span></span> <span data-ttu-id="fed7d-122">Użyjesz programu obsługi aktualizacji `Department` właściwości nawigacji podczas tworzenia nowego `Course` utworzona jednostka.</span><span class="sxs-lookup"><span data-stu-id="fed7d-122">You'll use the handler to update the `Department` navigation property when a new `Course` entity is created.</span></span>

<span data-ttu-id="fed7d-123">Tworzy również znaczników `DetailsView` kontrolki używanej do dodawania nowych `Course` jednostek.</span><span class="sxs-lookup"><span data-stu-id="fed7d-123">The markup also creates a `DetailsView` control to use for adding new `Course` entities.</span></span> <span data-ttu-id="fed7d-124">Kod znaczników używa pola powiązane `Course` właściwości jednostki.</span><span class="sxs-lookup"><span data-stu-id="fed7d-124">The markup uses bound fields for `Course` entity properties.</span></span> <span data-ttu-id="fed7d-125">Należy wprowadzić `CourseID` wartości, ponieważ nie jest polem Identyfikator generowanych przez system.</span><span class="sxs-lookup"><span data-stu-id="fed7d-125">You have to enter the `CourseID` value because this is not a system-generated ID field.</span></span> <span data-ttu-id="fed7d-126">Zamiast tego jest to liczba kursu, które muszą zostać określone ręcznie, gdy jest tworzona w trakcie.</span><span class="sxs-lookup"><span data-stu-id="fed7d-126">Instead, it's a course number that must be specified manually when the course is created.</span></span>

<span data-ttu-id="fed7d-127">Użyj pola szablonu dla `Department` właściwość nawigacji, ponieważ nie można używać właściwości nawigacji z `BoundField` formantów.</span><span class="sxs-lookup"><span data-stu-id="fed7d-127">You use a template field for the `Department` navigation property because navigation properties cannot be used with `BoundField` controls.</span></span> <span data-ttu-id="fed7d-128">Pole szablonu umożliwia listy rozwijanej, aby wybrać działu.</span><span class="sxs-lookup"><span data-stu-id="fed7d-128">The template field provides a drop-down list to select the department.</span></span> <span data-ttu-id="fed7d-129">Listy rozwijanej jest powiązany z `Departments` zestawu przy użyciu jednostek `Eval` zamiast `Bind`, ponownie ponieważ bezpośrednio nie można powiązać właściwości nawigacji, aby można było zaktualizować je.</span><span class="sxs-lookup"><span data-stu-id="fed7d-129">The drop-down list is bound to the `Departments` entity set by using `Eval` rather than `Bind`, again because you cannot directly bind navigation properties in order to update them.</span></span> <span data-ttu-id="fed7d-130">Określ program obsługi `DropDownList` formantu `Init` zdarzeń, dzięki czemu można przechowywać odwołanie do formantu do użytku przez kod, który aktualizuje `DepartmentID` klucza obcego.</span><span class="sxs-lookup"><span data-stu-id="fed7d-130">You specify a handler for the `DropDownList` control's `Init` event so that you can store a reference to the control for use by the code that updates the `DepartmentID` foreign key.</span></span>

<span data-ttu-id="fed7d-131">W *CoursesAdd.aspx.cs* zaraz po deklaracji klasy częściowe, Dodaj pola klasy, aby pomieścić odwołanie do `DepartmentsDropDownList` sterowania:</span><span class="sxs-lookup"><span data-stu-id="fed7d-131">In *CoursesAdd.aspx.cs* just after the partial-class declaration, add a class field to hold a reference to the `DepartmentsDropDownList` control:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample2.cs)]

<span data-ttu-id="fed7d-132">Dodaj obsługę `DepartmentsDropDownList` formantu `Init` zdarzeń, dzięki czemu można przechowywać odwołanie do formantu.</span><span class="sxs-lookup"><span data-stu-id="fed7d-132">Add a handler for the `DepartmentsDropDownList` control's `Init` event so that you can store a reference to the control.</span></span> <span data-ttu-id="fed7d-133">Dzięki temu można uzyskać wartość użytkownik wprowadził i użyj go, aby zaktualizować `DepartmentID` wartość `Course` jednostki.</span><span class="sxs-lookup"><span data-stu-id="fed7d-133">This lets you get the value the user has entered and use it to update the `DepartmentID` value of the `Course` entity.</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample3.cs)]

<span data-ttu-id="fed7d-134">Dodaj obsługę `DetailsView` formantu `Inserting` zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="fed7d-134">Add a handler for the `DetailsView` control's `Inserting` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample4.cs)]

<span data-ttu-id="fed7d-135">Po kliknięciu przez użytkownika `Insert`, `Inserting` zdarzenie jest wywoływane przed wstawieniem nowym rekordzie.</span><span class="sxs-lookup"><span data-stu-id="fed7d-135">When the user clicks `Insert`, the `Inserting` event is raised before the new record is inserted.</span></span> <span data-ttu-id="fed7d-136">Pobiera kod obsługi `DepartmentID` z `DropDownList` kontroli i używa go do wartości, który będzie używany dla `DepartmentID` właściwość `Course` jednostki.</span><span class="sxs-lookup"><span data-stu-id="fed7d-136">The code in the handler gets the `DepartmentID` from the `DropDownList` control and uses it to set the value that will be used for the `DepartmentID` property of the `Course` entity.</span></span>

<span data-ttu-id="fed7d-137">Entity Framework zajmie się dodawania tego kursu do `Courses` właściwość nawigacji skojarzonego `Department` jednostki.</span><span class="sxs-lookup"><span data-stu-id="fed7d-137">The Entity Framework will take care of adding this course to the `Courses` navigation property of the associated `Department` entity.</span></span> <span data-ttu-id="fed7d-138">Dodaje również dział do `Department` właściwość nawigacji `Course` jednostki.</span><span class="sxs-lookup"><span data-stu-id="fed7d-138">It also adds the department to the `Department` navigation property of the `Course` entity.</span></span>

<span data-ttu-id="fed7d-139">Uruchom strony.</span><span class="sxs-lookup"><span data-stu-id="fed7d-139">Run the page.</span></span>

<span data-ttu-id="fed7d-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="fed7d-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span></span>

<span data-ttu-id="fed7d-141">Wprowadź identyfikator, tytuł, liczbę środków i wybierz działu, a następnie kliknij przycisk **Wstaw**.</span><span class="sxs-lookup"><span data-stu-id="fed7d-141">Enter an ID, a title, a number of credits, and select a department, then click **Insert**.</span></span>

<span data-ttu-id="fed7d-142">Uruchom *Courses.aspx* strony, a następnie wybierz tego samego działu, aby wyświetlić nowy plan.</span><span class="sxs-lookup"><span data-stu-id="fed7d-142">Run the *Courses.aspx* page, and select the same department to see the new course.</span></span>

<span data-ttu-id="fed7d-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="fed7d-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span></span>

## <a name="working-with-many-to-many-relationships"></a><span data-ttu-id="fed7d-144">Praca z relacji wiele do wielu</span><span class="sxs-lookup"><span data-stu-id="fed7d-144">Working with Many-to-Many Relationships</span></span>

<span data-ttu-id="fed7d-145">Relacja między `Courses` zestaw jednostek oraz `People` zestaw jednostek znajduje relacji wiele do wielu.</span><span class="sxs-lookup"><span data-stu-id="fed7d-145">The relationship between the `Courses` entity set and the `People` entity set is a many-to-many relationship.</span></span> <span data-ttu-id="fed7d-146">A `Course` jednostki ma właściwości nawigacji o nazwie `People` zawierających zero, co najmniej jeden powiązane `Person` jednostek (reprezentujący instruktorów przypisane do tego kursu nauki).</span><span class="sxs-lookup"><span data-stu-id="fed7d-146">A `Course` entity has a navigation property named `People` that can contain zero, one, or more related `Person` entities (representing instructors assigned to teach that course).</span></span> <span data-ttu-id="fed7d-147">I `Person` jednostki ma właściwości nawigacji o nazwie `Courses` zawierających zero, co najmniej jeden powiązane `Course` jednostek (reprezentujący kursy przypisane nauczysz się tym instruktora).</span><span class="sxs-lookup"><span data-stu-id="fed7d-147">And a `Person` entity has a navigation property named `Courses` that can contain zero, one, or more related `Course` entities (representing courses that that instructor is assigned to teach).</span></span> <span data-ttu-id="fed7d-148">Jeden instruktora może nauczyć szkoleń w wielu i jednego kursu może organizowane jednocześnie przez wiele instruktorów.</span><span class="sxs-lookup"><span data-stu-id="fed7d-148">One instructor might teach multiple courses, and one course might be taught by multiple instructors.</span></span> <span data-ttu-id="fed7d-149">W tej sekcji tego przewodnika, będzie dodawanie i usuwanie relacji między `Person` i `Course` jednostek, aktualizując właściwości nawigacji z powiązanych jednostek.</span><span class="sxs-lookup"><span data-stu-id="fed7d-149">In this section of the walkthrough, you'll add and remove relationships between `Person` and `Course` entities by updating the navigation properties of the related entities.</span></span>

<span data-ttu-id="fed7d-150">Tworzenie nowej strony sieci web o nazwie *InstructorsCourses.aspx* używającą *Site.Master* strony wzorcowej i Dodaj następujący kod do `Content` formantu o nazwie `Content2`:</span><span class="sxs-lookup"><span data-stu-id="fed7d-150">Create a new web page named *InstructorsCourses.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample5.aspx)]

<span data-ttu-id="fed7d-151">Tworzy tego znacznika `EntityDataSource` formant, który pobiera nazwę i `PersonID` z `Person` jednostki dla instruktorów.</span><span class="sxs-lookup"><span data-stu-id="fed7d-151">This markup creates an `EntityDataSource` control that retrieves the name and `PersonID` of `Person` entities for instructors.</span></span> <span data-ttu-id="fed7d-152">A `DropDrownList` kontrolka jest powiązana z `EntityDataSource` formantu.</span><span class="sxs-lookup"><span data-stu-id="fed7d-152">A `DropDrownList` control is bound to the `EntityDataSource` control.</span></span> <span data-ttu-id="fed7d-153">`DropDownList` Kontroli określa program obsługi `DataBound` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="fed7d-153">The `DropDownList` control specifies a handler for the `DataBound` event.</span></span> <span data-ttu-id="fed7d-154">Ten program obsługi do listy rozwijanej databind dwa, które wyświetlają kursy będzie używany.</span><span class="sxs-lookup"><span data-stu-id="fed7d-154">You'll use this handler to databind the two drop-down lists that display courses.</span></span>

<span data-ttu-id="fed7d-155">Kod znaczników tworzy także następującej grupy formantów do przypisywania kursu do wybranego instruktora:</span><span class="sxs-lookup"><span data-stu-id="fed7d-155">The markup also creates the following group of controls to use for assigning a course to the selected instructor:</span></span>

- <span data-ttu-id="fed7d-156">A `DropDownList` formant wyboru kursu do przypisania.</span><span class="sxs-lookup"><span data-stu-id="fed7d-156">A `DropDownList` control for selecting a course to assign.</span></span> <span data-ttu-id="fed7d-157">Ten formant zostanie wypełniona kursów, które aktualnie nie są przypisane do wybranych instruktora.</span><span class="sxs-lookup"><span data-stu-id="fed7d-157">This control will be populated with courses that are currently not assigned to the selected instructor.</span></span>
- <span data-ttu-id="fed7d-158">A `Button` formantu, aby zainicjować przypisania.</span><span class="sxs-lookup"><span data-stu-id="fed7d-158">A `Button` control to initiate the assignment.</span></span>
- <span data-ttu-id="fed7d-159">A `Label` formantu, aby wyświetlić komunikat o błędzie, jeśli przypisanie zakończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="fed7d-159">A `Label` control to display an error message if the assignment fails.</span></span>

<span data-ttu-id="fed7d-160">Na koniec znaczników również tworzy grupę kontrolek używanych w celu usunięcia kursu z wybranym instruktorze.</span><span class="sxs-lookup"><span data-stu-id="fed7d-160">Finally, the markup also creates a group of controls to use for removing a course from the selected instructor.</span></span>

<span data-ttu-id="fed7d-161">W *InstructorsCourses.aspx.cs*, dodać za pomocą instrukcji:</span><span class="sxs-lookup"><span data-stu-id="fed7d-161">In *InstructorsCourses.aspx.cs*, add a using statement:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample6.cs)]

<span data-ttu-id="fed7d-162">Dodaj metodę do zapełniania dwie listy rozwijanej, które wyświetlają kursy:</span><span class="sxs-lookup"><span data-stu-id="fed7d-162">Add a method for populating the two drop-down lists that display courses:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample7.cs)]

<span data-ttu-id="fed7d-163">Ten kod pobiera wszystkie kursy z `Courses` jednostki ustawić i pobiera kursów z `Courses` właściwość nawigacji `Person` jednostki dla wybranego instruktora.</span><span class="sxs-lookup"><span data-stu-id="fed7d-163">This code gets all courses from the `Courses` entity set and gets the courses from the `Courses` navigation property of the `Person` entity for the selected instructor.</span></span> <span data-ttu-id="fed7d-164">Następnie określa kursów, które są przypisane do tego instruktora i odpowiednio wypełnia list rozwijanych.</span><span class="sxs-lookup"><span data-stu-id="fed7d-164">It then determines which courses are assigned to that instructor and populates the drop-down lists accordingly.</span></span>

<span data-ttu-id="fed7d-165">Dodaj obsługę `Assign` przycisku `Click` zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="fed7d-165">Add a handler for the `Assign` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample8.cs)]

<span data-ttu-id="fed7d-166">Ten kod pobiera `Person` pobiera jednostki dla wybranego instruktora `Course` jednostki dostępne ze i dodaje je do wybranego kursu `Courses` właściwość nawigacji instruktora `Person` jednostki.</span><span class="sxs-lookup"><span data-stu-id="fed7d-166">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and adds the selected course to the `Courses` navigation property of the instructor's `Person` entity.</span></span> <span data-ttu-id="fed7d-167">Następnie zapisuje zmiany w bazie danych i repopulates listy rozwijanej, aby wyniki można zobaczyć natychmiast.</span><span class="sxs-lookup"><span data-stu-id="fed7d-167">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="fed7d-168">Dodaj obsługę `Remove` przycisku `Click` zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="fed7d-168">Add a handler for the `Remove` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample9.cs)]

<span data-ttu-id="fed7d-169">Ten kod pobiera `Person` pobiera jednostki dla wybranego instruktora `Course` jednostki dostępne ze i spowoduje usunięcie wybranego kursu z `Person` jednostki `Courses` właściwości nawigacji.</span><span class="sxs-lookup"><span data-stu-id="fed7d-169">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and removes the selected course from the `Person` entity's `Courses` navigation property.</span></span> <span data-ttu-id="fed7d-170">Następnie zapisuje zmiany w bazie danych i repopulates listy rozwijanej, aby wyniki można zobaczyć natychmiast.</span><span class="sxs-lookup"><span data-stu-id="fed7d-170">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="fed7d-171">Dodaj kod, aby `Page_Load` metodę, która sprawdza się, że komunikaty o błędach nie są widoczne, gdy nie było błędu raportu, a następnie dodaj obsługę `DataBound` i `SelectedIndexChanged` zdarzenia z listy rozwijanej instruktorów do wypełnienia listy rozwijanej kursów:</span><span class="sxs-lookup"><span data-stu-id="fed7d-171">Add code to the `Page_Load` method that makes sure the error messages are not visible when there's no error to report, and add handlers for the `DataBound` and `SelectedIndexChanged` events of the instructors drop-down list to populate the courses drop-down lists:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample10.cs)]

<span data-ttu-id="fed7d-172">Uruchom strony.</span><span class="sxs-lookup"><span data-stu-id="fed7d-172">Run the page.</span></span>

<span data-ttu-id="fed7d-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="fed7d-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span></span>

<span data-ttu-id="fed7d-174">Wybierz instruktora.</span><span class="sxs-lookup"><span data-stu-id="fed7d-174">Select an instructor.</span></span> <span data-ttu-id="fed7d-175">**Przypisać kursu** listy rozwijanej wyświetla kursów, które nie uczy instruktora, i **Usuń kursu** kursów, które instruktora jest już przypisany do wyświetla listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="fed7d-175">The **Assign a Course** drop-down list displays the courses that the instructor doesn't teach, and the **Remove a Course** drop-down list displays the courses that the instructor is already assigned to.</span></span> <span data-ttu-id="fed7d-176">W **przypisać kursu** sekcji wybierz kursu, a następnie kliknij przycisk **przypisać**.</span><span class="sxs-lookup"><span data-stu-id="fed7d-176">In the **Assign a Course** section, select a course and then click **Assign**.</span></span> <span data-ttu-id="fed7d-177">Przenosi kursu **Usuń kursu** listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="fed7d-177">The course moves to the **Remove a Course** drop-down list.</span></span> <span data-ttu-id="fed7d-178">Wybierz kursów **Usuń kursu** sekcji, a następnie kliknij przycisk **Usuń***.*</span><span class="sxs-lookup"><span data-stu-id="fed7d-178">Select a course in the **Remove a Course** section and click **Remove***.*</span></span> <span data-ttu-id="fed7d-179">Przenosi kursu **przypisać kursu** listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="fed7d-179">The course moves to the **Assign a Course** drop-down list.</span></span>

<span data-ttu-id="fed7d-180">Niektóre inne sposoby pracy z powiązanych danych ma teraz widoczna.</span><span class="sxs-lookup"><span data-stu-id="fed7d-180">You have now seen some more ways to work with related data.</span></span> <span data-ttu-id="fed7d-181">Poniższe kroki samouczka dowiesz się, jak użycia dziedziczenia w modelu danych do poprawy łatwości konserwacji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fed7d-181">In the following tutorial, you'll learn how to use inheritance in the data model to improve the maintainability of your application.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="fed7d-182">[Poprzednie](the-entity-framework-and-aspnet-getting-started-part-4.md)
[dalej](the-entity-framework-and-aspnet-getting-started-part-6.md)</span><span class="sxs-lookup"><span data-stu-id="fed7d-182">[Previous](the-entity-framework-and-aspnet-getting-started-part-4.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-6.md)</span></span>
