---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/accessing-your-models-data-from-a-controller
title: Uzyskiwanie dostępu do modelu danych z kontrolera (C#) | Dokumentacja firmy Microsoft
author: Rick-Anderson
description: Ten samouczek pokazuje podstawowe informacje dotyczące tworzenia aplikacji sieci Web programu ASP.NET MVC przy użyciu Microsoft Visual Web Developer 2010 Express Service Pack 1, która jest...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/12/2011
ms.topic: article
ms.assetid: 002ada5c-f114-47ab-a441-57dbdb728ea0
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/accessing-your-models-data-from-a-controller
msc.type: authoredcontent
ms.openlocfilehash: 4218116eec6f177730087955b8fb69e5ecc0022f
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
---
<a name="accessing-your-models-data-from-a-controller-c"></a><span data-ttu-id="5e9ae-103">Uzyskiwanie dostępu do modelu danych z kontrolera (C#)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-103">Accessing your Model's Data from a Controller (C#)</span></span>
====================
<span data-ttu-id="5e9ae-104">przez [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> > [!NOTE]
> > <span data-ttu-id="5e9ae-105">Dostępna jest zaktualizowana wersja tego samouczka [tutaj](../../../getting-started/introduction/getting-started.md) używającej platformy ASP.NET MVC 5 i Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-105">An updated version of this tutorial is available [here](../../../getting-started/introduction/getting-started.md) that uses ASP.NET MVC 5 and Visual Studio 2013.</span></span> <span data-ttu-id="5e9ae-106">Jest bardziej bezpieczne, łatwiej wykonać i pokazuje więcej funkcji.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-106">It's more secure, much simpler to follow and demonstrates more features.</span></span>
> 
> 
> <span data-ttu-id="5e9ae-107">Ten samouczek pokazuje podstawowe informacje dotyczące tworzenia aplikacji sieci Web programu ASP.NET MVC przy użyciu Microsoft Visual Web Developer 2010 Express Service Pack 1, która jest bezpłatna wersja programu Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-107">This tutorial will teach you the basics of building an ASP.NET MVC Web application using Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio.</span></span> <span data-ttu-id="5e9ae-108">Przed rozpoczęciem upewnij się, że po zainstalowaniu wymagania wstępne wymienione poniżej.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-108">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="5e9ae-109">Można zainstalować wszystkie z nich, klikając poniższe łącze: [Instalatora platformy sieci Web](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="5e9ae-109">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="5e9ae-110">Alternatywnie można zainstalować oddzielnie wymagania wstępne, korzystając z następujących linków:</span><span class="sxs-lookup"><span data-stu-id="5e9ae-110">Alternatively, you can individually install the prerequisites using the following links:</span></span>
> 
> - [<span data-ttu-id="5e9ae-111">Visual Studio Web Developer Express z dodatkiem SP1 wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="5e9ae-111">Visual Studio Web Developer Express SP1 prerequisites</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)
> - [<span data-ttu-id="5e9ae-112">Aktualizacji narzędzi programu ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5e9ae-112">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
> - <span data-ttu-id="5e9ae-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(środowisko uruchomieniowe + narzędzia pomocy technicznej)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>
> 
> <span data-ttu-id="5e9ae-114">Jeśli używasz programu Visual Studio 2010, zamiast Visual Web Developer 2010, zainstaluj wymagania wstępne, klikając poniższe łącze: [wymagania wstępne programu Visual Studio 2010](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="5e9ae-114">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span>
> 
> <span data-ttu-id="5e9ae-115">Projekt Visual Web Developer z kodu źródłowego C# jest dostępna powiązany z tym tematem.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-115">A Visual Web Developer project with C# source code is available to accompany this topic.</span></span> <span data-ttu-id="5e9ae-116">[Pobierz wersję języka C#](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span><span class="sxs-lookup"><span data-stu-id="5e9ae-116">[Download the C# version](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span></span> <span data-ttu-id="5e9ae-117">Jeśli wolisz Visual Basic, przełącz się do [wersji Visual Basic](../vb/intro-to-aspnet-mvc-3.md) tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-117">If you prefer Visual Basic, switch to the [Visual Basic version](../vb/intro-to-aspnet-mvc-3.md) of this tutorial.</span></span>

<span data-ttu-id="5e9ae-118">W tej sekcji utworzysz nową `MoviesController` klasy i pisania kodu, który pobiera dane filmu i wyświetla je w przeglądarce, za pomocą szablonu widoku.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-118">In this section, you'll create a new `MoviesController` class and write code that retrieves the movie data and displays it in the browser using a view template.</span></span> <span data-ttu-id="5e9ae-119">Pamiętaj skompilować aplikację przed kontynuowaniem.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-119">Be sure to build your application before proceeding.</span></span>

<span data-ttu-id="5e9ae-120">Kliknij prawym przyciskiem myszy *kontrolerów* folderze i utworzyć nową `MoviesController` kontrolera.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-120">Right-click the *Controllers* folder and create a new `MoviesController` controller.</span></span> <span data-ttu-id="5e9ae-121">Wybierz następujące opcje:</span><span class="sxs-lookup"><span data-stu-id="5e9ae-121">Select the following options:</span></span>

- <span data-ttu-id="5e9ae-122">Nazwa kontrolera: **MoviesController**.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-122">Controller name: **MoviesController**.</span></span> <span data-ttu-id="5e9ae-123">(Jest to wartość domyślna.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-123">(This is the default.</span></span> <span data-ttu-id="5e9ae-124">)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-124">)</span></span>
- <span data-ttu-id="5e9ae-125">Szablon: **kontrolera z akcjami odczytu/zapisu i widokami używający narzędzia Entity Framework**.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-125">Template: **Controller with read/write actions and views, using Entity Framework**.</span></span>
- <span data-ttu-id="5e9ae-126">Klasa modelu: **Movie (MvcMovie.Models)**.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-126">Model class: **Movie (MvcMovie.Models)**.</span></span>
- <span data-ttu-id="5e9ae-127">Klasa kontekstu danych: **MovieDBContext (MvcMovie.Models)**.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-127">Data context class: **MovieDBContext (MvcMovie.Models)**.</span></span>
- <span data-ttu-id="5e9ae-128">Widoki: **Razor (CSHTML)**.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-128">Views: **Razor (CSHTML)**.</span></span> <span data-ttu-id="5e9ae-129">(Ustawienie domyślne).</span><span class="sxs-lookup"><span data-stu-id="5e9ae-129">(The default.)</span></span>

<span data-ttu-id="5e9ae-130">[![AddScaffoldedMovieController](accessing-your-models-data-from-a-controller/_static/image2.png "AddScaffoldedMovieController")](accessing-your-models-data-from-a-controller/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-130">[![AddScaffoldedMovieController](accessing-your-models-data-from-a-controller/_static/image2.png "AddScaffoldedMovieController")](accessing-your-models-data-from-a-controller/_static/image1.png)</span></span>

<span data-ttu-id="5e9ae-131">Kliknij przycisk **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-131">Click **Add**.</span></span> <span data-ttu-id="5e9ae-132">Visual Web Developer tworzy następujące pliki i foldery:</span><span class="sxs-lookup"><span data-stu-id="5e9ae-132">Visual Web Developer creates the following files and folders:</span></span>

- <span data-ttu-id="5e9ae-133">*MoviesController.cs* plik do projektu *kontrolerów* folderu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-133">*A MoviesController.cs* file in the project's *Controllers* folder.</span></span>
- <span data-ttu-id="5e9ae-134">A *filmy* folderu do projektu *widoków* folderu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-134">A *Movies* folder in the project's *Views* folder.</span></span>
- <span data-ttu-id="5e9ae-135">*Create.cshtml, Delete.cshtml, Details.cshtml, Edit.cshtml*, i *Index.cshtml* w nowym *Views\Movies* folderu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-135">*Create.cshtml, Delete.cshtml, Details.cshtml, Edit.cshtml*, and *Index.cshtml* in the new *Views\Movies* folder.</span></span>

<span data-ttu-id="5e9ae-136">[![NewMovieControllerScreenShot](accessing-your-models-data-from-a-controller/_static/image4.png "NewMovieControllerScreenShot")](accessing-your-models-data-from-a-controller/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-136">[![NewMovieControllerScreenShot](accessing-your-models-data-from-a-controller/_static/image4.png "NewMovieControllerScreenShot")](accessing-your-models-data-from-a-controller/_static/image3.png)</span></span>

<span data-ttu-id="5e9ae-137">Mechanizm szkieletów ASP.NET MVC 3 tworzone automatycznie CRUD (tworzenia, odczytu, aktualizacji i usuwania) metody akcji i widoków.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-137">The ASP.NET MVC 3 scaffolding mechanism automatically created the CRUD (create, read, update, and delete) action methods and views for you.</span></span> <span data-ttu-id="5e9ae-138">Masz teraz aplikacji sieci web w pełni funkcjonalne, która umożliwia tworzenie, listy, edytować i usuwać wpisy filmu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-138">You now have a fully functional web application that lets you create, list, edit, and delete movie entries.</span></span>

<span data-ttu-id="5e9ae-139">Uruchom aplikację i przejdź do `Movies` kontrolera, dodając */Movies* do adresu URL na pasku adresu przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-139">Run the application and browse to the `Movies` controller by appending */Movies* to the URL in the address bar of your browser.</span></span> <span data-ttu-id="5e9ae-140">Ponieważ aplikacja jest polegania na domyślny routing (zdefiniowany w *Global.asax* pliku), żądanie `http://localhost:xxxxx/Movies` jest kierowany do domyślnej `Index` metody akcji `Movies` kontrolera.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-140">Because the application is relying on the default routing (defined in the *Global.asax* file), the browser request `http://localhost:xxxxx/Movies` is routed to the default `Index` action method of the `Movies` controller.</span></span> <span data-ttu-id="5e9ae-141">Innymi słowy żądanie `http://localhost:xxxxx/Movies` jest taka sama jak żądanie `http://localhost:xxxxx/Movies/Index`.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-141">In other words, the browser request `http://localhost:xxxxx/Movies` is effectively the same as the browser request `http://localhost:xxxxx/Movies/Index`.</span></span> <span data-ttu-id="5e9ae-142">Wynik jest wyświetlana pusta lista filmów, ponieważ nie dodano żadnych serwerów jeszcze.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-142">The result is an empty list of movies, because you haven't added any yet.</span></span>

![](accessing-your-models-data-from-a-controller/_static/image5.png)

### <a name="creating-a-movie"></a><span data-ttu-id="5e9ae-143">Tworzenie filmu</span><span class="sxs-lookup"><span data-stu-id="5e9ae-143">Creating a Movie</span></span>

<span data-ttu-id="5e9ae-144">Wybierz **Utwórz nowy** łącza.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-144">Select the **Create New** link.</span></span> <span data-ttu-id="5e9ae-145">Wprowadź niektóre szczegóły na temat film, a następnie kliknij przycisk **Utwórz** przycisku.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-145">Enter some details about a movie and then click the **Create** button.</span></span>

![](accessing-your-models-data-from-a-controller/_static/image6.png)

<span data-ttu-id="5e9ae-146">Kliknięcie przycisku **Utwórz** kliknięcie przycisku powoduje formularza można opublikować na serwerze, gdzie informacje filmu są zapisywane w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-146">Clicking the **Create** button causes the form to be posted to the server, where the movie information is saved in the database.</span></span> <span data-ttu-id="5e9ae-147">Użytkownik jest przekierowywane do */Movies* adres URL, w którym można obejrzeć film nowo utworzony na liście.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-147">You're then redirected to the */Movies* URL, where you can see the newly created movie in the listing.</span></span>

<span data-ttu-id="5e9ae-148">[![IndexWhenHarryMet](accessing-your-models-data-from-a-controller/_static/image8.png "IndexWhenHarryMet")](accessing-your-models-data-from-a-controller/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-148">[![IndexWhenHarryMet](accessing-your-models-data-from-a-controller/_static/image8.png "IndexWhenHarryMet")](accessing-your-models-data-from-a-controller/_static/image7.png)</span></span>

<span data-ttu-id="5e9ae-149">Utwórz kilka więcej wpisów filmu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-149">Create a couple more movie entries.</span></span> <span data-ttu-id="5e9ae-150">Spróbuj **Edytuj**, **szczegóły**, i **usunąć** łącza, które są wszystkie funkcjonalności.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-150">Try the **Edit**, **Details**, and **Delete** links, which are all functional.</span></span>

## <a name="examining-the-generated-code"></a><span data-ttu-id="5e9ae-151">Badanie wygenerowanego kodu</span><span class="sxs-lookup"><span data-stu-id="5e9ae-151">Examining the Generated Code</span></span>

<span data-ttu-id="5e9ae-152">Otwórz *Controllers\MoviesController.cs* pliku i sprawdź, czy wygenerowany `Index` metody.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-152">Open the *Controllers\MoviesController.cs* file and examine the generated `Index` method.</span></span> <span data-ttu-id="5e9ae-153">Część kontroler film z `Index` metody są wyświetlane poniżej.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-153">A portion of the movie controller with the `Index` method is shown below.</span></span>

[!code-csharp[Main](accessing-your-models-data-from-a-controller/samples/sample1.cs)]

<span data-ttu-id="5e9ae-154">Poniższy wiersz z `MoviesController` klasy tworzy filmu kontekst bazy danych, jak opisano wcześniej.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-154">The following line from the `MoviesController` class instantiates a movie database context, as described previously.</span></span> <span data-ttu-id="5e9ae-155">Film kontekst bazy danych służy do zapytań, edytowanie i usuwanie filmów.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-155">You can use the movie database context to query, edit, and delete movies.</span></span>

[!code-csharp[Main](accessing-your-models-data-from-a-controller/samples/sample2.cs)]

<span data-ttu-id="5e9ae-156">Żądanie `Movies` kontrolera zwraca wszystkie wpisy w `Movies` tabeli filmu bazy danych, a następnie przekazuje wyniki w `Index` widoku.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-156">A request to the `Movies` controller returns all the entries in the `Movies` table of the movie database and then passes the results to the `Index` view.</span></span>

## <a name="strongly-typed-models-and-the-model-keyword"></a><span data-ttu-id="5e9ae-157">Silnie Typizowane modeli i @model — słowo kluczowe</span><span class="sxs-lookup"><span data-stu-id="5e9ae-157">Strongly Typed Models and the @model Keyword</span></span>

<span data-ttu-id="5e9ae-158">Wcześniej w tym samouczku widać, jak kontroler może przekazać dane i obiekty do szablonu widoku przy użyciu `ViewBag` obiektu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-158">Earlier in this tutorial, you saw how a controller can pass data or objects to a view template using the `ViewBag` object.</span></span> <span data-ttu-id="5e9ae-159">`ViewBag` Jest to obiekt dynamiczny, które oferują wygodny sposób późnym wiązaniem do przekazywania informacji do widoku.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-159">The `ViewBag` is a dynamic object that provides a convenient late-bound way to pass information to a view.</span></span>

<span data-ttu-id="5e9ae-160">ASP.NET MVC dostarcza również możliwość przekazywania silnie typizowanej danych lub obiektów do szablonu widoku.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-160">ASP.NET MVC also provides the ability to pass strongly typed data or objects to a view template.</span></span> <span data-ttu-id="5e9ae-161">To silnie typizowane metody umożliwia lepsze kompilacji Sprawdzanie kodu i bardziej zaawansowane funkcje IntelliSense w edytorze programu Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-161">This strongly typed approach enables better compile-time checking of your code and richer IntelliSense in the Visual Web Developer editor.</span></span> <span data-ttu-id="5e9ae-162">Firma Microsoft korzysta z tej metody z `MoviesController` klasy i *Index.cshtml* widok szablonu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-162">We're using this approach with the `MoviesController` class and *Index.cshtml* view template.</span></span>

<span data-ttu-id="5e9ae-163">Zwróć uwagę, jak kod tworzy [ `List` ](https://msdn.microsoft.com/library/6sh2ey19.aspx) obiektu, gdy wywołuje `View` metody pomocnika w `Index` metody akcji.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-163">Notice how the code creates a [`List`](https://msdn.microsoft.com/library/6sh2ey19.aspx) object when it calls the `View` helper method in the `Index` action method.</span></span> <span data-ttu-id="5e9ae-164">Kod następnie przekazuje to `Movies` listy z kontrolera do widoku:</span><span class="sxs-lookup"><span data-stu-id="5e9ae-164">The code then passes this `Movies` list from the controller to the view:</span></span>

[!code-csharp[Main](accessing-your-models-data-from-a-controller/samples/sample3.cs)]

<span data-ttu-id="5e9ae-165">W tym `@model` instrukcji w górnej części pliku szablonu widoku, można określić typu obiektu, który oczekuje widoku.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-165">By including a `@model` statement at the top of the view template file, you can specify the type of object that the view expects.</span></span> <span data-ttu-id="5e9ae-166">Podczas tworzenia kontrolera filmu Visual Web Developer automatycznie uwzględnione następujące `@model` instrukcji w górnej części *Index.cshtml* pliku:</span><span class="sxs-lookup"><span data-stu-id="5e9ae-166">When you created the movie controller, Visual Web Developer automatically included the following `@model` statement at the top of the *Index.cshtml* file:</span></span>

[!code-cshtml[Main](accessing-your-models-data-from-a-controller/samples/sample4.cshtml)]

<span data-ttu-id="5e9ae-167">To `@model` dyrektywy umożliwia dostęp do listy filmów, które kontrolera przekazywane do widoku przy użyciu `Model` obiekt, który jest silnie typizowane.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-167">This `@model` directive allows you to access the list of movies that the controller passed to the view by using a `Model` object that's strongly typed.</span></span> <span data-ttu-id="5e9ae-168">Na przykład w *Index.cshtml* szablonu, kod w pętli filmów za pomocą ćwiczeń `foreach` instrukcji na silnie typizowaną `Model` obiektu:</span><span class="sxs-lookup"><span data-stu-id="5e9ae-168">For example, in the *Index.cshtml* template, the code loops through the movies by doing a `foreach` statement over the strongly typed `Model` object:</span></span>

[!code-cshtml[Main](accessing-your-models-data-from-a-controller/samples/sample5.cshtml)]

<span data-ttu-id="5e9ae-169">Ponieważ `Model` obiektu jest silnie typizowane (jako `IEnumerable<Movie>` obiektu), każdy `item` jest typu obiektu w pętli `Movie`.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-169">Because the `Model` object is strongly typed (as an `IEnumerable<Movie>` object), each `item` object in the loop is typed as `Movie`.</span></span> <span data-ttu-id="5e9ae-170">Wśród innych korzyści oznacza to, Pobierz sprawdzanie kompilacji kodu, a następnie pełne obsługę funkcji IntelliSense w edytorze kodu:</span><span class="sxs-lookup"><span data-stu-id="5e9ae-170">Among other benefits, this means that you get compile-time checking of the code and full IntelliSense support in the code editor:</span></span>

<span data-ttu-id="5e9ae-171">[![ModelIntellisene](accessing-your-models-data-from-a-controller/_static/image10.png "ModelIntellisene")](accessing-your-models-data-from-a-controller/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-171">[![ModelIntellisene](accessing-your-models-data-from-a-controller/_static/image10.png "ModelIntellisene")](accessing-your-models-data-from-a-controller/_static/image9.png)</span></span>

## <a name="working-with-sql-server-compact"></a><span data-ttu-id="5e9ae-172">Praca z programu SQL Server Compact</span><span class="sxs-lookup"><span data-stu-id="5e9ae-172">Working with SQL Server Compact</span></span>

<span data-ttu-id="5e9ae-173">Entity Framework Code First wykrył, że podany ciąg połączenia bazy danych wskazywanego `Movies` bazy danych, która nie istnieje jeszcze, więc Code First baza danych utworzona automatycznie.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-173">Entity Framework Code First detected that the database connection string that was provided pointed to a `Movies` database that didn't exist yet, so Code First created the database automatically.</span></span> <span data-ttu-id="5e9ae-174">Możesz sprawdzić, czy jest on utworzony przez wyszukiwanie *aplikacji\_danych* folderu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-174">You can verify that it's been created by looking in the *App\_Data* folder.</span></span> <span data-ttu-id="5e9ae-175">Jeśli nie widzisz *Movies.sdf* plików, kliknij **Pokaż wszystkie pliki** przycisk **Eksploratora rozwiązań** narzędzi, kliknij przycisk **Odśwież** przycisk, a następnie rozwiń *aplikacji\_danych* folderu.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-175">If you don't see the *Movies.sdf* file, click the **Show All Files** button in the **Solution Explorer** toolbar, click the **Refresh** button, and then expand the *App\_Data* folder.</span></span>

<span data-ttu-id="5e9ae-176">[![SDF_in_SolnExp](accessing-your-models-data-from-a-controller/_static/image12.png "SDF_in_SolnExp")](accessing-your-models-data-from-a-controller/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-176">[![SDF_in_SolnExp](accessing-your-models-data-from-a-controller/_static/image12.png "SDF_in_SolnExp")](accessing-your-models-data-from-a-controller/_static/image11.png)</span></span>

<span data-ttu-id="5e9ae-177">Kliknij dwukrotnie *Movies.sdf* otworzyć **Eksploratora serwera**.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-177">Double-click *Movies.sdf* to open **Server Explorer**.</span></span> <span data-ttu-id="5e9ae-178">Następnie rozwiń węzeł **tabel** folderze, aby zobaczyć tabele, które zostały utworzone w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-178">Then expand the **Tables** folder to see the tables that have been created in the database.</span></span>

> [!NOTE]
> <span data-ttu-id="5e9ae-179">Jeśli błąd pojawia się po dwukrotnym kliknięciu *Movies.sdf*, upewnij się, że zainstalowano [programu SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(środowisko uruchomieniowe + narzędzia pomocy technicznej).</span><span class="sxs-lookup"><span data-stu-id="5e9ae-179">If you get an error when you double-click *Movies.sdf*, make sure you've installed [SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support).</span></span> <span data-ttu-id="5e9ae-180">(Aby łącza do oprogramowania, zobacz listę warunków wstępnych w tej serii samouczek, część 1). Po zainstalowaniu wersji teraz, musisz zamknąć i otworzyć ponownie Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-180">(For links to the software, see the list of prerequisites in part 1 of this tutorial series.) If you install the release now, you'll have to close and re-open Visual Web Developer.</span></span>


<span data-ttu-id="5e9ae-181">[![DB_explorer](accessing-your-models-data-from-a-controller/_static/image14.png "DB_explorer")](accessing-your-models-data-from-a-controller/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-181">[![DB_explorer](accessing-your-models-data-from-a-controller/_static/image14.png "DB_explorer")](accessing-your-models-data-from-a-controller/_static/image13.png)</span></span>

<span data-ttu-id="5e9ae-182">Istnieją dwie tabele, jeden dla `Movie` zestaw jednostek, a następnie `EdmMetadata` tabeli.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-182">There are two tables, one for the `Movie` entity set and then the `EdmMetadata` table.</span></span> <span data-ttu-id="5e9ae-183">`EdmMetadata` Tabela jest używana przez program Entity Framework, aby określić, kiedy modelu i bazy danych nie są zsynchronizowane.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-183">The `EdmMetadata` table is used by the Entity Framework to determine when the model and the database are out of sync.</span></span>

<span data-ttu-id="5e9ae-184">Kliknij prawym przyciskiem myszy `Movies` tabeli i wybierz **Pokaż dane tabeli** do wyświetlania danych został utworzony.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-184">Right-click the `Movies` table and select **Show Table Data** to see the data you created.</span></span>

<span data-ttu-id="5e9ae-185">[![MoviesTable](accessing-your-models-data-from-a-controller/_static/image16.png "MoviesTable")](accessing-your-models-data-from-a-controller/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-185">[![MoviesTable](accessing-your-models-data-from-a-controller/_static/image16.png "MoviesTable")](accessing-your-models-data-from-a-controller/_static/image15.png)</span></span>

<span data-ttu-id="5e9ae-186">Kliknij prawym przyciskiem myszy `Movies` tabeli i wybierz **Edytuj schemat tabeli**.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-186">Right-click the `Movies` table and select **Edit Table Schema**.</span></span>

<span data-ttu-id="5e9ae-187">[![EditTableSchema](accessing-your-models-data-from-a-controller/_static/image18.png "EditTableSchema")](accessing-your-models-data-from-a-controller/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-187">[![EditTableSchema](accessing-your-models-data-from-a-controller/_static/image18.png "EditTableSchema")](accessing-your-models-data-from-a-controller/_static/image17.png)</span></span>

<span data-ttu-id="5e9ae-188">[![TableSchemaSM](accessing-your-models-data-from-a-controller/_static/image20.png "TableSchemaSM")](accessing-your-models-data-from-a-controller/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-188">[![TableSchemaSM](accessing-your-models-data-from-a-controller/_static/image20.png "TableSchemaSM")](accessing-your-models-data-from-a-controller/_static/image19.png)</span></span>

<span data-ttu-id="5e9ae-189">Powiadomienie jak schemat `Movies` mapy do tabel `Movie` klasy utworzony wcześniej.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-189">Notice how the schema of the `Movies` table maps to the `Movie` class you created earlier.</span></span> <span data-ttu-id="5e9ae-190">Entity Framework Code First automatycznie utworzyć ten schemat na podstawie Twojej `Movie` klasy.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-190">Entity Framework Code First automatically created this schema for you based on your `Movie` class.</span></span>

<span data-ttu-id="5e9ae-191">Po zakończeniu zamknij połączenie.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-191">When you're finished, close the connection.</span></span> <span data-ttu-id="5e9ae-192">(Jeśli nie zamkniesz połączenie, może być błąd pojawia się przy następnym uruchomieniu projektu).</span><span class="sxs-lookup"><span data-stu-id="5e9ae-192">(If you don't close the connection, you might get an error the next time you run the project).</span></span>

<span data-ttu-id="5e9ae-193">[![CloseConnection](accessing-your-models-data-from-a-controller/_static/image22.png "CloseConnection")](accessing-your-models-data-from-a-controller/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-193">[![CloseConnection](accessing-your-models-data-from-a-controller/_static/image22.png "CloseConnection")](accessing-your-models-data-from-a-controller/_static/image21.png)</span></span>

<span data-ttu-id="5e9ae-194">Istnieje już baza danych i proste listy na stronie zawartości z niego.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-194">You now have the database and a simple listing page to display content from it.</span></span> <span data-ttu-id="5e9ae-195">W następnym samouczku będzie firma Microsoft bada reszty szkieletu kodu i dodać `SearchIndex` — metoda i `SearchIndex` widoku, który umożliwia wyszukiwanie filmów w tej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="5e9ae-195">In the next tutorial, we'll examine the rest of the scaffolded code and add a `SearchIndex` method and a `SearchIndex` view that lets you search for movies in this database.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5e9ae-196">[Poprzednie](adding-a-model.md)
> [dalej](examining-the-edit-methods-and-edit-view.md)</span><span class="sxs-lookup"><span data-stu-id="5e9ae-196">[Previous](adding-a-model.md)
[Next](examining-the-edit-methods-and-edit-view.md)</span></span>
