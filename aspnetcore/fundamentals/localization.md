---
title: Globalizacja i lokalizacja w ASP.NET Core
author: rick-anderson
description: Dowiedz się, jak platformy ASP.NET Core udostępnia usługi i oprogramowanie pośredniczące dla lokalizacji zawartości do innych języków i kultur.
manager: wpickett
ms.author: riande
ms.date: 01/14/2017
ms.prod: asp.net-core
ms.technology: aspnet
ms.topic: article
uid: fundamentals/localization
ms.openlocfilehash: b81926f81fdfb832ff6ae3bd65c00fa09412fec4
ms.sourcegitcommit: 5130b3034165f5cf49d829fe7475a84aa33d2693
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/03/2018
---
# <a name="globalization-and-localization-in-aspnet-core"></a><span data-ttu-id="03039-103">Globalizacja i lokalizacja w ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="03039-103">Globalization and localization in ASP.NET Core</span></span>

<span data-ttu-id="03039-104">Przez [Rick Anderson](https://twitter.com/RickAndMSFT), [linkach Damien](https://twitter.com/damien_bod), [Calixto Roman](https://twitter.com/bartmax), [Nadeem Afana](https://twitter.com/NadeemAfana), i [Ateya Hisham Bin](https://twitter.com/hishambinateya)</span><span class="sxs-lookup"><span data-stu-id="03039-104">By [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien Bowden](https://twitter.com/damien_bod), [Bart Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://twitter.com/NadeemAfana), and [Hisham Bin Ateya](https://twitter.com/hishambinateya)</span></span>

<span data-ttu-id="03039-105">Tworzenie wielu języków witryny sieci Web za pomocą platformy ASP.NET Core umożliwi witrynę tak, aby uzyskać dostęp do większej liczby osób.</span><span class="sxs-lookup"><span data-stu-id="03039-105">Creating a multilingual website with ASP.NET Core will allow your site to reach a wider audience.</span></span> <span data-ttu-id="03039-106">Platformy ASP.NET Core udostępnia usługi i oprogramowanie pośredniczące dla lokalizowanie do różnych języków i kultur.</span><span class="sxs-lookup"><span data-stu-id="03039-106">ASP.NET Core provides services and middleware for localizing into different languages and cultures.</span></span>

<span data-ttu-id="03039-107">Przystosowywanie do warunków międzynarodowych obejmuje [globalizacji](/dotnet/api/system.globalization) i [lokalizacja](/dotnet/standard/globalization-localization/localization).</span><span class="sxs-lookup"><span data-stu-id="03039-107">Internationalization involves [Globalization](/dotnet/api/system.globalization) and [Localization](/dotnet/standard/globalization-localization/localization).</span></span> <span data-ttu-id="03039-108">Globalizacja to proces projektowania aplikacji, które obsługują innych kultur.</span><span class="sxs-lookup"><span data-stu-id="03039-108">Globalization is the process of designing apps that support different cultures.</span></span> <span data-ttu-id="03039-109">Globalizacja dodaje obsługę danych wejściowych, wyświetlania i dane wyjściowe ze zdefiniowanym zestawem język skryptów, które odnoszą się do określonych obszarach geograficznych.</span><span class="sxs-lookup"><span data-stu-id="03039-109">Globalization adds support for input, display, and output of a defined set of language scripts that relate to specific geographic areas.</span></span>

<span data-ttu-id="03039-110">Lokalizacja jest procesem dostosowywania uniwersalnych aplikacji, która już przeprowadzono dla możliwości zlokalizowania do określonej kultury/ustawień regionalnych.</span><span class="sxs-lookup"><span data-stu-id="03039-110">Localization is the process of adapting a globalized app, which you have already processed for localizability, to a particular culture/locale.</span></span> <span data-ttu-id="03039-111">Aby uzyskać więcej informacji, zobacz **warunki lokalizacja i globalizacja** pod koniec tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="03039-111">For more information see **Globalization and localization terms** near the end of this document.</span></span>

<span data-ttu-id="03039-112">Lokalizacja aplikacji obejmuje następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="03039-112">App localization involves the following:</span></span>

1. <span data-ttu-id="03039-113">Wprowadź zlokalizowania zawartości aplikacji</span><span class="sxs-lookup"><span data-stu-id="03039-113">Make the app's content localizable</span></span>

2. <span data-ttu-id="03039-114">Podaj zlokalizowanych zasobów dla języków i kultur, która jest obsługiwana</span><span class="sxs-lookup"><span data-stu-id="03039-114">Provide localized resources for the languages and cultures you support</span></span>

3. <span data-ttu-id="03039-115">Wdrożenie strategii wybierz języka/kultury dla każdego żądania</span><span class="sxs-lookup"><span data-stu-id="03039-115">Implement a strategy to select the language/culture for each request</span></span>

## <a name="make-the-apps-content-localizable"></a><span data-ttu-id="03039-116">Wprowadź zlokalizowania zawartości aplikacji</span><span class="sxs-lookup"><span data-stu-id="03039-116">Make the app's content localizable</span></span>

<span data-ttu-id="03039-117">Wprowadzone w ASP.NET Core `IStringLocalizer` i `IStringLocalizer<T>` zostały zaprojektowane pod poprawia wydajność podczas opracowywania zlokalizowane aplikacji.</span><span class="sxs-lookup"><span data-stu-id="03039-117">Introduced in ASP.NET Core, `IStringLocalizer` and `IStringLocalizer<T>` were architected to improve productivity when developing localized apps.</span></span> <span data-ttu-id="03039-118">`IStringLocalizer` używa [ResourceManager](/dotnet/api/system.resources.resourcemanager) i [ResourceReader](/dotnet/api/system.resources.resourcereader) zapewnienie zasobów określonej kultury w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="03039-118">`IStringLocalizer` uses the [ResourceManager](/dotnet/api/system.resources.resourcemanager) and [ResourceReader](/dotnet/api/system.resources.resourcereader) to provide culture-specific resources at run time.</span></span> <span data-ttu-id="03039-119">Indeksator ma prosty interfejs i `IEnumerable` dla zwracania zlokalizowanych ciągów.</span><span class="sxs-lookup"><span data-stu-id="03039-119">The simple interface has an indexer and an `IEnumerable` for returning localized strings.</span></span> <span data-ttu-id="03039-120">`IStringLocalizer` nie wymaga przechowywania ciągów języka domyślnego pliku zasobu.</span><span class="sxs-lookup"><span data-stu-id="03039-120">`IStringLocalizer` doesn't require you to store the default language strings in a resource file.</span></span> <span data-ttu-id="03039-121">Mogą tworzyć aplikacji przeznaczony dla lokalizacji i nie trzeba tworzyć pliki zasobów na początku programowanie.</span><span class="sxs-lookup"><span data-stu-id="03039-121">You can develop an app targeted for localization and not need to create resource files early in development.</span></span> <span data-ttu-id="03039-122">Poniższy kod przedstawia sposób zawijania ciąg "Title o" do lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="03039-122">The code below shows how to wrap the string "About Title" for localization.</span></span>

[!code-csharp[](localization/sample/Localization/Controllers/AboutController.cs)]

<span data-ttu-id="03039-123">W powyższym kodzie `IStringLocalizer<T>` implementacji pochodzi z [iniekcji zależności](dependency-injection.md).</span><span class="sxs-lookup"><span data-stu-id="03039-123">In the code above, the `IStringLocalizer<T>` implementation comes from [Dependency Injection](dependency-injection.md).</span></span> <span data-ttu-id="03039-124">Jeśli nie zostanie odnaleziony zlokalizowaną wartość tytułu"temat", a następnie z kluczem indeksatora, jest zwracany, czyli ciąg "Title o".</span><span class="sxs-lookup"><span data-stu-id="03039-124">If the localized value of "About Title" isn't found, then the indexer key is returned, that is, the string "About Title".</span></span> <span data-ttu-id="03039-125">Możesz pozostaw wartość domyślną literału ciągi języka w aplikacji i zawijanie je w lokalizatora, dzięki czemu można skupić się na temat tworzenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="03039-125">You can leave the default language literal strings in the app and wrap them in the localizer, so that you can focus on developing the app.</span></span> <span data-ttu-id="03039-126">Opracuj swoją aplikację z językiem domyślnym i przygotowania kroku lokalizacji bez tworzenia domyślnego pliku zasobów.</span><span class="sxs-lookup"><span data-stu-id="03039-126">You develop your app with your default language and prepare it for the localization step without first creating a default resource file.</span></span> <span data-ttu-id="03039-127">Alternatywnie można użyć tradycyjne podejście i podaj klucz, aby pobrać domyślny ciąg języka.</span><span class="sxs-lookup"><span data-stu-id="03039-127">Alternatively, you can use the traditional approach and provide a key to retrieve the default language string.</span></span> <span data-ttu-id="03039-128">Dla wielu deweloperów nowy przepływ pracy nie ma domyślny język *.resx* plików i po prostu zawijania Literały ciągu można zmniejszyć koszty lokalizowanie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="03039-128">For many developers the new workflow of not having a default language *.resx* file and simply wrapping the string literals can reduce the overhead of localizing an app.</span></span> <span data-ttu-id="03039-129">Inni deweloperzy preferowane przepływu pracy tradycyjnych zgodnie z jego może ułatwić pracę z dłużej literały ciągów i ułatwić aktualizowanie zlokalizowanych ciągów.</span><span class="sxs-lookup"><span data-stu-id="03039-129">Other developers will prefer the traditional work flow as it can make it easier to work with longer string literals and make it easier to update localized strings.</span></span>

<span data-ttu-id="03039-130">Użyj `IHtmlLocalizer<T>` implementacji dla zasobów, które zawierają HTML.</span><span class="sxs-lookup"><span data-stu-id="03039-130">Use the `IHtmlLocalizer<T>` implementation for resources that contain HTML.</span></span> <span data-ttu-id="03039-131">`IHtmlLocalizer` Argumenty, które są sformatowane w ciągu zasobu koduje HTML, ale nie sam ciąg zasobu kodowanie HTML.</span><span class="sxs-lookup"><span data-stu-id="03039-131">`IHtmlLocalizer` HTML encodes arguments that are formatted in the resource string, but doesn't HTML encode the resource string itself.</span></span> <span data-ttu-id="03039-132">W przykładzie wyróżnione poniżej tylko wartości `name` parametr ma kodowania HTML.</span><span class="sxs-lookup"><span data-stu-id="03039-132">In the sample highlighted below, only the value of `name` parameter is HTML encoded.</span></span>

[!code-csharp[](../fundamentals/localization/sample/Localization/Controllers/BookController.cs?highlight=3,5,20&start=1&end=24)]

<span data-ttu-id="03039-133">**Uwaga:** ma zazwyczaj do zlokalizowania tylko tekst i HTML nie.</span><span class="sxs-lookup"><span data-stu-id="03039-133">**Note:** You generally want to only localize text and not HTML.</span></span>

<span data-ttu-id="03039-134">Na najniższym poziomie, można uzyskać `IStringLocalizerFactory` z [iniekcji zależności](dependency-injection.md):</span><span class="sxs-lookup"><span data-stu-id="03039-134">At the lowest level, you can get `IStringLocalizerFactory` out of [Dependency Injection](dependency-injection.md):</span></span>

[!code-csharp[](localization/sample/Localization/Controllers/TestController.cs?start=9&end=26&highlight=7-13)]

<span data-ttu-id="03039-135">Powyższy kod pokazuje każdej fabryki dwóch metod tworzenia.</span><span class="sxs-lookup"><span data-stu-id="03039-135">The code above demonstrates each of the two factory create methods.</span></span>

<span data-ttu-id="03039-136">Możesz partycji z zlokalizowanych ciągów przez kontroler, obszar, lub mieć tylko jeden kontener.</span><span class="sxs-lookup"><span data-stu-id="03039-136">You can partition your localized strings by controller, area, or have just one container.</span></span> <span data-ttu-id="03039-137">W przykładowej aplikacji, o nazwie klasy fikcyjny `SharedResource` służy do udostępnionych zasobów.</span><span class="sxs-lookup"><span data-stu-id="03039-137">In the sample app, a dummy class named `SharedResource` is used for shared resources.</span></span>

[!code-csharp[](localization/sample/Localization/Resources/SharedResource.cs)]

<span data-ttu-id="03039-138">Niektórzy deweloperzy wykorzystują `Startup` klasa może zawierać ciągów globalnej lub udostępniony.</span><span class="sxs-lookup"><span data-stu-id="03039-138">Some developers use the `Startup` class to contain global or shared strings.</span></span> <span data-ttu-id="03039-139">W przykładzie poniżej `InfoController` i `SharedResource` służą wiadomość dla lokalizatorów:</span><span class="sxs-lookup"><span data-stu-id="03039-139">In the sample below, the `InfoController` and the `SharedResource` localizers are used:</span></span>

[!code-csharp[](localization/sample/Localization/Controllers/InfoController.cs?range=9-26)]

## <a name="view-localization"></a><span data-ttu-id="03039-140">Lokalizacja widoku</span><span class="sxs-lookup"><span data-stu-id="03039-140">View localization</span></span>

<span data-ttu-id="03039-141">`IViewLocalizer` Usługa zapewnia zlokalizowanych ciągów dla [widoku](xref:mvc/views/overview).</span><span class="sxs-lookup"><span data-stu-id="03039-141">The `IViewLocalizer` service provides localized strings for a [view](xref:mvc/views/overview).</span></span> <span data-ttu-id="03039-142">`ViewLocalizer` Klasa implementuje ten interfejs i wyszukuje lokalizacji zasobów ze ścieżki plików widoku.</span><span class="sxs-lookup"><span data-stu-id="03039-142">The `ViewLocalizer` class implements this interface and finds the resource location from the view file path.</span></span> <span data-ttu-id="03039-143">Poniższy kod przedstawia sposób użycia Domyślna implementacja `IViewLocalizer`:</span><span class="sxs-lookup"><span data-stu-id="03039-143">The following code shows how to use the default implementation of `IViewLocalizer`:</span></span>

[!code-cshtml[](localization/sample/Localization/Views/Home/About.cshtml)]

<span data-ttu-id="03039-144">Domyślna implementacja `IViewLocalizer` umożliwia znalezienie pliku zasobów na podstawie nazwy pliku dla widoku.</span><span class="sxs-lookup"><span data-stu-id="03039-144">The default implementation of `IViewLocalizer` finds the resource file based on the view's file name.</span></span> <span data-ttu-id="03039-145">Nie jest dostępna opcja używania pliku globalnego zasobu udostępnionego.</span><span class="sxs-lookup"><span data-stu-id="03039-145">There's no option to use a global shared resource file.</span></span> <span data-ttu-id="03039-146">`ViewLocalizer` implementuje za pomocą lokalizatora `IHtmlLocalizer`, więc Razor nie HTML zlokalizowany ciąg do zakodowania.</span><span class="sxs-lookup"><span data-stu-id="03039-146">`ViewLocalizer` implements the localizer using `IHtmlLocalizer`, so Razor doesn't HTML encode the localized string.</span></span> <span data-ttu-id="03039-147">Można parametryzacja ciągów zasobów i `IViewLocalizer` będzie kodowanie HTML parametrów, ale nie do ciągu zasobu.</span><span class="sxs-lookup"><span data-stu-id="03039-147">You can parameterize resource strings and `IViewLocalizer` will HTML encode the parameters, but not the resource string.</span></span> <span data-ttu-id="03039-148">Należy wziąć pod uwagę następujące znaczników Razor:</span><span class="sxs-lookup"><span data-stu-id="03039-148">Consider the following Razor markup:</span></span>

```cshtml
@Localizer["<i>Hello</i> <b>{0}!</b>", UserManager.GetUserName(User)]
```

<span data-ttu-id="03039-149">Plik zasobów francuskim może zawierać następujące informacje:</span><span class="sxs-lookup"><span data-stu-id="03039-149">A French resource file could contain the following:</span></span>

| <span data-ttu-id="03039-150">Key</span><span class="sxs-lookup"><span data-stu-id="03039-150">Key</span></span> | <span data-ttu-id="03039-151">Wartość</span><span class="sxs-lookup"><span data-stu-id="03039-151">Value</span></span> |
| ----- | ------ |
| `<i>Hello</i> <b>{0}!</b>` | `<i>Bonjour</i> <b>{0} !</b> ` |

<span data-ttu-id="03039-152">Widoku renderowanym zawierałoby kod znaczników HTML z pliku zasobów.</span><span class="sxs-lookup"><span data-stu-id="03039-152">The rendered view would contain the HTML markup from the resource file.</span></span>

<span data-ttu-id="03039-153">**Uwaga:** ma zazwyczaj do zlokalizowania tylko tekst i HTML nie.</span><span class="sxs-lookup"><span data-stu-id="03039-153">**Note:** You generally want to only localize text and not HTML.</span></span>

<span data-ttu-id="03039-154">Aby użyć pliku zasobu udostępnionego w widoku, wstrzyknąć `IHtmlLocalizer<T>`:</span><span class="sxs-lookup"><span data-stu-id="03039-154">To use a shared resource file in a view, inject `IHtmlLocalizer<T>`:</span></span>

[!code-cshtml[](../fundamentals/localization/sample/Localization/Views/Test/About.cshtml?highlight=5,12)]

## <a name="dataannotations-localization"></a><span data-ttu-id="03039-155">Lokalizacja DataAnnotations</span><span class="sxs-lookup"><span data-stu-id="03039-155">DataAnnotations localization</span></span>

<span data-ttu-id="03039-156">Komunikaty o błędach DataAnnotations są zlokalizowane z `IStringLocalizer<T>`.</span><span class="sxs-lookup"><span data-stu-id="03039-156">DataAnnotations error messages are localized with `IStringLocalizer<T>`.</span></span> <span data-ttu-id="03039-157">Przy użyciu opcji `ResourcesPath = "Resources"`, komunikaty o błędach w `RegisterViewModel` mogą być przechowywane w jednym z następujących ścieżek:</span><span class="sxs-lookup"><span data-stu-id="03039-157">Using the option `ResourcesPath = "Resources"`, the error messages in `RegisterViewModel` can be stored in either of the following paths:</span></span>

* <span data-ttu-id="03039-158">*Resources/ViewModels.Account.RegisterViewModel.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="03039-158">*Resources/ViewModels.Account.RegisterViewModel.fr.resx*</span></span>
* <span data-ttu-id="03039-159">*Resources/ViewModels/Account/RegisterViewModel.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="03039-159">*Resources/ViewModels/Account/RegisterViewModel.fr.resx*</span></span>

[!code-csharp[](localization/sample/Localization/ViewModels/Account/RegisterViewModel.cs?start=9&end=26)]

<span data-ttu-id="03039-160">ASP.NET Core MVC 1.1.0 i wyższe, bez sprawdzania poprawności atrybutów są zlokalizowane.</span><span class="sxs-lookup"><span data-stu-id="03039-160">In ASP.NET Core MVC 1.1.0 and higher, non-validation attributes are localized.</span></span> <span data-ttu-id="03039-161">Platformy ASP.NET Core MVC 1.0 jest **nie** wyszukiwania zlokalizowanych ciągów dla atrybutów bez sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="03039-161">ASP.NET Core MVC 1.0 does **not** look up localized strings for non-validation attributes.</span></span>

<a name="one-resource-string-multiple-classes"></a>
### <a name="using-one-resource-string-for-multiple-classes"></a><span data-ttu-id="03039-162">Przy użyciu jednego ciągu zasobu dla wielu klas</span><span class="sxs-lookup"><span data-stu-id="03039-162">Using one resource string for multiple classes</span></span>

<span data-ttu-id="03039-163">Poniższy kod przedstawia sposób użycia jednego ciągu zasobu dla atrybutów sprawdzania poprawności z wielu klas:</span><span class="sxs-lookup"><span data-stu-id="03039-163">The following code shows how to use one resource string for validation attributes with multiple classes:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddDataAnnotationsLocalization(options => {
            options.DataAnnotationLocalizerProvider = (type, factory) =>
                factory.Create(typeof(SharedResource));
        });
}
```

<span data-ttu-id="03039-164">W kodzie poprzedzających `SharedResource` jest klasa odpowiadający resx przechowywania wiadomości sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="03039-164">In the preceeding code, `SharedResource` is the class corresponding to the resx where your validation messages are stored.</span></span> <span data-ttu-id="03039-165">Takie podejście, DataAnnotations tylko za pomocą `SharedResource`, zamiast zasobów dla każdej klasy.</span><span class="sxs-lookup"><span data-stu-id="03039-165">With this approach, DataAnnotations will only use `SharedResource`, rather than the resource for each class.</span></span>

## <a name="provide-localized-resources-for-the-languages-and-cultures-you-support"></a><span data-ttu-id="03039-166">Podaj zlokalizowanych zasobów dla języków i kultur, która jest obsługiwana</span><span class="sxs-lookup"><span data-stu-id="03039-166">Provide localized resources for the languages and cultures you support</span></span>

### <a name="supportedcultures-and-supporteduicultures"></a><span data-ttu-id="03039-167">SupportedCultures i SupportedUICultures</span><span class="sxs-lookup"><span data-stu-id="03039-167">SupportedCultures and SupportedUICultures</span></span>

<span data-ttu-id="03039-168">Platformy ASP.NET Core służy do określania dwóch wartości kultury, `SupportedCultures` i `SupportedUICultures`.</span><span class="sxs-lookup"><span data-stu-id="03039-168">ASP.NET Core allows you to specify two culture values, `SupportedCultures` and `SupportedUICultures`.</span></span> <span data-ttu-id="03039-169">[CultureInfo](/dotnet/api/system.globalization.cultureinfo) obiekt do `SupportedCultures` określa wyniki funkcje zależne od kultury, takie jak data, czas, numer i formatowanie waluty.</span><span class="sxs-lookup"><span data-stu-id="03039-169">The [CultureInfo](/dotnet/api/system.globalization.cultureinfo) object for `SupportedCultures` determines the results of culture-dependent functions, such as date, time, number, and currency formatting.</span></span> <span data-ttu-id="03039-170">`SupportedCultures` Określa również kolejność sortowania tekstu, konwencje wielkość liter i porównywania ciągów.</span><span class="sxs-lookup"><span data-stu-id="03039-170">`SupportedCultures` also determines the sorting order of text, casing conventions, and string comparisons.</span></span> <span data-ttu-id="03039-171">Zobacz [wartość CultureInfo.CurrentCulture](/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture) uzyskać więcej informacji dotyczących sposobu serwera pobiera kultury.</span><span class="sxs-lookup"><span data-stu-id="03039-171">See [CultureInfo.CurrentCulture](/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture) for more info on how the server gets the Culture.</span></span> <span data-ttu-id="03039-172">`SupportedUICultures` Określa, który tłumaczy ciągi (z *.resx* pliki) są wyszukiwane przez [ResourceManager](/dotnet/api/system.resources.resourcemanager).</span><span class="sxs-lookup"><span data-stu-id="03039-172">The `SupportedUICultures` determines which translates strings (from *.resx* files) are looked up by the [ResourceManager](/dotnet/api/system.resources.resourcemanager).</span></span> <span data-ttu-id="03039-173">`ResourceManager` Po prostu wyszukuje specyficzne dla kultury ciągów, które jest określane przez `CurrentUICulture`.</span><span class="sxs-lookup"><span data-stu-id="03039-173">The `ResourceManager` simply looks up culture-specific strings that's determined by `CurrentUICulture`.</span></span> <span data-ttu-id="03039-174">Każdy wątek .NET ma `CurrentCulture` i `CurrentUICulture` obiektów.</span><span class="sxs-lookup"><span data-stu-id="03039-174">Every thread in .NET has `CurrentCulture` and `CurrentUICulture` objects.</span></span> <span data-ttu-id="03039-175">Platformy ASP.NET Core sprawdzi te wartości podczas renderowania funkcje zależne od kultury.</span><span class="sxs-lookup"><span data-stu-id="03039-175">ASP.NET Core inspects these values when rendering culture-dependent functions.</span></span> <span data-ttu-id="03039-176">Na przykład, jeśli kultury bieżącej wątku ma ustawioną wartość "en US" (angielski, Stany Zjednoczone) `DateTime.Now.ToLongDateString()` Wyświetla "Czwartek, 18 luty 2016 r.", ale jeśli `CurrentCulture` jest ustawiona na "es-ES" (wersja hiszpańska, Hiszpania) dane wyjściowe będą "jueves, de febrero 18 de 2016".</span><span class="sxs-lookup"><span data-stu-id="03039-176">For example, if the current thread's culture is set to "en-US" (English, United States), `DateTime.Now.ToLongDateString()` displays "Thursday, February 18, 2016", but if `CurrentCulture` is set to "es-ES" (Spanish, Spain) the output will be "jueves, 18 de febrero de 2016".</span></span>

## <a name="resource-files"></a><span data-ttu-id="03039-177">Pliki zasobów</span><span class="sxs-lookup"><span data-stu-id="03039-177">Resource files</span></span>

<span data-ttu-id="03039-178">Plik zasobów jest mechanizm przydatne do oddzielania Lokalizowalny ciągów z kodu.</span><span class="sxs-lookup"><span data-stu-id="03039-178">A resource file is a useful mechanism for separating localizable strings from code.</span></span> <span data-ttu-id="03039-179">Przetłumaczone ciągi dla języków innych niż domyślne są izolowane *.resx* plików zasobów.</span><span class="sxs-lookup"><span data-stu-id="03039-179">Translated strings for the non-default language are isolated *.resx* resource files.</span></span> <span data-ttu-id="03039-180">Na przykład można utworzyć plik hiszpańskim zasobów o nazwie *Welcome.es.resx* zawierający przetłumaczone ciągi.</span><span class="sxs-lookup"><span data-stu-id="03039-180">For example, you might want to create Spanish resource file named *Welcome.es.resx* containing translated strings.</span></span> <span data-ttu-id="03039-181">"es" jest kod języka hiszpańskiego.</span><span class="sxs-lookup"><span data-stu-id="03039-181">"es" is the language code for Spanish.</span></span> <span data-ttu-id="03039-182">Aby utworzyć ten plik zasobu w programie Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="03039-182">To create this resource file in Visual Studio:</span></span>

1. <span data-ttu-id="03039-183">W **Eksploratora rozwiązań**, kliknij prawym przyciskiem myszy folder, w którym będzie zawierać plik zasobu > **Dodaj** > **nowy element**.</span><span class="sxs-lookup"><span data-stu-id="03039-183">In **Solution Explorer**, right click on the folder which will contain the resource file > **Add** > **New Item**.</span></span>

    ![Menu kontekstowe zagnieżdżone: W Eksploratorze rozwiązań menu kontekstowe jest otwarte dla zasobów.](localization/_static/newi.png)

2. <span data-ttu-id="03039-186">W **wyszukiwania zainstalowane szablony** polu wprowadź "zasobu" i nazwę pliku.</span><span class="sxs-lookup"><span data-stu-id="03039-186">In the **Search installed templates** box, enter "resource" and name the file.</span></span>

    ![Dodaj nowy element okna dialogowego](localization/_static/res.png)

3. <span data-ttu-id="03039-188">Wprowadź wartość klucza (ciąg natywnego) w **nazwa** kolumny i przetłumaczonego ciąg w **wartość** kolumny.</span><span class="sxs-lookup"><span data-stu-id="03039-188">Enter the key value (native string) in the **Name** column and the translated string in the **Value** column.</span></span>

    ![Welcome.ES.resx pliku (plik zasobów-Zapraszamy hiszpański) z programu word Hello kolumny z nazwami i word Hola (Hello w języku hiszpańskim) w kolumnie wartość](localization/_static/hola.png)

    <span data-ttu-id="03039-190">Visual Studio zawiera *Welcome.es.resx* pliku.</span><span class="sxs-lookup"><span data-stu-id="03039-190">Visual Studio shows the *Welcome.es.resx* file.</span></span>

    ![Eksploratora rozwiązań przedstawiający plik zasobów-Zapraszamy hiszpański (es)](localization/_static/se.png)

<a name="error"></a>

<span data-ttu-id="03039-192">Jeśli używasz wersji Preview 2017 r w usłudze Visual Studio 15 ustęp 3, zostanie wyświetlony wskaźnik błędów w edytorze zasobów.</span><span class="sxs-lookup"><span data-stu-id="03039-192">If you are using Visual Studio 2017 Preview version 15.3, you'll get an error indicator in the resource editor.</span></span> <span data-ttu-id="03039-193">Usuń *ResXFileCodeGenerator* wartość z *niestandardowego narzędzia* siatki właściwości, aby uniknąć tego komunikatu o błędzie:</span><span class="sxs-lookup"><span data-stu-id="03039-193">Remove the *ResXFileCodeGenerator*  value from the *Custom Tool* properties grid to prevent this error message:</span></span>

![Edytor resx](localization/_static/err.png)

<span data-ttu-id="03039-195">Alternatywnie możesz zignorować ten błąd.</span><span class="sxs-lookup"><span data-stu-id="03039-195">Alternatively, you can ignore this error.</span></span> <span data-ttu-id="03039-196">Mamy nadzieję rozwiązać ten problem w następnej wersji.</span><span class="sxs-lookup"><span data-stu-id="03039-196">We hope to fix this in the next release.</span></span>

## <a name="resource-file-naming"></a><span data-ttu-id="03039-197">Nazywanie pliku zasobów</span><span class="sxs-lookup"><span data-stu-id="03039-197">Resource file naming</span></span>

<span data-ttu-id="03039-198">Zasoby są nazywane dla Pełna nazwa typu ich klasy minus nazwy zestawu.</span><span class="sxs-lookup"><span data-stu-id="03039-198">Resources are named for the full type name of their class minus the assembly name.</span></span> <span data-ttu-id="03039-199">Na przykład francuskim zasobów w projekcie, których główny zestaw jest `LocalizationWebsite.Web.dll` dla klasy `LocalizationWebsite.Web.Startup` będą miały postać *Startup.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="03039-199">For example, a French resource in a project whose main assembly is `LocalizationWebsite.Web.dll` for the class `LocalizationWebsite.Web.Startup` would be named *Startup.fr.resx*.</span></span> <span data-ttu-id="03039-200">Zasób klasy `LocalizationWebsite.Web.Controllers.HomeController` będą miały postać *Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="03039-200">A resource for the class `LocalizationWebsite.Web.Controllers.HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="03039-201">Jeśli klasę docelową przestrzeń nazw nie jest taka sama jak nazwa zestawu należy Pełna nazwa typu.</span><span class="sxs-lookup"><span data-stu-id="03039-201">If your targeted class's namespace isn't the same as the assembly name you will need the full type name.</span></span> <span data-ttu-id="03039-202">Na przykład w próbce projektu zasobów dla typu `ExtraNamespace.Tools` będą miały postać *ExtraNamespace.Tools.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="03039-202">For example, in the sample project a resource for the type `ExtraNamespace.Tools` would be named *ExtraNamespace.Tools.fr.resx*.</span></span>

<span data-ttu-id="03039-203">W projekcie próbki `ConfigureServices` zestawy metody `ResourcesPath` "Zasoby", więc projekt względna ścieżka pliku zasobu francuskim macierzystego kontrolera jest *Resources/Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="03039-203">In the sample project, the `ConfigureServices` method sets the `ResourcesPath` to "Resources", so the project relative path for the home controller's French resource file is *Resources/Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="03039-204">Alternatywnie można używać folderów można organizować pliki zasobów.</span><span class="sxs-lookup"><span data-stu-id="03039-204">Alternatively, you can use folders to organize resource files.</span></span> <span data-ttu-id="03039-205">Macierzysty kontrolera byłaby to ścieżka *Resources/Controllers/HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="03039-205">For the home controller, the path would be *Resources/Controllers/HomeController.fr.resx*.</span></span> <span data-ttu-id="03039-206">Jeśli nie używasz `ResourcesPath` opcji *.resx* przejdzie pliku w katalogu podstawowego projektu.</span><span class="sxs-lookup"><span data-stu-id="03039-206">If you don't use the `ResourcesPath` option, the *.resx* file would go in the project base directory.</span></span> <span data-ttu-id="03039-207">Plik zasobów dla `HomeController` będą miały postać *Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="03039-207">The resource file for `HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="03039-208">Wybór przy użyciu konwencji nazewnictwa kropką lub ścieżka zależy od tego, sposób organizowania zasobów plików.</span><span class="sxs-lookup"><span data-stu-id="03039-208">The choice of using the dot or path naming convention depends on how you want to organize your resource files.</span></span>

| <span data-ttu-id="03039-209">Nazwa zasobu</span><span class="sxs-lookup"><span data-stu-id="03039-209">Resource name</span></span> | <span data-ttu-id="03039-210">Kropek ani nazwy ścieżki</span><span class="sxs-lookup"><span data-stu-id="03039-210">Dot or path naming</span></span> |
| ------------   | ------------- |
| <span data-ttu-id="03039-211">Resources/Controllers.HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="03039-211">Resources/Controllers.HomeController.fr.resx</span></span> | <span data-ttu-id="03039-212">Kropka</span><span class="sxs-lookup"><span data-stu-id="03039-212">Dot</span></span>  |
| <span data-ttu-id="03039-213">Resources/Controllers/HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="03039-213">Resources/Controllers/HomeController.fr.resx</span></span>  | <span data-ttu-id="03039-214">Ścieżka</span><span class="sxs-lookup"><span data-stu-id="03039-214">Path</span></span> |
|    |     |

<span data-ttu-id="03039-215">Pliki zasobów przy użyciu `@inject IViewLocalizer` w widokach Razor wykonaj podobnego wzorca.</span><span class="sxs-lookup"><span data-stu-id="03039-215">Resource files using `@inject IViewLocalizer` in Razor views follow a similar pattern.</span></span> <span data-ttu-id="03039-216">Może mieć nazwę pliku zasobów dla widoku przy użyciu nazw kropką lub nazwy ścieżki.</span><span class="sxs-lookup"><span data-stu-id="03039-216">The resource file for a view can be named using either dot naming or path naming.</span></span> <span data-ttu-id="03039-217">Pliki zasobów widoku razor naśladować ścieżkę pliku ich skojarzonego widoku.</span><span class="sxs-lookup"><span data-stu-id="03039-217">Razor view resource files mimic the path of their associated view file.</span></span> <span data-ttu-id="03039-218">Zakładając, że możemy ustawić `ResourcesPath` do "Zasoby", plik zasobu francuskim skojarzone z *Views/Home/About.cshtml* widok może być jedną z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="03039-218">Assuming we set the `ResourcesPath` to "Resources", the French resource file associated with the *Views/Home/About.cshtml* view could be either of the following:</span></span>

* <span data-ttu-id="03039-219">Resources/Views/Home/About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="03039-219">Resources/Views/Home/About.fr.resx</span></span>

* <span data-ttu-id="03039-220">Resources/Views.Home.About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="03039-220">Resources/Views.Home.About.fr.resx</span></span>

<span data-ttu-id="03039-221">Jeśli nie używasz `ResourcesPath` opcji *.resx* pliku dla widoku będzie znajdować się w tym samym folderze co widoku.</span><span class="sxs-lookup"><span data-stu-id="03039-221">If you don't use the `ResourcesPath` option, the *.resx* file for a view would be located in the same folder as the view.</span></span>

## <a name="culture-fallback-behavior"></a><span data-ttu-id="03039-222">Działanie rezerwowe kultury</span><span class="sxs-lookup"><span data-stu-id="03039-222">Culture fallback behavior</span></span>

<span data-ttu-id="03039-223">Podczas wyszukiwania zasobów, lokalizacja uczestniczy w "kultury rezerwowej".</span><span class="sxs-lookup"><span data-stu-id="03039-223">When searching for a resource, localization engages in "culture fallback".</span></span> <span data-ttu-id="03039-224">Począwszy od żądaną kulturę, jeśli nie można odnaleźć, przywraca Kultura nadrzędna tej kultury.</span><span class="sxs-lookup"><span data-stu-id="03039-224">Starting from the requested culture, if not found, it reverts to the parent culture of that culture.</span></span> <span data-ttu-id="03039-225">Jako Zarezerwuj [CultureInfo.Parent](/dotnet/api/system.globalization.cultureinfo.parent) właściwość reprezentuje Kultura nadrzędna.</span><span class="sxs-lookup"><span data-stu-id="03039-225">As an aside, the [CultureInfo.Parent](/dotnet/api/system.globalization.cultureinfo.parent) property represents the parent culture.</span></span> <span data-ttu-id="03039-226">Oznacza to, zwykle (ale nie zawsze) usuwanie national signifier z obrazem ISO.</span><span class="sxs-lookup"><span data-stu-id="03039-226">This usually (but not always) means removing the national signifier from the ISO.</span></span> <span data-ttu-id="03039-227">Na przykład dialekt hiszpański używany w Meksyk jest "es-MX".</span><span class="sxs-lookup"><span data-stu-id="03039-227">For example, the dialect of Spanish spoken in Mexico is "es-MX".</span></span> <span data-ttu-id="03039-228">Ma element nadrzędny "es"&mdash;hiszpańskim nieokreślonym w dowolnym kraju.</span><span class="sxs-lookup"><span data-stu-id="03039-228">It has the parent "es"&mdash;Spanish non-specific to any country.</span></span>

<span data-ttu-id="03039-229">Załóżmy, że witryny odbiera żądanie dla zasobu "-Zapraszamy!" przy użyciu kultury "fr-CA".</span><span class="sxs-lookup"><span data-stu-id="03039-229">Imagine your site receives a request for a "Welcome" resource using culture "fr-CA".</span></span> <span data-ttu-id="03039-230">Lokalizacja systemu sprawdza następujące zasoby w kolejności i wybiera pierwszego dopasowania:</span><span class="sxs-lookup"><span data-stu-id="03039-230">The localization system looks for the following resources, in order, and selects the first match:</span></span>

* <span data-ttu-id="03039-231">*Welcome.fr-CA.resx*</span><span class="sxs-lookup"><span data-stu-id="03039-231">*Welcome.fr-CA.resx*</span></span>
* <span data-ttu-id="03039-232">*Welcome.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="03039-232">*Welcome.fr.resx*</span></span>
* <span data-ttu-id="03039-233">*Welcome.resx* (Jeśli `NeutralResourcesLanguage` jest "fr-CA")</span><span class="sxs-lookup"><span data-stu-id="03039-233">*Welcome.resx* (if the `NeutralResourcesLanguage` is "fr-CA")</span></span>

<span data-ttu-id="03039-234">Na przykład jeśli usuniesz określenia kultury ".fr" i ma kultury ustawione na język francuski, domyślny plik zasobu jest do odczytu i są zlokalizowane ciągi.</span><span class="sxs-lookup"><span data-stu-id="03039-234">As an example, if you remove the ".fr" culture designator and you have the culture set to French, the default resource file is read and strings are localized.</span></span> <span data-ttu-id="03039-235">Menedżer zasobów wyznacza domyślny lub rezerwowej zasobu dla Jeśli nic nie spełnia Twoje żądaną kulturę.</span><span class="sxs-lookup"><span data-stu-id="03039-235">The Resource manager designates a default or fallback resource for when nothing meets your requested culture.</span></span> <span data-ttu-id="03039-236">Jeśli chcesz przywrócić klucz tylko, gdy nie ma zasobu dla żądanego kultury nie może mieć domyślnego pliku zasobów.</span><span class="sxs-lookup"><span data-stu-id="03039-236">If you want to just return the key when missing a resource for the requested culture you must not have a default resource file.</span></span>

### <a name="generate-resource-files-with-visual-studio"></a><span data-ttu-id="03039-237">Generowanie plików zasobów z programem Visual Studio</span><span class="sxs-lookup"><span data-stu-id="03039-237">Generate resource files with Visual Studio</span></span>

<span data-ttu-id="03039-238">Jeśli utworzysz plik zasobów w programie Visual Studio bez kultury w nazwie pliku (na przykład *Welcome.resx*), programu Visual Studio utworzy klasę C# z właściwością dla każdego ciągu.</span><span class="sxs-lookup"><span data-stu-id="03039-238">If you create a resource file in Visual Studio without a culture in the file name (for example, *Welcome.resx*), Visual Studio will create a C# class with a property for each string.</span></span> <span data-ttu-id="03039-239">To zwykle nie chcesz z platformy ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="03039-239">That's usually not what you want with ASP.NET Core.</span></span> <span data-ttu-id="03039-240">Zwykle nie ma wartości domyślnej *.resx* pliku zasobów ( *.resx* pliku bez nazwy kultury).</span><span class="sxs-lookup"><span data-stu-id="03039-240">You typically don't have a default *.resx* resource file (a *.resx* file without the culture name).</span></span> <span data-ttu-id="03039-241">Zaleca się tworzenia *.resx* plik o nazwie kultury (na przykład *Welcome.fr.resx*).</span><span class="sxs-lookup"><span data-stu-id="03039-241">We suggest you create the *.resx* file with a culture name (for example *Welcome.fr.resx*).</span></span> <span data-ttu-id="03039-242">Po utworzeniu *.resx* plik o nazwie kultury, Visual Studio nie będzie Generowanie pliku klasy.</span><span class="sxs-lookup"><span data-stu-id="03039-242">When you create a *.resx* file with a culture name, Visual Studio won't generate the class file.</span></span> <span data-ttu-id="03039-243">Przewidujemy, że wielu deweloperów nie utworzy plik domyślny język zasobu.</span><span class="sxs-lookup"><span data-stu-id="03039-243">We anticipate that many developers won't create a default language resource file.</span></span>

### <a name="add-other-cultures"></a><span data-ttu-id="03039-244">Dodawanie innych kultur</span><span class="sxs-lookup"><span data-stu-id="03039-244">Add other cultures</span></span>

<span data-ttu-id="03039-245">Każda kombinacja języka i kultury (innego niż domyślny język) wymaga pliku unikatowy zasób.</span><span class="sxs-lookup"><span data-stu-id="03039-245">Each language and culture combination (other than the default language) requires a unique resource file.</span></span> <span data-ttu-id="03039-246">Tworzenie plików zasobów dla innych kultur i ustawień regionalnych przez tworzenie nowych plików zasobów, w których kodów języka ISO należą do nazwy pliku (na przykład **en-us**, **fr-ca**, i  **pl pl.**).</span><span class="sxs-lookup"><span data-stu-id="03039-246">You create resource files for different cultures and locales by creating new resource files in which the ISO language codes are part of the file name (for example, **en-us**, **fr-ca**, and **en-gb**).</span></span> <span data-ttu-id="03039-247">Te kody ISO umieszcza się pomiędzy nazwą i *.resx* pliku rozszerzenie, podobnie jak w *Welcome.es MX.resx* Hiszpański/Meksyk ().</span><span class="sxs-lookup"><span data-stu-id="03039-247">These ISO codes are placed between the file name and the *.resx* file extension, as in *Welcome.es-MX.resx* (Spanish/Mexico).</span></span>

## <a name="implement-a-strategy-to-select-the-languageculture-for-each-request"></a><span data-ttu-id="03039-248">Wdrożenie strategii wybierz języka/kultury dla każdego żądania</span><span class="sxs-lookup"><span data-stu-id="03039-248">Implement a strategy to select the language/culture for each request</span></span>

### <a name="configure-localization"></a><span data-ttu-id="03039-249">Konfigurowanie lokalizacji</span><span class="sxs-lookup"><span data-stu-id="03039-249">Configure localization</span></span>

<span data-ttu-id="03039-250">Lokalizacja jest skonfigurowana w `ConfigureServices` metody:</span><span class="sxs-lookup"><span data-stu-id="03039-250">Localization is configured in the `ConfigureServices` method:</span></span>

[!code-csharp[](localization/sample/Localization/Program.cs?name=snippet1)]

* <span data-ttu-id="03039-251">`AddLocalization` Dodaje usługi lokalizacji do kontenera usług.</span><span class="sxs-lookup"><span data-stu-id="03039-251">`AddLocalization` Adds the localization services to the services container.</span></span> <span data-ttu-id="03039-252">Powyższy kod także ustawia ścieżkę zasobów do "Zasoby".</span><span class="sxs-lookup"><span data-stu-id="03039-252">The code above also sets the resources path to "Resources".</span></span>

* <span data-ttu-id="03039-253">`AddViewLocalization` Dodaje obsługę wyświetlanie zlokalizowanych plików.</span><span class="sxs-lookup"><span data-stu-id="03039-253">`AddViewLocalization` Adds support for localized view files.</span></span> <span data-ttu-id="03039-254">W tym widoku próbki lokalizacja jest oparta na sufiks widoku pliku.</span><span class="sxs-lookup"><span data-stu-id="03039-254">In this sample view localization is based on the view file suffix.</span></span> <span data-ttu-id="03039-255">Na przykład "fr" w *Index.fr.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="03039-255">For example "fr" in the *Index.fr.cshtml* file.</span></span>

* <span data-ttu-id="03039-256">`AddDataAnnotationsLocalization` Dodaje wsparcie dla zlokalizowane `DataAnnotations` weryfikacji komunikaty za pośrednictwem `IStringLocalizer` obiektów abstrakcyjnych.</span><span class="sxs-lookup"><span data-stu-id="03039-256">`AddDataAnnotationsLocalization` Adds support for localized `DataAnnotations` validation messages through `IStringLocalizer` abstractions.</span></span>

### <a name="localization-middleware"></a><span data-ttu-id="03039-257">Lokalizacja oprogramowania pośredniczącego</span><span class="sxs-lookup"><span data-stu-id="03039-257">Localization middleware</span></span>

<span data-ttu-id="03039-258">Bieżąca kultura na żądanie znajduje się w lokalizacji [oprogramowanie pośredniczące](xref:fundamentals/middleware/index).</span><span class="sxs-lookup"><span data-stu-id="03039-258">The current culture on a request is set in the localization [Middleware](xref:fundamentals/middleware/index).</span></span> <span data-ttu-id="03039-259">Oprogramowanie pośredniczące lokalizacji jest włączone w `Configure` metody.</span><span class="sxs-lookup"><span data-stu-id="03039-259">The localization middleware is enabled in the `Configure` method.</span></span> <span data-ttu-id="03039-260">Oprogramowanie pośredniczące lokalizacja musi być skonfigurowana przed wszelkie oprogramowanie pośredniczące, które może sprawdzić kultury żądania (na przykład `app.UseMvcWithDefaultRoute()`).</span><span class="sxs-lookup"><span data-stu-id="03039-260">The localization middleware must be configured before any middleware which might check the request culture (for example, `app.UseMvcWithDefaultRoute()`).</span></span>

[!code-csharp[](localization/sample/Localization/Program.cs?name=snippet2)]

<span data-ttu-id="03039-261">`UseRequestLocalization` Inicjuje `RequestLocalizationOptions` obiektu.</span><span class="sxs-lookup"><span data-stu-id="03039-261">`UseRequestLocalization` initializes a `RequestLocalizationOptions` object.</span></span> <span data-ttu-id="03039-262">Na każde żądanie listy z `RequestCultureProvider` w `RequestLocalizationOptions` wyliczeniu i pierwszy dostawca, który pomyślnie można określić kulturę żądania jest używany.</span><span class="sxs-lookup"><span data-stu-id="03039-262">On every request the list of `RequestCultureProvider` in the `RequestLocalizationOptions` is enumerated and the first provider that can successfully determine the request culture is used.</span></span> <span data-ttu-id="03039-263">Domyślnych dostawców pochodzą z `RequestLocalizationOptions` klasy:</span><span class="sxs-lookup"><span data-stu-id="03039-263">The default providers come from the `RequestLocalizationOptions` class:</span></span>

1. `QueryStringRequestCultureProvider`
2. `CookieRequestCultureProvider`
3. `AcceptLanguageHeaderRequestCultureProvider`

<span data-ttu-id="03039-264">Na domyślnej liście przechodzi od najbardziej do najmniej specyficznych.</span><span class="sxs-lookup"><span data-stu-id="03039-264">The default list goes from most specific to least specific.</span></span> <span data-ttu-id="03039-265">W dalszej części tego artykułu możemy Zobacz jak zmienić kolejność i nawet dodać dostawcę kultura niestandardowa.</span><span class="sxs-lookup"><span data-stu-id="03039-265">Later in the article we'll see how you can change the order and even add a custom culture provider.</span></span> <span data-ttu-id="03039-266">Jeśli żaden z dostawców można określić kulturę żądania `DefaultRequestCulture` jest używany.</span><span class="sxs-lookup"><span data-stu-id="03039-266">If none of the providers can determine the request culture, the `DefaultRequestCulture` is used.</span></span>

### <a name="querystringrequestcultureprovider"></a><span data-ttu-id="03039-267">QueryStringRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="03039-267">QueryStringRequestCultureProvider</span></span>

<span data-ttu-id="03039-268">Niektóre aplikacje użyje ciąg zapytania można ustawić [kultury i kultury interfejsu użytkownika](https://msdn.microsoft.com/library/system.globalization.cultureinfo.aspx).</span><span class="sxs-lookup"><span data-stu-id="03039-268">Some apps will use a query string to set the [culture and UI culture](https://msdn.microsoft.com/library/system.globalization.cultureinfo.aspx).</span></span> <span data-ttu-id="03039-269">W przypadku aplikacji korzystających z pliku cookie lub podejście nagłówek Accept-Language dodanie ciągu zapytania do adresu URL jest przydatne w przypadku debugowania i testowania kodu.</span><span class="sxs-lookup"><span data-stu-id="03039-269">For apps that use the cookie or Accept-Language header approach, adding a query string to the URL is useful for debugging and testing code.</span></span> <span data-ttu-id="03039-270">Domyślnie `QueryStringRequestCultureProvider` jest zarejestrowany jako pierwszy dostawca lokalizacji w `RequestCultureProvider` listy.</span><span class="sxs-lookup"><span data-stu-id="03039-270">By default, the `QueryStringRequestCultureProvider` is registered as the first localization provider in the `RequestCultureProvider` list.</span></span> <span data-ttu-id="03039-271">Przekazywanie parametrów ciągu zapytania `culture` i `ui-culture`.</span><span class="sxs-lookup"><span data-stu-id="03039-271">You pass the query string parameters `culture` and `ui-culture`.</span></span> <span data-ttu-id="03039-272">Poniższy przykład przedstawia określoną kulturę (region i język) Hiszpański/Meksyk:</span><span class="sxs-lookup"><span data-stu-id="03039-272">The following example sets the specific culture (language and region) to Spanish/Mexico:</span></span>

   `http://localhost:5000/?culture=es-MX&ui-culture=es-MX`

<span data-ttu-id="03039-273">Jeśli możesz przekazać tylko w jednym z dwóch (`culture` lub `ui-culture`), dostawca ciąg zapytania zostanie ustawiony obie wartości przy użyciu jednego przekazany w.</span><span class="sxs-lookup"><span data-stu-id="03039-273">If you only pass in one of the two (`culture` or `ui-culture`), the query string provider will set both values using the one you passed in.</span></span> <span data-ttu-id="03039-274">Na przykład ustawienie kultury właśnie ustawi zarówno `Culture` i `UICulture`:</span><span class="sxs-lookup"><span data-stu-id="03039-274">For example, setting just the culture will set both the `Culture` and the `UICulture`:</span></span>

   `http://localhost:5000/?culture=es-MX`

### <a name="cookierequestcultureprovider"></a><span data-ttu-id="03039-275">CookieRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="03039-275">CookieRequestCultureProvider</span></span>

<span data-ttu-id="03039-276">Aplikacje w środowisku produkcyjnym zostanie często udostępniają mechanizm można ustawić kultury z plikiem cookie kultury platformy ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="03039-276">Production apps will often provide a mechanism to set the culture with the ASP.NET Core culture cookie.</span></span> <span data-ttu-id="03039-277">Użyj `MakeCookieValue` metodę w celu utworzenia pliku cookie.</span><span class="sxs-lookup"><span data-stu-id="03039-277">Use the `MakeCookieValue` method to create a cookie.</span></span>

<span data-ttu-id="03039-278">`CookieRequestCultureProvider` `DefaultCookieName` Informacji kultury zwraca preferowana przez domyślnej nazwy pliku cookie używane w celu śledzenia użytkowników.</span><span class="sxs-lookup"><span data-stu-id="03039-278">The `CookieRequestCultureProvider` `DefaultCookieName` returns the default cookie name used to track the user's preferred culture information.</span></span> <span data-ttu-id="03039-279">Domyślna nazwa pliku cookie jest `.AspNetCore.Culture`.</span><span class="sxs-lookup"><span data-stu-id="03039-279">The default cookie name is `.AspNetCore.Culture`.</span></span>

<span data-ttu-id="03039-280">Format pliku cookie jest `c=%LANGCODE%|uic=%LANGCODE%`, gdzie `c` jest `Culture` i `uic` jest `UICulture`, na przykład:</span><span class="sxs-lookup"><span data-stu-id="03039-280">The cookie format is `c=%LANGCODE%|uic=%LANGCODE%`, where `c` is `Culture` and `uic` is `UICulture`, for example:</span></span>

    c=en-UK|uic=en-US

<span data-ttu-id="03039-281">Jeśli określono tylko jedna z informacji kultury lub kultury interfejsu użytkownika, określonej kultury będzie używany dla kultury informacji i kultury interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="03039-281">If you only specify one of culture info and UI culture, the specified culture will be used for both culture info and UI culture.</span></span>

### <a name="the-accept-language-http-header"></a><span data-ttu-id="03039-282">Nagłówek Accept-Language HTTP</span><span class="sxs-lookup"><span data-stu-id="03039-282">The Accept-Language HTTP header</span></span>

<span data-ttu-id="03039-283">[Nagłówka Accept-Language](https://www.w3.org/International/questions/qa-accept-lang-locales) można ustawić w większości przeglądarek i pierwotnie był przeznaczony do Określ język użytkownika.</span><span class="sxs-lookup"><span data-stu-id="03039-283">The [Accept-Language header](https://www.w3.org/International/questions/qa-accept-lang-locales) is settable in most browsers and was originally intended to specify the user's language.</span></span> <span data-ttu-id="03039-284">To ustawienie wskazuje co przeglądarki została ustawiona do wysłania lub odziedziczył system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="03039-284">This setting indicates what the browser has been set to send or has inherited from the underlying operating system.</span></span> <span data-ttu-id="03039-285">Nagłówek Accept-Language HTTP z żądanie przeglądarki nie jest infallible sposób, aby wykryć preferowanego języka użytkownika (zobacz [ustawienie Preferencje językowe w przeglądarce](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span><span class="sxs-lookup"><span data-stu-id="03039-285">The Accept-Language HTTP header from a browser request isn't an infallible way to detect the user's preferred language (see [Setting language preferences in a browser](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span></span> <span data-ttu-id="03039-286">Aplikacji produkcyjnej powinny uwzględniać sposób, aby użytkownik mógł dostosować wybór kultury.</span><span class="sxs-lookup"><span data-stu-id="03039-286">A production app should include a way for a user to customize their choice of culture.</span></span>

### <a name="set-the-accept-language-http-header-in-ie"></a><span data-ttu-id="03039-287">Ustaw nagłówek Accept-Language HTTP w programie Internet Explorer</span><span class="sxs-lookup"><span data-stu-id="03039-287">Set the Accept-Language HTTP header in IE</span></span>

1. <span data-ttu-id="03039-288">Na koło zębate ikonę, naciśnij **Opcje internetowe**.</span><span class="sxs-lookup"><span data-stu-id="03039-288">From the gear icon, tap **Internet Options**.</span></span>

2. <span data-ttu-id="03039-289">Wybierz **języków**.</span><span class="sxs-lookup"><span data-stu-id="03039-289">Tap **Languages**.</span></span>

    ![Opcje internetowe](localization/_static/lang.png)

3. <span data-ttu-id="03039-291">Wybierz **Ustaw preferencje językowe**.</span><span class="sxs-lookup"><span data-stu-id="03039-291">Tap **Set Language Preferences**.</span></span>

4. <span data-ttu-id="03039-292">Wybierz **dodać język**.</span><span class="sxs-lookup"><span data-stu-id="03039-292">Tap **Add a language**.</span></span>

5. <span data-ttu-id="03039-293">Dodaj język.</span><span class="sxs-lookup"><span data-stu-id="03039-293">Add the language.</span></span>

6. <span data-ttu-id="03039-294">Wybierz język, a następnie wybierz **Przenieś w górę**.</span><span class="sxs-lookup"><span data-stu-id="03039-294">Tap the language, then tap **Move Up**.</span></span>

### <a name="use-a-custom-provider"></a><span data-ttu-id="03039-295">Użyj niestandardowego dostawcy</span><span class="sxs-lookup"><span data-stu-id="03039-295">Use a custom provider</span></span>

<span data-ttu-id="03039-296">Załóżmy, że chcesz umożliwić klientom przechowywanie ich języka i kultury w bazach danych.</span><span class="sxs-lookup"><span data-stu-id="03039-296">Suppose you want to let your customers store their language and culture in your databases.</span></span> <span data-ttu-id="03039-297">Można zapisać dostawcy wyszukiwania te wartości dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="03039-297">You could write a provider to look up these values for the user.</span></span> <span data-ttu-id="03039-298">Poniższy kod przedstawia sposób dodawania niestandardowego dostawcy:</span><span class="sxs-lookup"><span data-stu-id="03039-298">The following code shows how to add a custom provider:</span></span>

```csharp
private const string enUSCulture = "en-US";

services.Configure<RequestLocalizationOptions>(options =>
{
    var supportedCultures = new[]
    {
        new CultureInfo(enUSCulture),
        new CultureInfo("fr")
    };

    options.DefaultRequestCulture = new RequestCulture(culture: enUSCulture, uiCulture: enUSCulture);
    options.SupportedCultures = supportedCultures;
    options.SupportedUICultures = supportedCultures;

    options.RequestCultureProviders.Insert(0, new CustomRequestCultureProvider(async context =>
    {
        // My custom request culture logic
        return new ProviderCultureResult("en");
    }));
});
```

<span data-ttu-id="03039-299">Użyj `RequestLocalizationOptions` Aby dodać lub usunąć lokalizacji dostawcy.</span><span class="sxs-lookup"><span data-stu-id="03039-299">Use `RequestLocalizationOptions` to add or remove localization providers.</span></span>

### <a name="set-the-culture-programmatically"></a><span data-ttu-id="03039-300">Ustaw programowo kultury</span><span class="sxs-lookup"><span data-stu-id="03039-300">Set the culture programmatically</span></span>

<span data-ttu-id="03039-301">W tym przykładzie **Localization.StarterWeb** projektu na [GitHub](https://github.com/aspnet/entropy) zawiera interfejsu użytkownika można ustawić `Culture`.</span><span class="sxs-lookup"><span data-stu-id="03039-301">This sample **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) contains UI to set the `Culture`.</span></span> <span data-ttu-id="03039-302">*Views/Shared/_SelectLanguagePartial.cshtml* pliku można wybrać z listy obsługiwanych kultur kultura:</span><span class="sxs-lookup"><span data-stu-id="03039-302">The *Views/Shared/_SelectLanguagePartial.cshtml* file allows you to select the culture from the list of supported cultures:</span></span>


[!code-cshtml[](localization/sample/Localization/Views/Shared/_SelectLanguagePartial.cshtml)]

<span data-ttu-id="03039-303">*Views/Shared/_SelectLanguagePartial.cshtml* plik zostanie dodany do `footer` sekcji pliku układu, będą dostępne dla wszystkich widoków:</span><span class="sxs-lookup"><span data-stu-id="03039-303">The *Views/Shared/_SelectLanguagePartial.cshtml* file is added to the `footer` section of the layout file so it will be available to all views:</span></span>

[!code-cshtml[](localization/sample/Localization/Views/Shared/_Layout.cshtml?range=43-56&highlight=10)]

<span data-ttu-id="03039-304">`SetLanguage` Metoda ustawia plik cookie kultury.</span><span class="sxs-lookup"><span data-stu-id="03039-304">The `SetLanguage` method sets the culture cookie.</span></span>

[!code-csharp[](localization/sample/Localization/Controllers/HomeController.cs?range=57-67)]

<span data-ttu-id="03039-305">Nie można dołączyć *_SelectLanguagePartial.cshtml* do przykładowy kod dla tego projektu.</span><span class="sxs-lookup"><span data-stu-id="03039-305">You can't plug in the *_SelectLanguagePartial.cshtml* to sample code for this project.</span></span> <span data-ttu-id="03039-306">**Localization.StarterWeb** projektu na [GitHub](https://github.com/aspnet/entropy) ma kod przepływ `RequestLocalizationOptions` do częściowego za pośrednictwem Razor [iniekcji zależności](dependency-injection.md) kontenera.</span><span class="sxs-lookup"><span data-stu-id="03039-306">The **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) has code to flow the `RequestLocalizationOptions` to a Razor partial through the [Dependency Injection](dependency-injection.md) container.</span></span>

## <a name="globalization-and-localization-terms"></a><span data-ttu-id="03039-307">Globalizacja i lokalizacja</span><span class="sxs-lookup"><span data-stu-id="03039-307">Globalization and localization terms</span></span>

<span data-ttu-id="03039-308">Proces lokalizowania aplikacji wymaga również podstawową wiedzę na temat zestawów znaków odpowiednich często używane w nowoczesnych programowania i zrozumienia problemów związanych z nimi.</span><span class="sxs-lookup"><span data-stu-id="03039-308">The process of localizing your app also requires a basic understanding of relevant character sets commonly used in modern software development and an understanding of the issues associated with them.</span></span> <span data-ttu-id="03039-309">Mimo że wszystkie komputery przechowywanie tekstu w postaci liczb (kody), różnych systemów przechowywania tego samego tekstu przy użyciu innej liczby.</span><span class="sxs-lookup"><span data-stu-id="03039-309">Although all computers store text as numbers (codes), different systems store the same text using different numbers.</span></span> <span data-ttu-id="03039-310">Proces lokalizacji odwołuje się do tłumaczenia aplikacji interfejsu użytkownika (UI) dla określonej kultury/ustawień regionalnych.</span><span class="sxs-lookup"><span data-stu-id="03039-310">The localization process refers to translating the app user interface (UI) for a specific culture/locale.</span></span>

<span data-ttu-id="03039-311">[Możliwość lokalizacji](/dotnet/standard/globalization-localization/localizability-review) pośredniego proces weryfikacji, że uniwersalnych aplikacji jest gotowy do lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="03039-311">[Localizability](/dotnet/standard/globalization-localization/localizability-review) is an intermediate process for verifying that a globalized app is ready for localization.</span></span>

<span data-ttu-id="03039-312">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) format nazwy kultury jest `<languagecode2>-<country/regioncode2>`, gdzie `<languagecode2>` jest kod języka i `<country/regioncode2>` przeszczepiania kodu.</span><span class="sxs-lookup"><span data-stu-id="03039-312">The [RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) format for the culture name is `<languagecode2>-<country/regioncode2>`, where `<languagecode2>` is the language code and `<country/regioncode2>` is the subculture code.</span></span> <span data-ttu-id="03039-313">Na przykład `es-CL` dla języka hiszpańskiego (podrzędnej lokacji), `en-US` angielski (Stany Zjednoczone), a `en-AU` dla języka angielskiego (Australia).</span><span class="sxs-lookup"><span data-stu-id="03039-313">For example, `es-CL` for Spanish (Chile), `en-US` for English (United States), and `en-AU` for English (Australia).</span></span> <span data-ttu-id="03039-314">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) jest kombinacją ISO 639 Kod kultury małe dwuliterowych skojarzone z językiem normy ISO 3166, kod przeszczepiania wielkie dwuliterowych skojarzone z kraju lub regionu.</span><span class="sxs-lookup"><span data-stu-id="03039-314">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) is a combination of an ISO 639 two-letter lowercase culture code associated with a language and an ISO 3166 two-letter uppercase subculture code associated with a country or region.</span></span> <span data-ttu-id="03039-315">Zobacz [nazwa kultury języka](https://msdn.microsoft.com/library/ee825488(v=cs.20).aspx).</span><span class="sxs-lookup"><span data-stu-id="03039-315">See [Language Culture Name](https://msdn.microsoft.com/library/ee825488(v=cs.20).aspx).</span></span>

<span data-ttu-id="03039-316">Przystosowywanie do warunków międzynarodowych jest często skracana do "I18N".</span><span class="sxs-lookup"><span data-stu-id="03039-316">Internationalization is often abbreviated to "I18N".</span></span> <span data-ttu-id="03039-317">Skrót przyjmuje litery imię i nazwisko, a liczba liter między nimi tak 18 oznacza liczbę litery od pierwszego "I" i ostatniego "N".</span><span class="sxs-lookup"><span data-stu-id="03039-317">The abbreviation takes the first and last letters and the number of letters between them, so 18 stands for the number of letters between the first "I" and the last "N".</span></span> <span data-ttu-id="03039-318">To samo dotyczy (G11N), lokalizacja i globalizacja (L10N).</span><span class="sxs-lookup"><span data-stu-id="03039-318">The same applies to Globalization (G11N), and Localization (L10N).</span></span>

<span data-ttu-id="03039-319">Warunki:</span><span class="sxs-lookup"><span data-stu-id="03039-319">Terms:</span></span>

* <span data-ttu-id="03039-320">Globalizacja (G11N): Proces polegający na wprowadzaniu aplikacji obsługi różnych języków i regionów.</span><span class="sxs-lookup"><span data-stu-id="03039-320">Globalization (G11N): The process of making an app support different languages and regions.</span></span>
* <span data-ttu-id="03039-321">Lokalizacja (L10N): Proces dostosowywania aplikacji dla danego języka i regionu.</span><span class="sxs-lookup"><span data-stu-id="03039-321">Localization (L10N): The process of customizing an app for a given language and region.</span></span>
* <span data-ttu-id="03039-322">Przystosowywanie do warunków międzynarodowych (I18N): w tym artykule opisano lokalizacja i globalizacja.</span><span class="sxs-lookup"><span data-stu-id="03039-322">Internationalization (I18N): Describes both globalization and localization.</span></span>
* <span data-ttu-id="03039-323">Kultura: Jest język i, opcjonalnie, region.</span><span class="sxs-lookup"><span data-stu-id="03039-323">Culture: It's a language and, optionally, a region.</span></span>
* <span data-ttu-id="03039-324">Określa kulturę neutralną: kultura, która ma określony język, ale nie regionu.</span><span class="sxs-lookup"><span data-stu-id="03039-324">Neutral culture: A culture that has a specified language, but not a region.</span></span> <span data-ttu-id="03039-325">(na przykład "en", "es")</span><span class="sxs-lookup"><span data-stu-id="03039-325">(for example "en", "es")</span></span>
* <span data-ttu-id="03039-326">Określonych kultura: kultura, która ma określony język i region.</span><span class="sxs-lookup"><span data-stu-id="03039-326">Specific culture: A culture that has a specified language and region.</span></span> <span data-ttu-id="03039-327">(na przykład "en US", "pl pl.", "es-CL")</span><span class="sxs-lookup"><span data-stu-id="03039-327">(for example "en-US", "en-GB", "es-CL")</span></span>
* <span data-ttu-id="03039-328">Element nadrzędny kultury: kultury neutralnej, który zawiera określoną kulturę.</span><span class="sxs-lookup"><span data-stu-id="03039-328">Parent culture: The neutral culture that contains a specific culture.</span></span> <span data-ttu-id="03039-329">(na przykład "en" to Kultura nadrzędna "en US" i "pl pl.")</span><span class="sxs-lookup"><span data-stu-id="03039-329">(for example, "en" is the parent culture of "en-US" and "en-GB")</span></span>
* <span data-ttu-id="03039-330">Ustawienia regionalne: Ustawień regionalnych jest taka sama jak kultury.</span><span class="sxs-lookup"><span data-stu-id="03039-330">Locale: A locale is the same as a culture.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="03039-331">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="03039-331">Additional resources</span></span>

* <span data-ttu-id="03039-332">[Projekt Localization.StarterWeb](https://github.com/aspnet/entropy) używane w artykule.</span><span class="sxs-lookup"><span data-stu-id="03039-332">[Localization.StarterWeb project](https://github.com/aspnet/entropy) used in the article.</span></span>
* [<span data-ttu-id="03039-333">Pliki zasobów w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="03039-333">Resource Files in Visual Studio</span></span>](/cpp/windows/resource-files-visual-studio)
* [<span data-ttu-id="03039-334">Zasoby w pliki .resx</span><span class="sxs-lookup"><span data-stu-id="03039-334">Resources in .resx Files</span></span>](/dotnet/framework/resources/working-with-resx-files-programmatically)
* [<span data-ttu-id="03039-335">Zestaw narzędzi firmy Microsoft wielojęzyczny aplikacji</span><span class="sxs-lookup"><span data-stu-id="03039-335">Microsoft Multilingual App Toolkit</span></span>](https://marketplace.visualstudio.com/items?itemName=MultilingualAppToolkit.MultilingualAppToolkit-18308)
