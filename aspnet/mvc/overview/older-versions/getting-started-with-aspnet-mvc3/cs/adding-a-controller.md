---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-a-controller
title: Dodawanie kontrolera (C#) | Dokumentacja firmy Microsoft
author: Rick-Anderson
description: Ten samouczek pokazuje podstawowe informacje dotyczące tworzenia aplikacji sieci Web programu ASP.NET MVC przy użyciu programu Microsoft Visual Web Developer 2010 Express Serivice dodatkiem Service Pack 1, które...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/12/2011
ms.topic: article
ms.assetid: 0b8c56b5-fdf3-42dd-a866-98fbe0ab78a0
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-a-controller
msc.type: authoredcontent
ms.openlocfilehash: 963d3bbbadf408d7045c50bfd693069e4097d45d
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
ms.locfileid: "30868298"
---
<a name="adding-a-controller-c"></a><span data-ttu-id="192b9-103">Dodawanie kontrolera (C#)</span><span class="sxs-lookup"><span data-stu-id="192b9-103">Adding a Controller (C#)</span></span>
====================
<span data-ttu-id="192b9-104">przez [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="192b9-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> > [!NOTE]
> > <span data-ttu-id="192b9-105">Dostępna jest zaktualizowana wersja tego samouczka [tutaj](../../../getting-started/introduction/getting-started.md) używającej platformy ASP.NET MVC 5 i Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="192b9-105">An updated version of this tutorial is available [here](../../../getting-started/introduction/getting-started.md) that uses ASP.NET MVC 5 and Visual Studio 2013.</span></span> <span data-ttu-id="192b9-106">Jest bardziej bezpieczne, łatwiej wykonać i pokazuje więcej funkcji.</span><span class="sxs-lookup"><span data-stu-id="192b9-106">It's more secure, much simpler to follow and demonstrates more features.</span></span>
> 
> 
> <span data-ttu-id="192b9-107">Ten samouczek pokazuje podstawowe informacje dotyczące tworzenia aplikacji sieci Web programu ASP.NET MVC przy użyciu Microsoft Visual Web Developer 2010 Express Service Pack 1, która jest bezpłatna wersja programu Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="192b9-107">This tutorial will teach you the basics of building an ASP.NET MVC Web application using Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio.</span></span> <span data-ttu-id="192b9-108">Przed rozpoczęciem upewnij się, że po zainstalowaniu wymagania wstępne wymienione poniżej.</span><span class="sxs-lookup"><span data-stu-id="192b9-108">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="192b9-109">Można zainstalować wszystkie z nich, klikając poniższe łącze: [Instalatora platformy sieci Web](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="192b9-109">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="192b9-110">Alternatywnie można zainstalować oddzielnie wymagania wstępne, korzystając z następujących linków:</span><span class="sxs-lookup"><span data-stu-id="192b9-110">Alternatively, you can individually install the prerequisites using the following links:</span></span>
> 
> - [<span data-ttu-id="192b9-111">Visual Studio Web Developer Express z dodatkiem SP1 wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="192b9-111">Visual Studio Web Developer Express SP1 prerequisites</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)
> - [<span data-ttu-id="192b9-112">Aktualizacji narzędzi programu ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="192b9-112">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
> - <span data-ttu-id="192b9-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(środowisko uruchomieniowe + narzędzia pomocy technicznej)</span><span class="sxs-lookup"><span data-stu-id="192b9-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>
> 
> <span data-ttu-id="192b9-114">Jeśli używasz programu Visual Studio 2010, zamiast Visual Web Developer 2010, zainstaluj wymagania wstępne, klikając poniższe łącze: [wymagania wstępne programu Visual Studio 2010](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="192b9-114">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span>
> 
> <span data-ttu-id="192b9-115">Projekt Visual Web Developer z kodu źródłowego C# jest dostępna powiązany z tym tematem.</span><span class="sxs-lookup"><span data-stu-id="192b9-115">A Visual Web Developer project with C# source code is available to accompany this topic.</span></span> <span data-ttu-id="192b9-116">[Pobierz wersję języka C#](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span><span class="sxs-lookup"><span data-stu-id="192b9-116">[Download the C# version](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span></span> <span data-ttu-id="192b9-117">Jeśli wolisz Visual Basic, przełącz się do [wersji Visual Basic](../vb/intro-to-aspnet-mvc-3.md) tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="192b9-117">If you prefer Visual Basic, switch to the [Visual Basic version](../vb/intro-to-aspnet-mvc-3.md) of this tutorial.</span></span>


<span data-ttu-id="192b9-118">Oznacza MVC *model-view-controller*.</span><span class="sxs-lookup"><span data-stu-id="192b9-118">MVC stands for *model-view-controller*.</span></span> <span data-ttu-id="192b9-119">MVC to wzorzec do tworzenia aplikacji, które są dobrze zaprojektowanej architektury i łatwe w konserwacji.</span><span class="sxs-lookup"><span data-stu-id="192b9-119">MVC is a pattern for developing applications that are well architected and easy to maintain.</span></span> <span data-ttu-id="192b9-120">Aplikacje oparte na MVC zawiera:</span><span class="sxs-lookup"><span data-stu-id="192b9-120">MVC-based applications contain:</span></span>

- <span data-ttu-id="192b9-121">Kontrolery: Klas, które obsłużyć żądań przychodzących do aplikacji, pobrać modelu danych, a następnie określ szablonów widoków, które zwracają odpowiedź do klienta.</span><span class="sxs-lookup"><span data-stu-id="192b9-121">Controllers: Classes that handle incoming requests to the application, retrieve model data, and then specify view templates that return a response to the client.</span></span>
- <span data-ttu-id="192b9-122">Modele: Klasy reprezentujące dane aplikacji, które korzystają z logikę weryfikacji do wymuszania reguł biznesowych dla tych danych.</span><span class="sxs-lookup"><span data-stu-id="192b9-122">Models: Classes that represent the data of the application and that use validation logic to enforce business rules for that data.</span></span>
- <span data-ttu-id="192b9-123">Widoków: Pliki szablonów aplikacja używa do dynamicznego generowania odpowiedzi HTML.</span><span class="sxs-lookup"><span data-stu-id="192b9-123">Views: Template files that your application uses to dynamically generate HTML responses.</span></span>

<span data-ttu-id="192b9-124">Firma Microsoft będzie można obejmujące wszystkie te pojęcia w tym samouczku i opisano, jak ich używać do tworzenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="192b9-124">We'll be covering all these concepts in this tutorial series and show you how to use them to build an application.</span></span>

<span data-ttu-id="192b9-125">Zacznijmy od utworzenia klasy kontrolera.</span><span class="sxs-lookup"><span data-stu-id="192b9-125">Let's begin by creating a controller class.</span></span> <span data-ttu-id="192b9-126">W **Eksploratora rozwiązań**, kliknij prawym przyciskiem myszy *kontrolerów* folder, a następnie wybierz **Dodaj kontroler**.</span><span class="sxs-lookup"><span data-stu-id="192b9-126">In **Solution Explorer**, right-click the *Controllers* folder and then select **Add Controller**.</span></span>

[![](adding-a-controller/_static/image2.png)](adding-a-controller/_static/image1.png)

<span data-ttu-id="192b9-127">Nadaj nazwę nowemu kontrolerowi "HelloWorldController".</span><span class="sxs-lookup"><span data-stu-id="192b9-127">Name your new controller "HelloWorldController".</span></span> <span data-ttu-id="192b9-128">Pozostaw domyślny szablon jako **pusty kontroler** i kliknij przycisk **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="192b9-128">Leave the default template as **Empty controller** and click **Add**.</span></span>

<span data-ttu-id="192b9-129">[![AddHelloWorldController](adding-a-controller/_static/image4.png)](adding-a-controller/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="192b9-129">[![AddHelloWorldController](adding-a-controller/_static/image4.png)](adding-a-controller/_static/image3.png)</span></span>

<span data-ttu-id="192b9-130">Zwróć uwagę, w **Eksploratora rozwiązań** czy nowego pliku została utworzona o nazwie *HelloWorldController.cs*.</span><span class="sxs-lookup"><span data-stu-id="192b9-130">Notice in **Solution Explorer** that a new file has been created named *HelloWorldController.cs*.</span></span> <span data-ttu-id="192b9-131">Plik jest otwarty w IDE.</span><span class="sxs-lookup"><span data-stu-id="192b9-131">The file is open in the IDE.</span></span>

![](adding-a-controller/_static/image5.png)

<span data-ttu-id="192b9-132">Wewnątrz `public class HelloWorldController` bloków, Utwórz dwie metody, których wyglądać podobnie do następującego kodu.</span><span class="sxs-lookup"><span data-stu-id="192b9-132">Inside the `public class HelloWorldController` block, create two methods that look like the following code.</span></span> <span data-ttu-id="192b9-133">Kontroler zwróci ciąg HTML jako przykład.</span><span class="sxs-lookup"><span data-stu-id="192b9-133">The controller will return a string of HTML as an example.</span></span>

[!code-csharp[Main](adding-a-controller/samples/sample1.cs)]

<span data-ttu-id="192b9-134">Kontroler nosi nazwę `HelloWorldController` i nosi nazwę pierwsza metoda powyżej `Index`.</span><span class="sxs-lookup"><span data-stu-id="192b9-134">Your controller is named `HelloWorldController` and the first method above is named `Index`.</span></span> <span data-ttu-id="192b9-135">Teraz wywołać go w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="192b9-135">Let's invoke it from a browser.</span></span> <span data-ttu-id="192b9-136">Uruchom aplikację (naciśnij klawisz F5 lub Ctrl + F5).</span><span class="sxs-lookup"><span data-stu-id="192b9-136">Run the application (press F5 or Ctrl+F5).</span></span> <span data-ttu-id="192b9-137">W przeglądarce Dołącz "HelloWorld" do ścieżki w pasku adresu.</span><span class="sxs-lookup"><span data-stu-id="192b9-137">In the browser, append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="192b9-138">(Na przykład na ilustracji poniżej jego `http://localhost:43246/HelloWorld.`) strony w przeglądarce będzie wyglądać podobnie jak na poniższym zrzucie ekranu.</span><span class="sxs-lookup"><span data-stu-id="192b9-138">(For example, in the illustration below, it's `http://localhost:43246/HelloWorld.`) The page in the browser will look like the following screenshot.</span></span> <span data-ttu-id="192b9-139">W powyższej metodzie kod zwrócony ciąg bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="192b9-139">In the method above, the code returned a string directly.</span></span> <span data-ttu-id="192b9-140">Informację systemu tylko zwrócić kod HTML i jak!</span><span class="sxs-lookup"><span data-stu-id="192b9-140">You told the system to just return some HTML, and it did!</span></span>

![](adding-a-controller/_static/image6.png)

<span data-ttu-id="192b9-141">ASP.NET MVC wywołuje klasy innego kontrolera (i różnych metod akcji w nich), w zależności od przychodzącego adresu URL.</span><span class="sxs-lookup"><span data-stu-id="192b9-141">ASP.NET MVC invokes different controller classes (and different action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="192b9-142">Domyślna logika mapowania używane przez program ASP.NET MVC w formacie takie ustalenie, jaki kod do wywołania:</span><span class="sxs-lookup"><span data-stu-id="192b9-142">The default mapping logic used by ASP.NET MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="192b9-143">Pierwsza część adresu URL określa klasy kontrolera do wykonania.</span><span class="sxs-lookup"><span data-stu-id="192b9-143">The first part of the URL determines the controller class to execute.</span></span> <span data-ttu-id="192b9-144">Dlatego */HelloWorld* mapuje `HelloWorldController` klasy.</span><span class="sxs-lookup"><span data-stu-id="192b9-144">So */HelloWorld* maps to the `HelloWorldController` class.</span></span> <span data-ttu-id="192b9-145">Druga część adresu URL określa metody akcji w klasie, do wykonania.</span><span class="sxs-lookup"><span data-stu-id="192b9-145">The second part of the URL determines the action method on the class to execute.</span></span> <span data-ttu-id="192b9-146">Dlatego */HelloWorld/indeksu* spowodowałoby `Index` metody `HelloWorldController` klasy do wykonania.</span><span class="sxs-lookup"><span data-stu-id="192b9-146">So */HelloWorld/Index* would cause the `Index` method of the `HelloWorldController` class to execute.</span></span> <span data-ttu-id="192b9-147">Należy zauważyć, że Musieliśmy aby przejść do */HelloWorld* i `Index` użyto metody domyślnie.</span><span class="sxs-lookup"><span data-stu-id="192b9-147">Notice that we only had to browse to */HelloWorld* and the `Index` method was used by default.</span></span> <span data-ttu-id="192b9-148">Jest to spowodowane metodę o nazwie `Index` jest domyślna metoda, która zostanie wywołana na kontrolerze, jeśli nie został jawnie określony.</span><span class="sxs-lookup"><span data-stu-id="192b9-148">This is because a method named `Index` is the default method that will be called on a controller if one is not explicitly specified.</span></span>

<span data-ttu-id="192b9-149">Przejdź do `http://localhost:xxxx/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="192b9-149">Browse to `http://localhost:xxxx/HelloWorld/Welcome`.</span></span> <span data-ttu-id="192b9-150">`Welcome` Metoda uruchamia i zwraca ciąg "Jest to metoda akcji Zapraszamy...".</span><span class="sxs-lookup"><span data-stu-id="192b9-150">The `Welcome` method runs and returns the string "This is the Welcome action method...".</span></span> <span data-ttu-id="192b9-151">Domyślne mapowanie MVC jest `/[Controller]/[ActionName]/[Parameters]`.</span><span class="sxs-lookup"><span data-stu-id="192b9-151">The default MVC mapping is `/[Controller]/[ActionName]/[Parameters]`.</span></span> <span data-ttu-id="192b9-152">Dla tego adresu URL kontrolera jest `HelloWorld` i `Welcome` jest metodą akcji.</span><span class="sxs-lookup"><span data-stu-id="192b9-152">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="192b9-153">Nie były używane `[Parameters]` część jeszcze adresu URL.</span><span class="sxs-lookup"><span data-stu-id="192b9-153">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![](adding-a-controller/_static/image7.png)

<span data-ttu-id="192b9-154">Załóżmy przykładzie nieco zmodyfikować tak, aby niektóre informacje o parametrach z adresu URL można przekazać do kontrolera (na przykład */HelloWorld/Zapraszamy? nazwa = Scott&amp;numtimes = 4*).</span><span class="sxs-lookup"><span data-stu-id="192b9-154">Let's modify the example slightly so that you can pass some parameter information from the URL to the controller (for example, */HelloWorld/Welcome?name=Scott&amp;numtimes=4*).</span></span> <span data-ttu-id="192b9-155">Zmień Twoje `Welcome` metodę w celu uwzględnienia dwóch parametrów, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="192b9-155">Change your `Welcome` method to include two parameters as shown below.</span></span> <span data-ttu-id="192b9-156">Należy pamiętać, że kod jest używana funkcja opcjonalny parametr C# z informacją, że `numTimes` parametr powinien domyślnie 1, jeśli nie przekazano żadnej wartości tego parametru.</span><span class="sxs-lookup"><span data-stu-id="192b9-156">Note that the code uses the C# optional-parameter feature to indicate that the `numTimes` parameter should default to 1 if no value is passed for that parameter.</span></span>

[!code-csharp[Main](adding-a-controller/samples/sample2.cs)]

<span data-ttu-id="192b9-157">Uruchom aplikację i przejdź do adresu URL przykład (`http://localhost:xxxx/HelloWorld/Welcome?name=Scott&numtimes=4)`.</span><span class="sxs-lookup"><span data-stu-id="192b9-157">Run your application and browse to the example URL (`http://localhost:xxxx/HelloWorld/Welcome?name=Scott&numtimes=4)`.</span></span> <span data-ttu-id="192b9-158">Możesz spróbować różnych wartości `name` i `numtimes` w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="192b9-158">You can try different values for `name` and `numtimes` in the URL.</span></span> <span data-ttu-id="192b9-159">System automatycznie mapuje parametry nazwane z ciągu zapytania w pasku adresu w parametrach w metodę.</span><span class="sxs-lookup"><span data-stu-id="192b9-159">The system automatically maps the named parameters from the query string in the address bar to parameters in your method.</span></span>

![](adding-a-controller/_static/image8.png)

<span data-ttu-id="192b9-160">W obu tych przykładach kontroler ma zostały czynności "VC" część MVC — to znaczy pracy widok i kontroler.</span><span class="sxs-lookup"><span data-stu-id="192b9-160">In both these examples the controller has been doing the "VC" portion of MVC — that is, the view and controller work.</span></span> <span data-ttu-id="192b9-161">Kontroler bezpośrednio zwraca HTML.</span><span class="sxs-lookup"><span data-stu-id="192b9-161">The controller is returning HTML directly.</span></span> <span data-ttu-id="192b9-162">Zwykle nie mają kontrolerów bezpośrednio, zwracanie HTML, ponieważ staje się bardzo trudne kodu.</span><span class="sxs-lookup"><span data-stu-id="192b9-162">Ordinarily you don't want controllers returning HTML directly, since that becomes very cumbersome to code.</span></span> <span data-ttu-id="192b9-163">Zamiast tego zazwyczaj użyjemy pliku szablonu osobny widok ułatwia generowanie odpowiedzi HTML.</span><span class="sxs-lookup"><span data-stu-id="192b9-163">Instead we'll typically use a separate view template file to help generate the HTML response.</span></span> <span data-ttu-id="192b9-164">Oto dalej w sposób firma Microsoft można to zrobić.</span><span class="sxs-lookup"><span data-stu-id="192b9-164">Let's look next at how we can do this.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="192b9-165">[Poprzednie](intro-to-aspnet-mvc-3.md)
> [dalej](adding-a-view.md)</span><span class="sxs-lookup"><span data-stu-id="192b9-165">[Previous](intro-to-aspnet-mvc-3.md)
[Next](adding-a-view.md)</span></span>
