---
uid: web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
title: Pobieranie i wyświetlanie danych za pomocą modelu formularzy sieci web i powiązania | Dokumentacja firmy Microsoft
author: tfitzmac
description: W tej serii samouczków pokazano podstawowych aspektów projektu formularzy sieci Web ASP.NET przy użyciu wiązania modelu. Wiązanie modelu sprawia, że dane interakcji więcej proste —...
ms.author: aspnetcontent
ms.date: 02/27/2014
ms.assetid: 9f24fb82-c7ac-48da-b8e2-51b3da17e365
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
msc.type: authoredcontent
ms.openlocfilehash: 8153642762cf7032f335d21c8c67eac9b52ed2f8
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/05/2018
ms.locfileid: "37823926"
---
<a name="retrieving-and-displaying-data-with-model-binding-and-web-forms"></a><span data-ttu-id="5fc92-104">Pobieranie i wyświetlanie danych za pomocą wiązania modelu i formularzy sieci web</span><span class="sxs-lookup"><span data-stu-id="5fc92-104">Retrieving and displaying data with model binding and web forms</span></span>
====================
<span data-ttu-id="5fc92-105">przez [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="5fc92-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="5fc92-106">W tej serii samouczków pokazano podstawowych aspektów projektu formularzy sieci Web ASP.NET przy użyciu wiązania modelu.</span><span class="sxs-lookup"><span data-stu-id="5fc92-106">This tutorial series demonstrates basic aspects of using model binding with an ASP.NET Web Forms project.</span></span> <span data-ttu-id="5fc92-107">Wiązanie modelu sprawia, że dane interakcji prostszą niż rozwiązywania problemów związanych z danymi obiektów źródła (takich jak kontrolki ObjectDataSource lub SqlDataSource).</span><span class="sxs-lookup"><span data-stu-id="5fc92-107">Model binding makes data interaction more straight-forward than dealing with data source objects (such as ObjectDataSource or SqlDataSource).</span></span> <span data-ttu-id="5fc92-108">Ta seria rozpoczyna się od wprowadzające informacje i przenosi do bardziej zaawansowanych pojęciach w kolejnych samouczkach.</span><span class="sxs-lookup"><span data-stu-id="5fc92-108">This series starts with introductory material and moves to more advanced concepts in later tutorials.</span></span>
> 
> <span data-ttu-id="5fc92-109">Wzorca wiązania modelu współpracuje z dowolnym technologii dostępu do danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-109">The model binding pattern works with any data access technology.</span></span> <span data-ttu-id="5fc92-110">W tym samouczku użyjesz programu Entity Framework, ale można użyć technologii dostępu do danych, który jest najbardziej znane.</span><span class="sxs-lookup"><span data-stu-id="5fc92-110">In this tutorial, you will use Entity Framework, but you could use the data access technology that is most familiar to you.</span></span> <span data-ttu-id="5fc92-111">Z kontrolki powiązane z danymi serwera, na przykład kontrolki GridView, ListView, DetailsView lub FormView określane są nazwy metod na potrzeby wybierając, aktualizowanie, usuwanie i tworzenie danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-111">From a data-bound server control, such as a GridView, ListView, DetailsView, or FormView control, you specify the names of the methods to use for selecting, updating, deleting, and creating data.</span></span> <span data-ttu-id="5fc92-112">W tym samouczku należy określić wartość dla metody SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="5fc92-112">In this tutorial, you will specify a value for the SelectMethod.</span></span>
> 
> <span data-ttu-id="5fc92-113">W ramach tej metody można przewidzieć logikę pobierania danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-113">Within that method, you provide the logic for retrieving the data.</span></span> <span data-ttu-id="5fc92-114">W następnym samouczku ustawi wartości dla operacji UpdateMethod, DeleteMethod i operacji InsertMethod.</span><span class="sxs-lookup"><span data-stu-id="5fc92-114">In the next tutorial, you will set values for UpdateMethod, DeleteMethod and InsertMethod.</span></span>
> 
> <span data-ttu-id="5fc92-115">Możesz [Pobierz](https://go.microsoft.com/fwlink/?LinkId=286116) kompletnego projektu w języku C# lub VB.</span><span class="sxs-lookup"><span data-stu-id="5fc92-115">You can [download](https://go.microsoft.com/fwlink/?LinkId=286116) the complete project in C# or VB.</span></span> <span data-ttu-id="5fc92-116">Kod do pobrania w programach Visual Studio 2012 lub Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="5fc92-116">The downloadable code works with either Visual Studio 2012 or Visual Studio 2013.</span></span> <span data-ttu-id="5fc92-117">Używa szablonu programu Visual Studio 2012, który różni się nieco od szablonu programu Visual Studio 2013, przedstawione w tym samouczku.</span><span class="sxs-lookup"><span data-stu-id="5fc92-117">It uses the Visual Studio 2012 template, which is slightly different than the Visual Studio 2013 template shown in this tutorial.</span></span>
> 
> <span data-ttu-id="5fc92-118">W tym samouczku możesz uruchomić aplikację w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5fc92-118">In the tutorial you run the application in Visual Studio.</span></span> <span data-ttu-id="5fc92-119">Można także udostępnić aplikację za pośrednictwem Internetu przez wdrożenie jej dostawcy usług hostingowych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-119">You can also make the application available over the Internet by deploying it to a hosting provider.</span></span> <span data-ttu-id="5fc92-120">Firma Microsoft oferuje bezpłatny internetowy hostowanie do 10 witryn sieci web w</span><span class="sxs-lookup"><span data-stu-id="5fc92-120">Microsoft offers free web hosting for up to 10 web sites in a</span></span>  
>  <span data-ttu-id="5fc92-121">[bezpłatne konto wersji próbnej platformy Azure](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span><span class="sxs-lookup"><span data-stu-id="5fc92-121">[free Azure trial account](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span> <span data-ttu-id="5fc92-122">Aby uzyskać informacje o sposobie wdrażania projektu sieci web programu Visual Studio do usługi Azure App Service Web Apps, zobacz [wdrażanie aplikacji internetowych ASP.NET przy użyciu programu Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) serii.</span><span class="sxs-lookup"><span data-stu-id="5fc92-122">For information about how to deploy a Visual Studio web project to Azure App Service Web Apps, see the [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) series.</span></span> <span data-ttu-id="5fc92-123">Ten samouczek pokazuje również, jak użyć migracje Code First Framework jednostki do wdrożenia bazy danych programu SQL Server do usługi Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="5fc92-123">That tutorial also shows how to use Entity Framework Code First Migrations to deploy your SQL Server database to Azure SQL Database.</span></span>
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="5fc92-124">Wersje oprogramowania używanego w tym samouczku</span><span class="sxs-lookup"><span data-stu-id="5fc92-124">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="5fc92-125">Microsoft Visual Studio 2013 lub programu Microsoft Visual Studio Express 2013 for Web</span><span class="sxs-lookup"><span data-stu-id="5fc92-125">Microsoft Visual Studio 2013 or Microsoft Visual Studio Express 2013 for Web</span></span>
>   
> 
> <span data-ttu-id="5fc92-126">W tym samouczku współpracuje również z programu Visual Studio 2012, ale będzie istnieć pewne różnice w szablonie Projekt i interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="5fc92-126">This tutorial also works with Visual Studio 2012 but there will be some differences in the user interface and project template.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="5fc92-127">Będziesz tworzyć</span><span class="sxs-lookup"><span data-stu-id="5fc92-127">What you'll build</span></span>

<span data-ttu-id="5fc92-128">W ramach tego samouczka należy:</span><span class="sxs-lookup"><span data-stu-id="5fc92-128">In this tutorial, you'll:</span></span>

1. <span data-ttu-id="5fc92-129">Tworzenie obiektów danych, które odzwierciedlają uniwersytetu z studentów rejestrację na kursy</span><span class="sxs-lookup"><span data-stu-id="5fc92-129">Build data objects that reflect a university with students enrolled in courses</span></span>
2. <span data-ttu-id="5fc92-130">Tworzenie tabel bazy danych z obiektów</span><span class="sxs-lookup"><span data-stu-id="5fc92-130">Build database tables from the objects</span></span>
3. <span data-ttu-id="5fc92-131">Wypełniania bazy danych przy użyciu danych testowych</span><span class="sxs-lookup"><span data-stu-id="5fc92-131">Populate the database with test data</span></span>
4. <span data-ttu-id="5fc92-132">Wyświetlanie danych w formularzu sieci web</span><span class="sxs-lookup"><span data-stu-id="5fc92-132">Display data in a web form</span></span>

## <a name="set-up-project"></a><span data-ttu-id="5fc92-133">Konfigurowanie projektu</span><span class="sxs-lookup"><span data-stu-id="5fc92-133">Set up project</span></span>

<span data-ttu-id="5fc92-134">W programie Visual Studio 2013, Utwórz nową **aplikacji sieci Web ASP.NET** o nazwie **ContosoUniversityModelBinding**.</span><span class="sxs-lookup"><span data-stu-id="5fc92-134">In Visual Studio 2013, create a new **ASP.NET Web Application** called **ContosoUniversityModelBinding**.</span></span>

![Tworzenie projektu](retrieving-data/_static/image2.png)

<span data-ttu-id="5fc92-136">Wybierz szablon formularzy sieci Web i pozostaw opcje domyślne.</span><span class="sxs-lookup"><span data-stu-id="5fc92-136">Select the Web Forms template, and leave the other default options.</span></span> <span data-ttu-id="5fc92-137">Kliknij przycisk OK, aby skonfigurować projekt.</span><span class="sxs-lookup"><span data-stu-id="5fc92-137">Click OK to setup the project.</span></span>

![Wybierz formularze sieci web](retrieving-data/_static/image3.png)

<span data-ttu-id="5fc92-139">Najpierw należy będzie kilka niewielkich zmian, aby dostosować wygląd witryny.</span><span class="sxs-lookup"><span data-stu-id="5fc92-139">First, you will make a couple of small changes to customize the appearance of the site.</span></span> <span data-ttu-id="5fc92-140">Otwórz **Site.Master** pliku i Zmień tytuł na obejmują University Contoso zamiast Moja aplikacja platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5fc92-140">Open the **Site.Master** file, and change the title to include Contoso University instead of My ASP.NET Application.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample1.aspx?highlight=1)]

<span data-ttu-id="5fc92-141">Następnie zmień tekst nagłówka z **Nazwa aplikacji** do **Contoso University**.</span><span class="sxs-lookup"><span data-stu-id="5fc92-141">Then, change the header text from **Application name** to **Contoso University**.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample2.aspx?highlight=7)]

<span data-ttu-id="5fc92-142">Również w Site.Master, należy zmienić łącza nawigacji, które są wyświetlane w nagłówku, aby odzwierciedlić stron, które są istotne dla tej lokacji.</span><span class="sxs-lookup"><span data-stu-id="5fc92-142">Also in Site.Master, change the navigation links that appear in the header to reflect the pages that are relevant to this site.</span></span> <span data-ttu-id="5fc92-143">Nie musisz albo **o** strony lub **skontaktuj się z pomocą** strony można usunąć tych łączy.</span><span class="sxs-lookup"><span data-stu-id="5fc92-143">You will not need either the **About** page or the **Contact** page so those links can be removed.</span></span> <span data-ttu-id="5fc92-144">Zamiast tego konieczne będzie łącze do strony o nazwie **studentów**.</span><span class="sxs-lookup"><span data-stu-id="5fc92-144">Instead, you will need a link to a page called **Students**.</span></span> <span data-ttu-id="5fc92-145">Ta strona nie został jeszcze utworzony.</span><span class="sxs-lookup"><span data-stu-id="5fc92-145">This page has not been created yet.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample3.aspx)]

<span data-ttu-id="5fc92-146">Zapisz i zamknij Site.Master.</span><span class="sxs-lookup"><span data-stu-id="5fc92-146">Save and close Site.Master.</span></span>

<span data-ttu-id="5fc92-147">Teraz utworzysz formularz sieci web do wyświetlania danych dla uczniów.</span><span class="sxs-lookup"><span data-stu-id="5fc92-147">Now, you'll create the web form for displaying student data.</span></span> <span data-ttu-id="5fc92-148">Kliknij prawym przyciskiem myszy projekt, a **Dodaj** **nowy element**.</span><span class="sxs-lookup"><span data-stu-id="5fc92-148">Right-click your project, and **Add** a **New Item**.</span></span> <span data-ttu-id="5fc92-149">Wybierz **formularz sieci Web ze stroną wzorcową** szablonu i nadaj mu nazwę **Students.aspx**.</span><span class="sxs-lookup"><span data-stu-id="5fc92-149">Select the **Web Form with Master Page** template, and name it **Students.aspx**.</span></span>

![Tworzenie strony](retrieving-data/_static/image5.png)

<span data-ttu-id="5fc92-151">Wybierz **Site.Master** jako stronę wzorcową dla nowego formularza sieci web.</span><span class="sxs-lookup"><span data-stu-id="5fc92-151">Select **Site.Master** as the master page for the new web form.</span></span>

## <a name="create-the-data-models-and-database"></a><span data-ttu-id="5fc92-152">Tworzenie modeli danych i bazy danych</span><span class="sxs-lookup"><span data-stu-id="5fc92-152">Create the data models and database</span></span>

<span data-ttu-id="5fc92-153">Migracje Code First użyje do tworzenia obiektów i odpowiednie tabele bazy danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-153">You will use Code First Migrations to create objects and the corresponding database tables.</span></span> <span data-ttu-id="5fc92-154">Te tabele zapisze informacje na temat uczniów i ich kursy.</span><span class="sxs-lookup"><span data-stu-id="5fc92-154">These tables will store information about the students and their courses.</span></span>

<span data-ttu-id="5fc92-155">W folderze modeli, Dodaj nową klasę o nazwie **UniversityModels.cs**.</span><span class="sxs-lookup"><span data-stu-id="5fc92-155">In the Models folder, add a new class named **UniversityModels.cs**.</span></span>

![Tworzenie klasy modelu](retrieving-data/_static/image7.png)

<span data-ttu-id="5fc92-157">W tym pliku zdefiniuj klasy SchoolContext, studentów, rejestracji i kurs w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="5fc92-157">In this file, define the SchoolContext, Student, Enrollment, and Course classes as follows:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample4.cs)]

<span data-ttu-id="5fc92-158">Klasa SchoolContext pochodzi od typu DbContext, który zarządza połączenia z bazą danych i zmiany w danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-158">The SchoolContext class derives from DbContext, which manages the database connection and changes in the data.</span></span>

<span data-ttu-id="5fc92-159">W klasie dla uczniów, zwróć uwagę, atrybuty, które zostały zastosowane do **FirstName**, **LastName**, i **roku** właściwości.</span><span class="sxs-lookup"><span data-stu-id="5fc92-159">In the Student class, notice the attributes that have been applied to the **FirstName**, **LastName**, and **Year** properties.</span></span> <span data-ttu-id="5fc92-160">Te atrybuty będą używane do sprawdzania poprawności danych w ramach tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="5fc92-160">These attributes will be used for data validation in this tutorial.</span></span> <span data-ttu-id="5fc92-161">W celu uproszczenia kodu dla tego projektu demonstracji, tylko te właściwości, które zostały oznaczone za pomocą atrybutów sprawdzania poprawności danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-161">To simplify the code for this demonstration project, only these properties were marked with data-validation attributes.</span></span> <span data-ttu-id="5fc92-162">W projekcie rzeczywistych atrybutów sprawdzania poprawności będzie dotyczą wszystkich właściwości, które muszą zweryfikowanych danych, takich jak właściwości w klasach rejestracji i kursów.</span><span class="sxs-lookup"><span data-stu-id="5fc92-162">In a real project, you would apply validation attributes to all properties that need validated data, such as properties in the Enrollment and Course classes.</span></span>

<span data-ttu-id="5fc92-163">Save UniversityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="5fc92-163">Save UniversityModels.cs.</span></span>

<span data-ttu-id="5fc92-164">Narzędzia do migracji Code First użyje do skonfigurowania bazy danych na podstawie tych klas.</span><span class="sxs-lookup"><span data-stu-id="5fc92-164">You will use the tools for Code First Migrations to set up a database based on these classes.</span></span>

<span data-ttu-id="5fc92-165">W **Konsola Menedżera pakietów**, uruchom polecenie:</span><span class="sxs-lookup"><span data-stu-id="5fc92-165">In **Package Manager Console**, run the command:</span></span>  
`enable-migrations -ContextTypeName ContosoUniversityModelBinding.Models.SchoolContext`

<span data-ttu-id="5fc92-166">Jeśli polecenie zakończy się pomyślnie, zostanie wyświetlony komunikat z informacją, że migracja zostanie włączona,</span><span class="sxs-lookup"><span data-stu-id="5fc92-166">If the command completes successfully you will receive a message stating migrations have been enabled,</span></span>

![Włączanie funkcji migracje](retrieving-data/_static/image8.png)

<span data-ttu-id="5fc92-168">Należy zauważyć, że nowy plik o nazwie **Configuration.cs** została utworzona.</span><span class="sxs-lookup"><span data-stu-id="5fc92-168">Notice that a new file named **Configuration.cs** has been created.</span></span> <span data-ttu-id="5fc92-169">W programie Visual Studio otworzyć tego pliku jest automatycznie po jego utworzeniu.</span><span class="sxs-lookup"><span data-stu-id="5fc92-169">In Visual Studio, this file is automatically opened after it is created.</span></span> <span data-ttu-id="5fc92-170">Zawiera klasę konfiguracji **inicjatora** metody, która umożliwia wstępne wypełnianie tabel bazy danych z danymi.</span><span class="sxs-lookup"><span data-stu-id="5fc92-170">The Configuration class contains a **Seed** method which enables you to pre-populate the database tables with test data.</span></span>

<span data-ttu-id="5fc92-171">Dodaj następujący kod do metody inicjatora.</span><span class="sxs-lookup"><span data-stu-id="5fc92-171">Add the following code to the Seed method.</span></span> <span data-ttu-id="5fc92-172">Musisz dodać **przy użyciu** poufności informacji dotyczące **ContosoUniversityModelBinding.Models** przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="5fc92-172">You'll need to add a **using** statement for the **ContosoUniversityModelBinding.Models** namespace.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample5.cs)]

<span data-ttu-id="5fc92-173">Zapisz Configuration.cs.</span><span class="sxs-lookup"><span data-stu-id="5fc92-173">Save Configuration.cs.</span></span>

<span data-ttu-id="5fc92-174">W konsoli Menedżera pakietów, uruchom polecenie `add-migration initial`.</span><span class="sxs-lookup"><span data-stu-id="5fc92-174">In the Package Manager Console, run the command `add-migration initial`.</span></span>

<span data-ttu-id="5fc92-175">Następnie uruchom polecenie `update-database`.</span><span class="sxs-lookup"><span data-stu-id="5fc92-175">Then, run the command `update-database`.</span></span>

<span data-ttu-id="5fc92-176">Jeśli wystąpi wyjątek podczas uruchamiania tego polecenia, jest to możliwe, że wartości StudentID i CourseID mają różne wartości w metodzie inicjatora.</span><span class="sxs-lookup"><span data-stu-id="5fc92-176">If you receive an exception when running this command, it is possible that the values for StudentID and CourseID have varied from the values in the Seed method.</span></span> <span data-ttu-id="5fc92-177">Otwórz tych tabel w bazie danych i Znajdź istniejące wartości StudentID i CourseID.</span><span class="sxs-lookup"><span data-stu-id="5fc92-177">Open those tables in the database and find existing values for StudentID and CourseID.</span></span> <span data-ttu-id="5fc92-178">Dodaj te wartości w kodzie do wstępnego wypełniania tabeli rejestracji.</span><span class="sxs-lookup"><span data-stu-id="5fc92-178">Add those values in the code for seeding the Enrollments table.</span></span>

<span data-ttu-id="5fc92-179">Plik bazy danych został dodany, ale jest on ukryty w projekcie.</span><span class="sxs-lookup"><span data-stu-id="5fc92-179">The database file has been added, but it is currently hidden in the project.</span></span> <span data-ttu-id="5fc92-180">Kliknij przycisk **Pokaż wszystkie pliki** do wyświetlenia pliku.</span><span class="sxs-lookup"><span data-stu-id="5fc92-180">Click **Show All Files** to display the file.</span></span>

![Pokaż wszystkie pliki](retrieving-data/_static/image10.png)

<span data-ttu-id="5fc92-182">Zwróć uwagę, pojawi się w aplikacji pliku .mdf\_folderu danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-182">Notice the .mdf file now appears in the App\_Data folder.</span></span>

![plik bazy danych](retrieving-data/_static/image12.png)

<span data-ttu-id="5fc92-184">Kliknij dwukrotnie plik mdf, a następnie otworzyć Eksploratora serwera.</span><span class="sxs-lookup"><span data-stu-id="5fc92-184">Double-click the .mdf file and open the Server Explorer.</span></span> <span data-ttu-id="5fc92-185">Tabele teraz istnieją i są wypełniane przy użyciu danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-185">The tables now exist and are populated with data.</span></span>

![tabele bazy danych](retrieving-data/_static/image14.png)

## <a name="display-data-from-students-and-related-tables"></a><span data-ttu-id="5fc92-187">Wyświetlanie danych z powiązanych tabel i studentów</span><span class="sxs-lookup"><span data-stu-id="5fc92-187">Display data from Students and related tables</span></span>

<span data-ttu-id="5fc92-188">Z danymi w bazie danych możesz teraz przystąpić do pobierania danych i wyświetlić go na stronie sieci web.</span><span class="sxs-lookup"><span data-stu-id="5fc92-188">With data in the database, you are now ready to retrieve that data and display it in a web page.</span></span> <span data-ttu-id="5fc92-189">Użyjesz **GridView** formantu, aby wyświetlić dane w kolumn i wierszy.</span><span class="sxs-lookup"><span data-stu-id="5fc92-189">You will use a **GridView** control to display the data in columns and rows.</span></span>

<span data-ttu-id="5fc92-190">Otwórz Students.aspx i zlokalizuj **MainContent** symbol zastępczy.</span><span class="sxs-lookup"><span data-stu-id="5fc92-190">Open Students.aspx, and locate the **MainContent** placeholder.</span></span> <span data-ttu-id="5fc92-191">W ramach tego symbolu zastępczego, należy dodać **GridView** formant, który zawiera następujący kod.</span><span class="sxs-lookup"><span data-stu-id="5fc92-191">Within that placeholder, add a **GridView** control that includes the following code.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample6.aspx)]

<span data-ttu-id="5fc92-192">Istnieje kilka ważnych koncepcji, w tym kodzie znaczników dla Ciebie należy zwrócić uwagę.</span><span class="sxs-lookup"><span data-stu-id="5fc92-192">There are a couple of important concepts in this markup code for you to notice.</span></span> <span data-ttu-id="5fc92-193">Najpierw zwróć uwagę, czy wartość jest ustawiona dla **metody SelectMethod** właściwości w elemencie GridView.</span><span class="sxs-lookup"><span data-stu-id="5fc92-193">First, notice that a value is set for the **SelectMethod** property in the GridView element.</span></span> <span data-ttu-id="5fc92-194">Ta wartość Określa nazwę metody, która służy do pobierania danych dla widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="5fc92-194">This value specifies the name of the method that is used for retrieving data for the GridView.</span></span> <span data-ttu-id="5fc92-195">Ta metoda utworzy w następnym kroku.</span><span class="sxs-lookup"><span data-stu-id="5fc92-195">You will create this method in the next step.</span></span> <span data-ttu-id="5fc92-196">Po drugie, zwróć uwagę, że **ItemType** właściwość jest ustawiona na klasę dla uczniów, która została utworzona wcześniej.</span><span class="sxs-lookup"><span data-stu-id="5fc92-196">Second, notice that the **ItemType** property is set to the Student class that you created earlier.</span></span> <span data-ttu-id="5fc92-197">Ustawiając tę wartość, może odnosić się do właściwości tej klasy w kodzie znaczników.</span><span class="sxs-lookup"><span data-stu-id="5fc92-197">By setting this value, you can refer to properties of that class in the markup code.</span></span> <span data-ttu-id="5fc92-198">Na przykład klasa uczniów zawiera kolekcję o nazwie rejestracji.</span><span class="sxs-lookup"><span data-stu-id="5fc92-198">For example, the Student class contains a collection named Enrollments.</span></span> <span data-ttu-id="5fc92-199">Możesz użyć **Item.Enrollments** do pobrania tej kolekcji, a następnie pobrać sumy zarejestrowanych środki na korzystanie z dla każdego ucznia za pomocą składni LINQ.</span><span class="sxs-lookup"><span data-stu-id="5fc92-199">You can use **Item.Enrollments** to retrieve that collection and then use LINQ syntax to retrieve the sum of enrolled credits for each student.</span></span>

<span data-ttu-id="5fc92-200">W pliku związanym z kodem, należy dodać metodę, która jest określona dla **metody SelectMethod** wartość.</span><span class="sxs-lookup"><span data-stu-id="5fc92-200">In the code-behind file, you need to add the method that is specified for the **SelectMethod** value.</span></span> <span data-ttu-id="5fc92-201">Otwórz **Students.aspx.cs**i Dodaj **przy użyciu** instrukcji dla **ContosoUniversityModelBinding.Models** i **System.Data.Entity**przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="5fc92-201">Open **Students.aspx.cs**, and add **using** statements for the **ContosoUniversityModelBinding.Models** and **System.Data.Entity** namespaces.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample7.cs)]

<span data-ttu-id="5fc92-202">Następnie dodaj następującą metodę.</span><span class="sxs-lookup"><span data-stu-id="5fc92-202">Then, add the following method.</span></span> <span data-ttu-id="5fc92-203">Zwróć uwagę, czy nazwa ta metoda jest zgodna Nazwa parametru metody SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="5fc92-203">Notice that the name of this method matches the name you provided for SelectMethod.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample8.cs)]

<span data-ttu-id="5fc92-204">**Include** klauzuli poprawia wydajność kwerendy, ale nie jest istotne dla kwerendy do pracy.</span><span class="sxs-lookup"><span data-stu-id="5fc92-204">The **Include** clause improves the performance of this query but is not essential for the query to work.</span></span> <span data-ttu-id="5fc92-205">Bez klauzuli Include będzie można odzyskać danych przy użyciu ładowania z opóźnieniem, które obejmuje wysłanie oddzielnych zapytań do bazy danych zawsze związane z dane są pobierane.</span><span class="sxs-lookup"><span data-stu-id="5fc92-205">Without the Include clause, the data would be retrieved using lazy loading, which involves sending a separate query to the database each time related data is retrieved.</span></span> <span data-ttu-id="5fc92-206">Dostarczając klauzuli Include, dane są pobierane za pomocą wczesne ładowanie, co oznacza, wszystkie powiązane dane są pobierane za pomocą jednego zapytania bazy danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-206">By providing the Include clause, the data is retrieved using eager loading, which means all of the related data is retrieved through a single query of the database.</span></span> <span data-ttu-id="5fc92-207">W przypadku większości powiązanych danych nie jest używane, eager ładowania może być mniej wydajne rozwiązanie, ponieważ jest pobierana większej ilości danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-207">In cases where most of the related data is not be used, eager loading can be less efficient because more data is retrieved.</span></span> <span data-ttu-id="5fc92-208">Jednak w takim przypadku wczesne ładowanie zapewnia najlepszą wydajność, ponieważ powiązane dane jest wyświetlany dla każdego rekordu.</span><span class="sxs-lookup"><span data-stu-id="5fc92-208">However, in this case, eager loading provides the best performance because the related data is displayed for each record.</span></span>

<span data-ttu-id="5fc92-209">Aby dowiedzieć się więcej o aspekt dotyczący wydajności podczas ładowania powiązanych danych, zobacz sekcję pod tytułem **leniwy Eager i jawne ładowanie powiązanych danych** w [odczytywania danych powiązanych z platformą Entity Framework w ASP Aplikacja MVC platformy .NET](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) tematu.</span><span class="sxs-lookup"><span data-stu-id="5fc92-209">For more information about performance consideration when loading related data, see the section titled **Lazy, Eager, and Explicit Loading of Related Data** in the [Reading Related Data with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) topic.</span></span>

<span data-ttu-id="5fc92-210">Domyślnie dane są sortowane według wartości właściwości oznaczonym jako klucz.</span><span class="sxs-lookup"><span data-stu-id="5fc92-210">By default, the data is sorted by the values of the property marked as the key.</span></span> <span data-ttu-id="5fc92-211">Możesz dodać klauzulę OrderBy, aby określić inną wartość do sortowania.</span><span class="sxs-lookup"><span data-stu-id="5fc92-211">You can add an OrderBy clause to specify a different value for sorting.</span></span> <span data-ttu-id="5fc92-212">W tym przykładzie właściwość StudentID domyślnej jest używana do sortowania.</span><span class="sxs-lookup"><span data-stu-id="5fc92-212">In this example, the default StudentID property is used for sorting.</span></span> <span data-ttu-id="5fc92-213">W [sortowanie, stronicowanie i filtrowanie danych](sorting-paging-and-filtering-data.md) tematu spowoduje włączenie użytkownikowi na wybranie kolumny sortowania.</span><span class="sxs-lookup"><span data-stu-id="5fc92-213">In the [Sorting, Paging, and Filtering Data](sorting-paging-and-filtering-data.md) topic, you will enable the user to select a column for sorting.</span></span>

<span data-ttu-id="5fc92-214">Uruchom aplikację sieci web i przejdź do strony studentów.</span><span class="sxs-lookup"><span data-stu-id="5fc92-214">Run your web application, and navigate to the Students page.</span></span> <span data-ttu-id="5fc92-215">Na stronie studentów są wyświetlane następujące informacje dla uczniów.</span><span class="sxs-lookup"><span data-stu-id="5fc92-215">The Students page displays the following student information.</span></span>

![Pokaż dane](retrieving-data/_static/image16.png)

## <a name="automatic-generation-of-model-binding-methods"></a><span data-ttu-id="5fc92-217">Automatyczne generowanie metody wiązania modelu</span><span class="sxs-lookup"><span data-stu-id="5fc92-217">Automatic generation of model binding methods</span></span>

<span data-ttu-id="5fc92-218">Podczas pracy za pośrednictwem tej serii samouczków, możesz po prostu skopiować kod z tego samouczka, do projektu.</span><span class="sxs-lookup"><span data-stu-id="5fc92-218">When working through this tutorial series, you can simply copy the code from the tutorial to your project.</span></span> <span data-ttu-id="5fc92-219">Jednak jedną wadą tego podejścia jest, że użytkownik może nie zostaną powiadomieni o funkcji dostarczane przez program Visual Studio, aby automatycznie wygenerować kod dla metody wiązania modelu.</span><span class="sxs-lookup"><span data-stu-id="5fc92-219">However, one disadvantage of this approach is that you may not become aware of the feature provided by Visual Studio to automatically generate code for model binding methods.</span></span> <span data-ttu-id="5fc92-220">Podczas pracy z własnych projektów, automatyczne generowanie kodu można zaoszczędzić czas i pomoc, uzyskasz zorientować się, jak zaimplementować operacji.</span><span class="sxs-lookup"><span data-stu-id="5fc92-220">When working on your own projects, automatic code generation can save you time and help you gain a sense of how to implement an operation.</span></span> <span data-ttu-id="5fc92-221">W tej sekcji opisano funkcję generowanie kodu automatyczne.</span><span class="sxs-lookup"><span data-stu-id="5fc92-221">This section describes the automatic code generation feature.</span></span> <span data-ttu-id="5fc92-222">Ta sekcja ma tylko charakter informacyjny i nie zawiera żadnego kodu, potrzebne do zaimplementowania w projekcie.</span><span class="sxs-lookup"><span data-stu-id="5fc92-222">This section is only informational and does not contain any code you need to implement in your project.</span></span>

<span data-ttu-id="5fc92-223">Podczas ustawiania wartości **metody SelectMethod**, **operacji UpdateMethod**, **operacji InsertMethod**, lub **DeleteMethod** właściwości w kodzie znaczników Możesz wybrać **Tworzenie nowej metody** opcji.</span><span class="sxs-lookup"><span data-stu-id="5fc92-223">When setting a value for the **SelectMethod**, **UpdateMethod**, **InsertMethod**, or **DeleteMethod** properties in the markup code, you can select the **Create New Method** option.</span></span>

![Utwórz nową metodę](retrieving-data/_static/image18.png)

<span data-ttu-id="5fc92-225">Program Visual Studio nie tylko tworzy metodę w kodem przy użyciu prawidłowego podpisu, ale również generuje kod implementacji pomocne podczas wykonywania operacji.</span><span class="sxs-lookup"><span data-stu-id="5fc92-225">Visual Studio not only creates a method in the code-behind with the proper signature, but also generates implementation code to assist you with performing the operation.</span></span> <span data-ttu-id="5fc92-226">Jeśli najpierw ustawić **ItemType** właściwości przed rozpoczęciem korzystania z funkcji generowania kodu automatyczne wygenerowany kod użyje tego typu dla operacji.</span><span class="sxs-lookup"><span data-stu-id="5fc92-226">If you first set the **ItemType** property before using the automatic code generation feature, the generated code will use that type for the operations.</span></span> <span data-ttu-id="5fc92-227">Na przykład ustawiając właściwość operacji UpdateMethod, poniższy kod jest generowany automatycznie:</span><span class="sxs-lookup"><span data-stu-id="5fc92-227">For example, when setting the UpdateMethod property, the following code is automatically generated:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample9.cs)]

<span data-ttu-id="5fc92-228">Ponownie powyższy kod nie musi być dodany do projektu.</span><span class="sxs-lookup"><span data-stu-id="5fc92-228">Again, the above code does not need to be added to your project.</span></span> <span data-ttu-id="5fc92-229">W następnym samouczku wdroży metod aktualizowania, usuwania i dodawania nowych danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-229">In the next tutorial, you will implement methods for updating, deleting and adding new data.</span></span>

## <a name="conclusion"></a><span data-ttu-id="5fc92-230">Wniosek</span><span class="sxs-lookup"><span data-stu-id="5fc92-230">Conclusion</span></span>

<span data-ttu-id="5fc92-231">W tym samouczku utworzono klasy modelu danych i wygenerowany bazy danych na podstawie tych klas.</span><span class="sxs-lookup"><span data-stu-id="5fc92-231">In this tutorial, you created data model classes and generated a database from those classes.</span></span> <span data-ttu-id="5fc92-232">Tabele bazy danych są wypełnione danych testowych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-232">You filled the database tables with test data.</span></span> <span data-ttu-id="5fc92-233">Używane wiązania modelu do pobierania danych z bazy danych, a następnie wyświetlane dane w widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="5fc92-233">You used model binding to retrieve data from the database, and then displayed the data in a GridView.</span></span>

<span data-ttu-id="5fc92-234">W ciągu następnych [samouczek](updating-deleting-and-creating-data.md) w tej serii umożliwi aktualizowanie, usuwanie i tworzenie danych.</span><span class="sxs-lookup"><span data-stu-id="5fc92-234">In the next [tutorial](updating-deleting-and-creating-data.md) in this series, you will enable updating, deleting, and creating data.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="5fc92-235">Next</span><span class="sxs-lookup"><span data-stu-id="5fc92-235">Next</span></span>](updating-deleting-and-creating-data.md)
