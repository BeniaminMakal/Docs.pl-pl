---
uid: web-api/overview/security/external-authentication-services
title: "Zewnętrznych usług uwierzytelniania z interfejsu API sieci Web platformy ASP.NET (C#) | Dokumentacja firmy Microsoft"
author: rmcmurray
description: "W tym artykule opisano, w interfejsie API sieci Web ASP.NET przy użyciu zewnętrznych usług uwierzytelniania."
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/26/2013
ms.topic: article
ms.assetid: 3bb8eb15-b518-44f5-a67d-a27e051aedc6
ms.technology: dotnet-webapi
ms.prod: .net-framework
msc.legacyurl: /web-api/overview/security/external-authentication-services
msc.type: authoredcontent
ms.openlocfilehash: 744396cb0c95d1887f259b1e2e890bd06ef7d049
ms.sourcegitcommit: 016f4d58663bcd442930227022de23fb3abee0b3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/12/2018
---
<a name="external-authentication-services-with-aspnet-web-api-c"></a><span data-ttu-id="3dee5-103">Zewnętrznych usług uwierzytelniania z interfejsu API sieci Web platformy ASP.NET (C#)</span><span class="sxs-lookup"><span data-stu-id="3dee5-103">External Authentication Services with ASP.NET Web API (C#)</span></span>
====================
<span data-ttu-id="3dee5-104">przez [Roberta Mcmurraya](https://github.com/rmcmurray)</span><span class="sxs-lookup"><span data-stu-id="3dee5-104">by [Robert McMurray](https://github.com/rmcmurray)</span></span>

<span data-ttu-id="3dee5-105">Visual Studio 2013 i programu ASP.NET 4.5.1 Rozwiń opcje zabezpieczeń [aplikacje jednostronicowe](../../../single-page-application/index.md) (SPA) i [interfejsu API sieci Web](../../index.md) usług do integracji z usługami uwierzytelniania zewnętrznego, które obejmują kilka Usługi uwierzytelniania mediów społecznościowych i uwierzytelniania OAuth/OpenID: Accounts firmy Microsoft, Twitter, Facebook i Google.</span><span class="sxs-lookup"><span data-stu-id="3dee5-105">Visual Studio 2013 and ASP.NET 4.5.1 expand the security options for [Single Page Applications](../../../single-page-application/index.md) (SPA) and [Web API](../../index.md) services to integrate with external authentication services, which include several OAuth/OpenID and social media authentication services: Microsoft Accounts, Twitter, Facebook, and Google.</span></span>

### <a name="in-this-walkthrough"></a><span data-ttu-id="3dee5-106">W tym przewodniku</span><span class="sxs-lookup"><span data-stu-id="3dee5-106">In This Walkthrough</span></span>

- [<span data-ttu-id="3dee5-107">Za pomocą zewnętrznych usług uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="3dee5-107">Using External Authentication Services</span></span>](#USING)
- [<span data-ttu-id="3dee5-108">Tworzenie przykładowej aplikacji sieci Web</span><span class="sxs-lookup"><span data-stu-id="3dee5-108">Creating the Sample Web Application</span></span>](#SAMPLE)
- [<span data-ttu-id="3dee5-109">Włączenie uwierzytelniania serwisu Facebook</span><span class="sxs-lookup"><span data-stu-id="3dee5-109">Enabling Facebook Authentication</span></span>](#FACEBOOK)
- [<span data-ttu-id="3dee5-110">Włączanie uwierzytelniania w usłudze Google</span><span class="sxs-lookup"><span data-stu-id="3dee5-110">Enabling Google Authentication</span></span>](#GOOGLE)
- [<span data-ttu-id="3dee5-111">Włączanie uwierzytelniania firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="3dee5-111">Enabling Microsoft Authentication</span></span>](#MICROSOFT)
- [<span data-ttu-id="3dee5-112">Włączanie uwierzytelniania usługi Twitter</span><span class="sxs-lookup"><span data-stu-id="3dee5-112">Enabling Twitter Authentication</span></span>](#TWITTER)
- [<span data-ttu-id="3dee5-113">Dodatkowe informacje</span><span class="sxs-lookup"><span data-stu-id="3dee5-113">Additional Information</span></span>](#MOREINFO)

    - [<span data-ttu-id="3dee5-114">Łączenie zewnętrznych usług uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="3dee5-114">Combining External Authentication Services</span></span>](#COMBINE)
    - [<span data-ttu-id="3dee5-115">Konfigurowanie usług IIS Express do używania w pełni kwalifikowaną nazwę domeny</span><span class="sxs-lookup"><span data-stu-id="3dee5-115">Configuring IIS Express to use a Fully Qualified Domain Name</span></span>](#FQDN)
    - [<span data-ttu-id="3dee5-116">Jak uzyskać ustawienia aplikacji dla uwierzytelniania firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="3dee5-116">How to Obtain your Application Settings for Microsoft Authentication</span></span>](#OBTAIN)
    - [<span data-ttu-id="3dee5-117">Opcjonalnie: Wyłącz lokalnej rejestracji</span><span class="sxs-lookup"><span data-stu-id="3dee5-117">Optional: Disable Local Registration</span></span>](#DISABLE)

### <a name="prerequisites"></a><span data-ttu-id="3dee5-118">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="3dee5-118">Prerequisites</span></span>

<span data-ttu-id="3dee5-119">Aby użyć przykłady w tym przewodniku, należy dysponować następującymi elementami:</span><span class="sxs-lookup"><span data-stu-id="3dee5-119">To follow the examples in this walkthrough, you need to have the following:</span></span>

- <span data-ttu-id="3dee5-120">Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="3dee5-120">Visual Studio 2013</span></span>
- <span data-ttu-id="3dee5-121">Konto dla co najmniej jednego z następujących usług uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="3dee5-121">An account for at least one of the following external authentication services:</span></span>

    - <span data-ttu-id="3dee5-122">Konto użytkownika usługi Google</span><span class="sxs-lookup"><span data-stu-id="3dee5-122">A Google user account</span></span>
    - <span data-ttu-id="3dee5-123">Konto dewelopera z aplikacji identyfikator i klucz tajny dla jednej z następujących usług uwierzytelniania mediów społecznościowych:</span><span class="sxs-lookup"><span data-stu-id="3dee5-123">A developer account with the application identifier and secret key for one of the following social media authentication services:</span></span>

        - <span data-ttu-id="3dee5-124">Microsoft Accounts ([https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070))</span><span class="sxs-lookup"><span data-stu-id="3dee5-124">Microsoft Accounts ([https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070))</span></span>
        - <span data-ttu-id="3dee5-125">W usłudze Twitter ([https://dev.twitter.com/](https://dev.twitter.com/))</span><span class="sxs-lookup"><span data-stu-id="3dee5-125">Twitter ([https://dev.twitter.com/](https://dev.twitter.com/))</span></span>
        - <span data-ttu-id="3dee5-126">Facebook ([https://developers.facebook.com/](https://developers.facebook.com/))</span><span class="sxs-lookup"><span data-stu-id="3dee5-126">Facebook ([https://developers.facebook.com/](https://developers.facebook.com/))</span></span>

<a id="USING"></a>
## <a name="using-external-authentication-services"></a><span data-ttu-id="3dee5-127">Za pomocą zewnętrznych usług uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="3dee5-127">Using External Authentication Services</span></span>

<span data-ttu-id="3dee5-128">Wiele usług uwierzytelniania zewnętrznego, które są obecnie dostępne dla pomoc deweloperów sieci web, aby zmniejszyć programowanie czas podczas tworzenia nowej aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="3dee5-128">The abundance of external authentication services that are currently available to web developers help to reduce development time when creating new web applications.</span></span> <span data-ttu-id="3dee5-129">Użytkownicy sieci Web zwykle mają kilka istniejących kont dla usług sieci web popularnych i społecznościowych witryn sieci Web, w związku z tym podczas implementuje aplikacji sieci web, uwierzytelnianie usług z zewnętrznej usługi sieci web lub witryny społecznościowe, zapisuje czasie opracowywania który może zostać wykorzystana tworzenie implementację uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="3dee5-129">Web users typically have several existing accounts for popular web services and social media websites, therefore when a web application implements the authentication services from an external web service or social media website, it saves the development time that would have been spent creating an authentication implementation.</span></span> <span data-ttu-id="3dee5-130">Przy użyciu usługi uwierzytelniania zewnętrznego zapisuje użytkowników końcowych, trzeba utworzyć nowe konto dla aplikacji sieci web, a także od trzeba pamiętać innej nazwy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="3dee5-130">Using an external authentication service saves end users from having to create another account for your web application, and also from having to remember another username and password.</span></span>

<span data-ttu-id="3dee5-131">W przeszłości deweloperów dwie opcje: tworzenie realizacji uwierzytelniania lub Dowiedz się, jak zintegrować usługę uwierzytelniania zewnętrznego w swoich aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="3dee5-131">In the past, developers have had two choices: create their own authentication implementation, or learn how to integrate an external authentication service into their applications.</span></span> <span data-ttu-id="3dee5-132">Na najbardziej podstawowym poziomie na poniższym diagramie przedstawiono przepływ żądania prostego agenta użytkownika (przeglądarki sieci web), który żąda informacji z aplikacji sieci web, która jest skonfigurowana do używania usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="3dee5-132">At the most basic level, the following diagram illustrates a simple request flow for a user agent (web browser) that is requesting information from a web application that is configured to use an external authentication service:</span></span>

<span data-ttu-id="3dee5-133">[![](external-authentication-services/_static/image2.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-133">[![](external-authentication-services/_static/image2.png "Click to Expand the Image")](external-authentication-services/_static/image1.png)</span></span>

<span data-ttu-id="3dee5-134">Agent użytkownika (lub przeglądarki sieci web, w tym przykładzie) na powyższym diagramie, wysyła żądanie do aplikacji sieci web, który przekierowuje przeglądarki sieci web do usługi uwierzytelniania zewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="3dee5-134">In the preceding diagram, the user agent (or web browser in this example) makes a request to a web application, which redirects the web browser to an external authentication service.</span></span> <span data-ttu-id="3dee5-135">Agent użytkownika wysyła swoje poświadczenia do usługi uwierzytelniania zewnętrznego, a jeśli agent użytkownika został pomyślnie uwierzytelniony, Usługa uwierzytelniania zewnętrznego przekieruje agenta użytkownika do oryginalnej aplikacji sieci web z jakiegoś typu tokenu, który agent użytkownika będzie wysyłać do aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="3dee5-135">The user agent sends its credentials to the external authentication service, and if the user agent has successfully authenticated, the external authentication service will redirect the user agent to the original web application with some form of token which the user agent will send to the web application.</span></span> <span data-ttu-id="3dee5-136">Aplikacja sieci web użyje token w celu sprawdź, czy agent użytkownika został pomyślnie uwierzytelniony przez usługę uwierzytelniania zewnętrznego i aplikacji sieci web może używać tokenu można zebrać więcej informacji na temat agenta użytkownika.</span><span class="sxs-lookup"><span data-stu-id="3dee5-136">The web application will use the token to verify that the user agent has been successfully authenticated by the external authentication service, and the web application may use the token to gather more information about the user agent.</span></span> <span data-ttu-id="3dee5-137">Po zakończeniu aplikacji przetwarzanie informacji dotyczących agenta użytkownika, aplikacji sieci web zwróci właściwą odpowiedź agenta użytkownika na podstawie swoich ustawień autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="3dee5-137">Once the application is done processing the user agent's information, the web application will return the appropriate response to the user agent based on its authorization settings.</span></span>

<span data-ttu-id="3dee5-138">W drugim przykładzie negocjuje agenta użytkownika z serwera zewnętrznego autoryzacji i aplikacji sieci web i aplikacji sieci web wykonuje dodatkowe komunikacji z serwerem autoryzację zewnętrzne można pobrać dodatkowe informacje o użytkowniku Agent:</span><span class="sxs-lookup"><span data-stu-id="3dee5-138">In this second example, the user agent negotiates with the web application and external authorization server, and the web application performs additional communication with the external authorization server to retrieve additional information about the user agent:</span></span>

<span data-ttu-id="3dee5-139">[![](external-authentication-services/_static/image4.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-139">[![](external-authentication-services/_static/image4.png "Click to Expand the Image")](external-authentication-services/_static/image3.png)</span></span>

<span data-ttu-id="3dee5-140">Visual Studio 2013 i programu ASP.NET 4.5.1 ułatwienia integracji z zewnętrznych usług uwierzytelniania dla deweloperów zapewniając wbudowanej integracji dla następujących usług uwierzytelniania:</span><span class="sxs-lookup"><span data-stu-id="3dee5-140">Visual Studio 2013 and ASP.NET 4.5.1 make integration with external authentication services easier for developers by providing built-in integration for the following authentication services:</span></span>

- <span data-ttu-id="3dee5-141">Facebook</span><span class="sxs-lookup"><span data-stu-id="3dee5-141">Facebook</span></span>
- <span data-ttu-id="3dee5-142">Google</span><span class="sxs-lookup"><span data-stu-id="3dee5-142">Google</span></span>
- <span data-ttu-id="3dee5-143">Accounts Microsoft (konta usługi Windows Live ID)</span><span class="sxs-lookup"><span data-stu-id="3dee5-143">Microsoft Accounts (Windows Live ID accounts)</span></span>
- <span data-ttu-id="3dee5-144">Twitter</span><span class="sxs-lookup"><span data-stu-id="3dee5-144">Twitter</span></span>

<span data-ttu-id="3dee5-145">Przykłady w tym przewodniku przedstawiono sposób konfigurowania każdej z obsługiwanych zewnętrznych usług uwierzytelniania przy użyciu nowego szablonu aplikacji sieci Web ASP.NET, który jest dostarczany z programu Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="3dee5-145">The examples in this walkthrough will demonstrate how to configure each of the supported external authentication services by using the new ASP.NET Web Application template that ships with Visual Studio 2013.</span></span>

> [!NOTE]
> <span data-ttu-id="3dee5-146">Jeśli to konieczne, może być konieczne Dodaj swoją nazwę FQDN w ustawieniach usługi uwierzytelniania zewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="3dee5-146">If necessary, you may need to add your FQDN to the settings for your external authentication service.</span></span> <span data-ttu-id="3dee5-147">To wymaganie jest oparta na ograniczeń dotyczących zabezpieczeń w przypadku niektórych usług uwierzytelniania zewnętrznego, które wymagają FQDN w ustawieniach aplikacji do dopasowania nazwy FQDN, która jest używana przez klientów.</span><span class="sxs-lookup"><span data-stu-id="3dee5-147">This requirement is based on security constraints for some external authentication services which require the FQDN in your application settings to match the FQDN that is used by your clients.</span></span> <span data-ttu-id="3dee5-148">(Kroki opisane w tym się znacznie różnić dla poszczególnych usług uwierzytelniania zewnętrznego; należy zapoznać się z dokumentacją dla każdej usługi uwierzytelniania zewnętrznego, aby zobaczyć, jeśli jest to wymagane oraz sposobu konfigurowania tych ustawień). Jeśli konieczne będzie skonfigurowanie usług IIS Express do używania nazwy FQDN w tym środowisku testowym, zobacz [Konfigurowanie usług IIS Express do używania w pełni kwalifikowaną nazwę domeny](#FQDN) dalszej części tego przewodnika.</span><span class="sxs-lookup"><span data-stu-id="3dee5-148">(The steps for this will vary greatly for each external authentication service; you will need to consult the documentation for each external authentication service to see if this is required and how to configure these settings.) If you need to configure IIS Express to use an FQDN for testing this environment, see the [Configuring IIS Express to use a Fully Qualified Domain Name](#FQDN) section later in this walkthrough.</span></span>


<a id="SAMPLE"></a>
## <a name="creating-a-sample-web-application"></a><span data-ttu-id="3dee5-149">Tworzenie przykładowej aplikacji sieci Web</span><span class="sxs-lookup"><span data-stu-id="3dee5-149">Creating a Sample Web Application</span></span>

<span data-ttu-id="3dee5-150">Poniższe kroki przeprowadzi Cię przez proces tworzenia przykładowej aplikacji przy użyciu szablonu aplikacji sieci Web platformy ASP.NET, i użyje tej przykładowej aplikacji dla poszczególnych usług uwierzytelniania zewnętrznego w dalszej części tego przewodnika.</span><span class="sxs-lookup"><span data-stu-id="3dee5-150">The following steps will lead you through creating a sample application by using the ASP.NET Web Application template, and you will use this sample application for each of the external authentication services later in this walkthrough.</span></span>

<span data-ttu-id="3dee5-151">Uruchom program Visual Studio 2013, wybierz **nowy projekt** ze strony początkowej.</span><span class="sxs-lookup"><span data-stu-id="3dee5-151">Start Visual Studio 2013 select **New Project** from the Start page.</span></span> <span data-ttu-id="3dee5-152">Lub z **pliku** menu, wybierz opcję **nowy** , a następnie **projektu**.</span><span class="sxs-lookup"><span data-stu-id="3dee5-152">Or, from the **File** menu, select **New** and then **Project**.</span></span>

<span data-ttu-id="3dee5-153">[![](external-authentication-services/_static/image6.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-153">[![](external-authentication-services/_static/image6.png "Click to Expand the Image")](external-authentication-services/_static/image5.png)</span></span>

<span data-ttu-id="3dee5-154">Gdy **nowy projekt** zostanie wyświetlone okno dialogowe, wybierz **zainstalowana** **szablony** i rozwiń **Visual C#**.</span><span class="sxs-lookup"><span data-stu-id="3dee5-154">When the **New Project** dialog box is displayed, select **Installed** **Templates** and expand **Visual C#**.</span></span> <span data-ttu-id="3dee5-155">W obszarze **Visual C#**, wybierz pozycję **Web**.</span><span class="sxs-lookup"><span data-stu-id="3dee5-155">Under **Visual C#**, select **Web**.</span></span> <span data-ttu-id="3dee5-156">Na liście szablony projektów, wybierz **aplikacji sieci Web ASP.NET**.</span><span class="sxs-lookup"><span data-stu-id="3dee5-156">In the list of project templates, select **ASP.NET Web Application**.</span></span> <span data-ttu-id="3dee5-157">Wprowadź nazwę projektu, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="3dee5-157">Enter a name for your project and click **OK**.</span></span>

<span data-ttu-id="3dee5-158">[![](external-authentication-services/_static/image8.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-158">[![](external-authentication-services/_static/image8.png "Click to Expand the Image")](external-authentication-services/_static/image7.png)</span></span>

<span data-ttu-id="3dee5-159">Gdy **nowy projekt ASP.NET** jest wyświetlane, wybierz pozycję **SPA** szablon i kliknij przycisk **tworzenia projektu**.</span><span class="sxs-lookup"><span data-stu-id="3dee5-159">When the **New ASP.NET Project** is displayed, select the **SPA** template and click **Create Project**.</span></span>

<span data-ttu-id="3dee5-160">[![](external-authentication-services/_static/image10.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-160">[![](external-authentication-services/_static/image10.png "Click to Expand the Image")](external-authentication-services/_static/image9.png)</span></span>

<span data-ttu-id="3dee5-161">Poczekaj co program Visual Studio 2013 tworzy projektu.</span><span class="sxs-lookup"><span data-stu-id="3dee5-161">Wait as Visual Studio 2013 creates your project.</span></span>

<span data-ttu-id="3dee5-162">[![](external-authentication-services/_static/image12.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-162">[![](external-authentication-services/_static/image12.png "Click to Expand the Image")](external-authentication-services/_static/image11.png)</span></span>

<span data-ttu-id="3dee5-163">Po zakończeniu programu Visual Studio 2013 Tworzenie projektu otwórz *Startup.Auth.cs* pliku, który znajduje się w **aplikacji\_Start** folderu.</span><span class="sxs-lookup"><span data-stu-id="3dee5-163">When Visual Studio 2013 has finished creating your project, open the *Startup.Auth.cs* file that is located in the **App\_Start** folder.</span></span>

<span data-ttu-id="3dee5-164">[![](external-authentication-services/_static/image14.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-164">[![](external-authentication-services/_static/image14.png "Click to Expand the Image")](external-authentication-services/_static/image13.png)</span></span>

<span data-ttu-id="3dee5-165">Po utworzeniu projektu Brak zewnętrznych usług uwierzytelniania są włączone w *Startup.Auth.cs* pliku; następujące pokazano, co może wyglądać kodu, z sekcji wyróżnione, gdzie można włączyć Usługa uwierzytelniania zewnętrznego i wszystkie odpowiednie ustawienia, aby korzystać z uwierzytelniania Accounts firmy Microsoft, Twitter, Facebook i Google w aplikacji ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="3dee5-165">When you first create the project, none of the external authentication services are enabled in *Startup.Auth.cs* file; the following illustrates what your code might resemble, with the sections highlighted for where you would enable an external authentication service and any relevant settings in order to use Microsoft Accounts, Twitter, Facebook, or Google authentication with your ASP.NET application:</span></span>

[!code-csharp[Main](external-authentication-services/samples/sample1.cs)]

<span data-ttu-id="3dee5-166">Kiedy naciśniesz klawisz F5, aby skompilować i debugowanie aplikacji sieci web, wyświetli ekran logowania, w którym pojawi się, że nie zdefiniowano żadnych zewnętrznych usług uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="3dee5-166">When you press F5 to build and debug your web application, it will display a login screen where you will see that no external authentication services have been defined.</span></span>

<span data-ttu-id="3dee5-167">[![](external-authentication-services/_static/image16.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-167">[![](external-authentication-services/_static/image16.png "Click to Expand the Image")](external-authentication-services/_static/image15.png)</span></span>

<span data-ttu-id="3dee5-168">W poniższych sekcjach dowiesz się, jak włączyć poszczególnych usług uwierzytelniania zewnętrznego, które są dostarczane z programem ASP.NET w programie Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="3dee5-168">In the following sections, you will learn how to enable each of the external authentication services that are provided with ASP.NET in Visual Studio 2013.</span></span>

<a id="FACEBOOK"></a>
## <a name="enabling-facebook-authentication"></a><span data-ttu-id="3dee5-169">Włączenie uwierzytelniania serwisu Facebook</span><span class="sxs-lookup"><span data-stu-id="3dee5-169">Enabling Facebook Authentication</span></span>

<span data-ttu-id="3dee5-170">Za pomocą usługi Facebook uwierzytelniania wymaga utworzenia konta dewelopera usługi Facebook, a projekt będzie wymagać prawidłowego działania aplikacji identyfikator i klucz tajny z usługi Facebook.</span><span class="sxs-lookup"><span data-stu-id="3dee5-170">Using Facebook authentication requires you to create a Facebook developer account, and your project will require an application ID and secret key from Facebook in order to function.</span></span> <span data-ttu-id="3dee5-171">Aby uzyskać informacje o tworzeniu konta dewelopera usługi Facebook i uzyskiwanie Identyfikatora aplikacji, a klucz tajny, zobacz [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span><span class="sxs-lookup"><span data-stu-id="3dee5-171">For information about creating a Facebook developer account and obtaining your application ID and secret key, see [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span></span>

<span data-ttu-id="3dee5-172">Po uzyskaniu Twojej aplikacji identyfikator i klucz tajny, wykonaj następujące kroki, aby włączyć uwierzytelnianie serwisu Facebook dla aplikacji sieci web:</span><span class="sxs-lookup"><span data-stu-id="3dee5-172">Once you have obtained your application ID and secret key, use the following steps to enable Facebook authentication for your web application:</span></span>

1. <span data-ttu-id="3dee5-173">Gdy projekt jest otwarty w programie Visual Studio 2013, otwórz *Startup.Auth.cs* pliku:</span><span class="sxs-lookup"><span data-stu-id="3dee5-173">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="3dee5-174">[![](external-authentication-services/_static/image18.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-174">[![](external-authentication-services/_static/image18.png "Click to Expand the Image")](external-authentication-services/_static/image17.png)</span></span>
2. <span data-ttu-id="3dee5-175">Znajdź sekcję wyróżniony kod:</span><span class="sxs-lookup"><span data-stu-id="3dee5-175">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample2.cs)]
3. <span data-ttu-id="3dee5-176">Usuń &quot; // &quot; znaków, usuń znaczniki komentarza wyróżnione wiersze kodu, a następnie dodaj swoją nazwę aplikacji i klucz tajny.</span><span class="sxs-lookup"><span data-stu-id="3dee5-176">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your application ID and secret key.</span></span> <span data-ttu-id="3dee5-177">Po dodaniu tych parametrów można ponownie skompilować projekt:</span><span class="sxs-lookup"><span data-stu-id="3dee5-177">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample3.cs)]
4. <span data-ttu-id="3dee5-178">Kiedy naciśniesz klawisz F5, aby otworzyć aplikację sieci web w przeglądarce sieci web, zobaczysz, że Facebook została zdefiniowana jako usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="3dee5-178">When you press F5 to open your web application in your web browser, you will see that Facebook has been defined as an external authentication service:</span></span>

    <span data-ttu-id="3dee5-179">[![](external-authentication-services/_static/image20.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-179">[![](external-authentication-services/_static/image20.png "Click to Expand the Image")](external-authentication-services/_static/image19.png)</span></span>
5. <span data-ttu-id="3dee5-180">Po kliknięciu **Facebook** przycisku przeglądarki, zostanie przekierowany do strony logowania serwisu Facebook:</span><span class="sxs-lookup"><span data-stu-id="3dee5-180">When you click the **Facebook** button, your browser will be redirected to the Facebook login page:</span></span>

    <span data-ttu-id="3dee5-181">[![](external-authentication-services/_static/image22.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-181">[![](external-authentication-services/_static/image22.png "Click to Expand the Image")](external-authentication-services/_static/image21.png)</span></span>
6. <span data-ttu-id="3dee5-182">Po wprowadź swoje poświadczenia usługi Facebook i kliknij przycisk **Zaloguj się za**, przeglądarki sieci web zostanie przekierowany do aplikacji sieci web, która wyświetli monit o **nazwy użytkownika** , które chcesz skojarzyć z z Konto w serwisie Facebook:</span><span class="sxs-lookup"><span data-stu-id="3dee5-182">After you enter your Facebook credentials and click **Log in**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Facebook account:</span></span>

    <span data-ttu-id="3dee5-183">[![](external-authentication-services/_static/image24.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-183">[![](external-authentication-services/_static/image24.png "Click to Expand the Image")](external-authentication-services/_static/image23.png)</span></span>
7. <span data-ttu-id="3dee5-184">Po wprowadzeniu nazwy użytkownika i kliknięciu **Zarejestruj** przycisku, aplikacji sieci web zostanie wyświetlona domyślna **strony głównej** dla Twojego konta w serwisie Facebook:</span><span class="sxs-lookup"><span data-stu-id="3dee5-184">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Facebook account:</span></span>

    <span data-ttu-id="3dee5-185">[![](external-authentication-services/_static/image26.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-185">[![](external-authentication-services/_static/image26.png "Click to Expand the Image")](external-authentication-services/_static/image25.png)</span></span>

<a id="GOOGLE"></a>
## <a name="enabling-google-authentication"></a><span data-ttu-id="3dee5-186">Włączanie uwierzytelniania w usłudze Google</span><span class="sxs-lookup"><span data-stu-id="3dee5-186">Enabling Google Authentication</span></span>

<span data-ttu-id="3dee5-187">Google jest znacznie najprostsza usług uwierzytelniania zewnętrznego, można włączyć, ponieważ nie wymaga konta dewelopera, ani nie wymaga dodatkowych informacji, takimi jak identyfikator aplikacji lub klucz tajny jako innych usług uwierzytelniania zewnętrznego wymagają.</span><span class="sxs-lookup"><span data-stu-id="3dee5-187">Google is by far the easiest of the external authentication services to enable because it doesn't require a developer account, nor does it require additional information like your application ID or secret key as the other external authentication services necessitate.</span></span>

<span data-ttu-id="3dee5-188">Aby włączyć uwierzytelnianie Google dla aplikacji sieci web, użyj następujących kroków:</span><span class="sxs-lookup"><span data-stu-id="3dee5-188">To enable Google authentication for your web application, use the following steps:</span></span>

1. <span data-ttu-id="3dee5-189">Gdy projekt jest otwarty w programie Visual Studio 2013, otwórz *Startup.Auth.cs* pliku:</span><span class="sxs-lookup"><span data-stu-id="3dee5-189">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="3dee5-190">[![](external-authentication-services/_static/image28.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-190">[![](external-authentication-services/_static/image28.png "Click to Expand the Image")](external-authentication-services/_static/image27.png)</span></span>
2. <span data-ttu-id="3dee5-191">Znajdź sekcję wyróżniony kod:</span><span class="sxs-lookup"><span data-stu-id="3dee5-191">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample4.cs)]
3. <span data-ttu-id="3dee5-192">Usuń &quot; // &quot; znaków, usuń znaczniki komentarza wyróżniony wiersz kodu, a następnie ponownie skompilować projekt:</span><span class="sxs-lookup"><span data-stu-id="3dee5-192">Remove the &quot;//&quot; characters to uncomment the highlighted line of code, and then recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample5.cs)]
4. <span data-ttu-id="3dee5-193">Kiedy naciśniesz klawisz F5, aby otworzyć aplikację sieci web w przeglądarce sieci web, zobaczysz, że Google została zdefiniowana jako usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="3dee5-193">When you press F5 to open your web application in your web browser, you will see that Google has been defined as an external authentication service:</span></span>

    <span data-ttu-id="3dee5-194">[![](external-authentication-services/_static/image30.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-194">[![](external-authentication-services/_static/image30.png "Click to Expand the Image")](external-authentication-services/_static/image29.png)</span></span>
5. <span data-ttu-id="3dee5-195">Po kliknięciu **Google** przycisku przeglądarki, zostanie przekierowany do strony logowania usługi Google:</span><span class="sxs-lookup"><span data-stu-id="3dee5-195">When you click the **Google** button, your browser will be redirected to the Google login page:</span></span>

    <span data-ttu-id="3dee5-196">[![](external-authentication-services/_static/image32.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-196">[![](external-authentication-services/_static/image32.png "Click to Expand the Image")](external-authentication-services/_static/image31.png)</span></span>
6. <span data-ttu-id="3dee5-197">Po wprowadzeniu poświadczeń Google i kliknij przycisk **Zaloguj**, Google spowoduje wyświetlenie monitu o Sprawdź, czy aplikacja sieci web ma uprawnienia do uzyskania dostępu do konta Google:</span><span class="sxs-lookup"><span data-stu-id="3dee5-197">After you enter your Google credentials and click **Sign in**, Google will prompt you to verify that your web application has permissions to access your Google account:</span></span>

    <span data-ttu-id="3dee5-198">[![](external-authentication-services/_static/image34.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-198">[![](external-authentication-services/_static/image34.png "Click to Expand the Image")](external-authentication-services/_static/image33.png)</span></span>
7. <span data-ttu-id="3dee5-199">Po kliknięciu **Akceptuj**, przeglądarki sieci web zostanie przekierowany do aplikacji sieci web, która wyświetli monit o **nazwy użytkownika** , które chcesz skojarzyć z kontem Google:</span><span class="sxs-lookup"><span data-stu-id="3dee5-199">When you click **Accept**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Google account:</span></span>

    <span data-ttu-id="3dee5-200">[![](external-authentication-services/_static/image36.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-200">[![](external-authentication-services/_static/image36.png "Click to Expand the Image")](external-authentication-services/_static/image35.png)</span></span>
8. <span data-ttu-id="3dee5-201">Po wprowadzeniu nazwy użytkownika i kliknięciu **Zarejestruj** przycisku, aplikacji sieci web zostanie wyświetlona domyślna **strony głównej** dla Twojego konta Google:</span><span class="sxs-lookup"><span data-stu-id="3dee5-201">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Google account:</span></span>

    <span data-ttu-id="3dee5-202">[![](external-authentication-services/_static/image38.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-202">[![](external-authentication-services/_static/image38.png "Click to Expand the Image")](external-authentication-services/_static/image37.png)</span></span>

<a id="MICROSOFT"></a>
## <a name="enabling-microsoft-authentication"></a><span data-ttu-id="3dee5-203">Włączanie uwierzytelniania firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="3dee5-203">Enabling Microsoft Authentication</span></span>

<span data-ttu-id="3dee5-204">Uwierzytelnianie firmy Microsoft wymaga utworzenia konta dewelopera i prawidłowego działania wymaga Identyfikatora klienta i klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="3dee5-204">Microsoft authentication requires you to create a developer account, and it requires a client ID and client secret in order to function.</span></span> <span data-ttu-id="3dee5-205">Aby uzyskać informacje o tworzeniu konta dewelopera Microsoft i uzyskiwanie z Identyfikatorem klienta i klucz tajny klienta, zobacz [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070).</span><span class="sxs-lookup"><span data-stu-id="3dee5-205">For information about creating a Microsoft developer account and obtaining your client ID and client secret, see [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070).</span></span>

<span data-ttu-id="3dee5-206">Po uzyskaniu Twoje klucz klienta i klucz tajny klienta, wykonaj następujące kroki, aby włączyć uwierzytelnianie platformy Microsoft dla aplikacji sieci web:</span><span class="sxs-lookup"><span data-stu-id="3dee5-206">Once you have obtained your consumer key and consumer secret, use the following steps to enable Microsoft authentication for your web application:</span></span>

1. <span data-ttu-id="3dee5-207">Gdy projekt jest otwarty w programie Visual Studio 2013, otwórz *Startup.Auth.cs* pliku:</span><span class="sxs-lookup"><span data-stu-id="3dee5-207">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="3dee5-208">[![](external-authentication-services/_static/image40.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-208">[![](external-authentication-services/_static/image40.png "Click to Expand the Image")](external-authentication-services/_static/image39.png)</span></span>
2. <span data-ttu-id="3dee5-209">Znajdź sekcję wyróżniony kod:</span><span class="sxs-lookup"><span data-stu-id="3dee5-209">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample6.cs)]
3. <span data-ttu-id="3dee5-210">Usuń &quot; // &quot; znaków, usuń znaczniki komentarza wyróżnione wiersze kodu, a następnie dodaj swój identyfikator klienta i klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="3dee5-210">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your client ID and client secret.</span></span> <span data-ttu-id="3dee5-211">Po dodaniu tych parametrów można ponownie skompilować projekt:</span><span class="sxs-lookup"><span data-stu-id="3dee5-211">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample7.cs)]
4. <span data-ttu-id="3dee5-212">Kiedy naciśniesz klawisz F5, aby otworzyć aplikację sieci web w przeglądarce sieci web, zobaczysz, że Microsoft została zdefiniowana jako usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="3dee5-212">When you press F5 to open your web application in your web browser, you will see that Microsoft has been defined as an external authentication service:</span></span>

    <span data-ttu-id="3dee5-213">[![](external-authentication-services/_static/image42.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-213">[![](external-authentication-services/_static/image42.png "Click to Expand the Image")](external-authentication-services/_static/image41.png)</span></span>
5. <span data-ttu-id="3dee5-214">Po kliknięciu **Microsoft** przycisku przeglądarki, zostanie przekierowany do strony logowania firmy Microsoft:</span><span class="sxs-lookup"><span data-stu-id="3dee5-214">When you click the **Microsoft** button, your browser will be redirected to the Microsoft login page:</span></span>

    <span data-ttu-id="3dee5-215">[![](external-authentication-services/_static/image44.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-215">[![](external-authentication-services/_static/image44.png "Click to Expand the Image")](external-authentication-services/_static/image43.png)</span></span>
6. <span data-ttu-id="3dee5-216">Po wprowadzeniu poświadczeń Microsoft i kliknij przycisk **Zaloguj**, pojawi się monit, aby sprawdzić, czy aplikacja sieci web ma uprawnienia do uzyskania dostępu do konta Microsoft:</span><span class="sxs-lookup"><span data-stu-id="3dee5-216">After you enter your Microsoft credentials and click **Sign in**, you will be prompted to verify that your web application has permissions to access your Microsoft account:</span></span>

    <span data-ttu-id="3dee5-217">[![](external-authentication-services/_static/image46.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-217">[![](external-authentication-services/_static/image46.png "Click to Expand the Image")](external-authentication-services/_static/image45.png)</span></span>
7. <span data-ttu-id="3dee5-218">Po kliknięciu **tak**, przeglądarki sieci web zostanie przekierowany do aplikacji sieci web, która wyświetli monit o **nazwy użytkownika** , które chcesz skojarzyć z Twoim kontem Microsoft:</span><span class="sxs-lookup"><span data-stu-id="3dee5-218">When you click **Yes**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Microsoft account:</span></span>

    <span data-ttu-id="3dee5-219">[![](external-authentication-services/_static/image48.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-219">[![](external-authentication-services/_static/image48.png "Click to Expand the Image")](external-authentication-services/_static/image47.png)</span></span>
8. <span data-ttu-id="3dee5-220">Po wprowadzeniu nazwy użytkownika i kliknięciu **Zarejestruj** przycisku, aplikacji sieci web zostanie wyświetlona domyślna **strony głównej** konta Microsoft:</span><span class="sxs-lookup"><span data-stu-id="3dee5-220">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Microsoft account:</span></span>

    <span data-ttu-id="3dee5-221">[![](external-authentication-services/_static/image50.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-221">[![](external-authentication-services/_static/image50.png "Click to Expand the Image")](external-authentication-services/_static/image49.png)</span></span>

<a id="TWITTER"></a>
## <a name="enabling-twitter-authentication"></a><span data-ttu-id="3dee5-222">Włączanie uwierzytelniania usługi Twitter</span><span class="sxs-lookup"><span data-stu-id="3dee5-222">Enabling Twitter Authentication</span></span>

<span data-ttu-id="3dee5-223">W usłudze Twitter uwierzytelniania wymaga utworzenia konta dewelopera i klucz klienta i klucz tajny klienta wymaga prawidłowego działania.</span><span class="sxs-lookup"><span data-stu-id="3dee5-223">Twitter authentication requires you to create a developer account, and it requires a consumer key and consumer secret in order to function.</span></span> <span data-ttu-id="3dee5-224">Aby uzyskać informacje o tworzeniu konta dewelopera usługi Twitter i uzyskiwania z klucza klienta i klucz tajny klienta, zobacz [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span><span class="sxs-lookup"><span data-stu-id="3dee5-224">For information about creating a Twitter developer account and obtaining your consumer key and consumer secret, see [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span></span>

<span data-ttu-id="3dee5-225">Po uzyskaniu Twoje klucz klienta i klucz tajny klienta, wykonaj następujące kroki, aby włączyć uwierzytelnianie usługi Twitter dla aplikacji sieci web:</span><span class="sxs-lookup"><span data-stu-id="3dee5-225">Once you have obtained your consumer key and consumer secret, use the following steps to enable Twitter authentication for your web application:</span></span>

1. <span data-ttu-id="3dee5-226">Gdy projekt jest otwarty w programie Visual Studio 2013, otwórz *Startup.Auth.cs* pliku:</span><span class="sxs-lookup"><span data-stu-id="3dee5-226">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="3dee5-227">[![](external-authentication-services/_static/image52.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-227">[![](external-authentication-services/_static/image52.png "Click to Expand the Image")](external-authentication-services/_static/image51.png)</span></span>
2. <span data-ttu-id="3dee5-228">Znajdź sekcję wyróżniony kod:</span><span class="sxs-lookup"><span data-stu-id="3dee5-228">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample8.cs)]
3. <span data-ttu-id="3dee5-229">Usuń &quot; // &quot; znaków usuń znaczniki komentarza wyróżnione wiersze kodu, a następnie dodaj klucz klienta i klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="3dee5-229">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your consumer key and consumer secret.</span></span> <span data-ttu-id="3dee5-230">Po dodaniu tych parametrów można ponownie skompilować projekt:</span><span class="sxs-lookup"><span data-stu-id="3dee5-230">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample9.cs)]
4. <span data-ttu-id="3dee5-231">Kiedy naciśniesz klawisz F5, aby otworzyć aplikację sieci web w przeglądarce sieci web, zobaczysz, że Twitter została zdefiniowana jako usługi uwierzytelniania zewnętrznego:</span><span class="sxs-lookup"><span data-stu-id="3dee5-231">When you press F5 to open your web application in your web browser, you will see that Twitter has been defined as an external authentication service:</span></span>

    <span data-ttu-id="3dee5-232">[![](external-authentication-services/_static/image54.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image53.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-232">[![](external-authentication-services/_static/image54.png "Click to Expand the Image")](external-authentication-services/_static/image53.png)</span></span>
5. <span data-ttu-id="3dee5-233">Po kliknięciu **Twitter** przycisku przeglądarki, zostanie przekierowany do strony logowania usługi Twitter:</span><span class="sxs-lookup"><span data-stu-id="3dee5-233">When you click the **Twitter** button, your browser will be redirected to the Twitter login page:</span></span>

    <span data-ttu-id="3dee5-234">[![](external-authentication-services/_static/image56.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-234">[![](external-authentication-services/_static/image56.png "Click to Expand the Image")](external-authentication-services/_static/image55.png)</span></span>
6. <span data-ttu-id="3dee5-235">Po wprowadzeniu poświadczeń usługi Twitter i kliknij przycisk **Autoryzuj aplikację**, przeglądarki sieci web zostanie przekierowany do aplikacji sieci web, która wyświetli monit o **nazwy użytkownika** , które chcesz skojarzyć z Konto usługi Twitter:</span><span class="sxs-lookup"><span data-stu-id="3dee5-235">After you enter your Twitter credentials and click **Authorize app**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Twitter account:</span></span>

    <span data-ttu-id="3dee5-236">[![](external-authentication-services/_static/image58.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-236">[![](external-authentication-services/_static/image58.png "Click to Expand the Image")](external-authentication-services/_static/image57.png)</span></span>
7. <span data-ttu-id="3dee5-237">Po wprowadzeniu nazwy użytkownika i kliknięciu **Zarejestruj** przycisku, aplikacji sieci web zostanie wyświetlona domyślna **strony głównej** dla Twojego konta w serwisie Twitter:</span><span class="sxs-lookup"><span data-stu-id="3dee5-237">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Twitter account:</span></span>

    <span data-ttu-id="3dee5-238">[![](external-authentication-services/_static/image60.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image59.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-238">[![](external-authentication-services/_static/image60.png "Click to Expand the Image")](external-authentication-services/_static/image59.png)</span></span>

<a id="MOREINFO"></a>
## <a name="additional-information"></a><span data-ttu-id="3dee5-239">Dodatkowe informacje</span><span class="sxs-lookup"><span data-stu-id="3dee5-239">Additional Information</span></span>

<span data-ttu-id="3dee5-240">Aby uzyskać dodatkowe informacje na temat tworzenia aplikacji, które używają protokołu OAuth i OpenID zobacz następujące adresy URL:</span><span class="sxs-lookup"><span data-stu-id="3dee5-240">For additional information about creating applications that use OAuth and OpenID, see the following URLs:</span></span>

- [<span data-ttu-id="3dee5-241">https://go.microsoft.com/fwlink/?LinkID=252166</span><span class="sxs-lookup"><span data-stu-id="3dee5-241">https://go.microsoft.com/fwlink/?LinkID=252166</span></span>](https://go.microsoft.com/fwlink/?LinkID=252166)
- [<span data-ttu-id="3dee5-242">https://go.microsoft.com/fwlink/?LinkID=243995</span><span class="sxs-lookup"><span data-stu-id="3dee5-242">https://go.microsoft.com/fwlink/?LinkID=243995</span></span>](https://go.microsoft.com/fwlink/?LinkID=243995)

<a id="COMBINE"></a>
### <a name="combining-external-authentication-services"></a><span data-ttu-id="3dee5-243">Łączenie zewnętrznych usług uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="3dee5-243">Combining External Authentication Services</span></span>

<span data-ttu-id="3dee5-244">Aby uzyskać większą elastyczność można zdefiniować wiele usług uwierzytelniania zewnętrznego, w tym samym czasie — dzięki temu sieci web aplikacji użytkownicy mogą używać konta z dowolnej usługi włączone uwierzytelnianie zewnętrzne:</span><span class="sxs-lookup"><span data-stu-id="3dee5-244">For greater flexibility, you can define multiple external authentication services at the same time - this allows your web application's users to use an account from any of the enabled external authentication services:</span></span>

<span data-ttu-id="3dee5-245">[![](external-authentication-services/_static/image62.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-245">[![](external-authentication-services/_static/image62.png "Click to Expand the Image")](external-authentication-services/_static/image61.png)</span></span>

<a id="FQDN"></a>
### <a name="configuring-iis-express-to-use-a-fully-qualified-domain-name"></a><span data-ttu-id="3dee5-246">Konfigurowanie usług IIS Express do używania w pełni kwalifikowaną nazwę domeny</span><span class="sxs-lookup"><span data-stu-id="3dee5-246">Configuring IIS Express to use a Fully Qualified Domain Name</span></span>

<span data-ttu-id="3dee5-247">Niektórzy dostawcy uwierzytelniania zewnętrznego nie obsługują testowania aplikacji przy użyciu adresu HTTP, takie jak `http://localhost:port/`.</span><span class="sxs-lookup"><span data-stu-id="3dee5-247">Some external authentication providers do not support testing your application by using an HTTP address like `http://localhost:port/`.</span></span> <span data-ttu-id="3dee5-248">Aby obejść ten problem, można dodać mapowanie statyczne pełni kwalifikowanej domeny nazwę (FQDN) do pliku hostów i skonfigurować opcje projektu programu Visual Studio 2013 do używania nazwy FQDN do testowania debugowania.</span><span class="sxs-lookup"><span data-stu-id="3dee5-248">To work around this issue, you can add a static Fully Qualified Domain Name (FQDN) mapping to your HOSTS file and configure your project options in Visual Studio 2013 to use the FQDN for testing/debugging.</span></span> <span data-ttu-id="3dee5-249">Aby to zrobić, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="3dee5-249">To do so, use the following steps:</span></span>

- <span data-ttu-id="3dee5-250">Dodaj nazwę FQDN statyczne mapowania pliku HOSTS:</span><span class="sxs-lookup"><span data-stu-id="3dee5-250">Add a static FQDN mapping your HOSTS file:</span></span>

    1. <span data-ttu-id="3dee5-251">Otwórz wiersz polecenia z podwyższonym poziomem uprawnień w systemie Windows.</span><span class="sxs-lookup"><span data-stu-id="3dee5-251">Open an elevated command prompt in Windows.</span></span>
    2. <span data-ttu-id="3dee5-252">Wpisz następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="3dee5-252">Type the following command:</span></span>

        <span data-ttu-id="3dee5-253"><kbd>%WinDir%\system32\drivers\etc\hosts Notatnik</kbd></span><span class="sxs-lookup"><span data-stu-id="3dee5-253"><kbd>notepad %WinDir%\system32\drivers\etc\hosts</kbd></span></span>
    3. <span data-ttu-id="3dee5-254">Dodaj wpis podobnie do następującej w pliku HOSTS:</span><span class="sxs-lookup"><span data-stu-id="3dee5-254">Add an entry like the following to the HOSTS file:</span></span>

        <span data-ttu-id="3dee5-255"><kbd>127.0.0.1 www.wingtiptoys.com</kbd></span><span class="sxs-lookup"><span data-stu-id="3dee5-255"><kbd>127.0.0.1 www.wingtiptoys.com</kbd></span></span>
    4. <span data-ttu-id="3dee5-256">Zapisz i zamknij plik HOSTS.</span><span class="sxs-lookup"><span data-stu-id="3dee5-256">Save and close your HOSTS file.</span></span>
- <span data-ttu-id="3dee5-257">Konfigurowanie projektu programu Visual Studio do nazwy FQDN:</span><span class="sxs-lookup"><span data-stu-id="3dee5-257">Configure your Visual Studio project to use the FQDN:</span></span>

    1. <span data-ttu-id="3dee5-258">Gdy projekt jest otwarty w programie Visual Studio 2013, kliknij przycisk **projektu** menu, a następnie wybierz pozycję Właściwości projektu.</span><span class="sxs-lookup"><span data-stu-id="3dee5-258">When your project is open in Visual Studio 2013, click the **Project** menu, and then select your project's properties.</span></span> <span data-ttu-id="3dee5-259">Na przykład możesz wybrać pozycję **WebApplication1 właściwości**.</span><span class="sxs-lookup"><span data-stu-id="3dee5-259">For example, you might select **WebApplication1 Properties**.</span></span>
    2. <span data-ttu-id="3dee5-260">Wybierz **Web** kartę.</span><span class="sxs-lookup"><span data-stu-id="3dee5-260">Select the **Web** tab.</span></span>
    3. <span data-ttu-id="3dee5-261">Wprowadź nazwę FQDN dla **projektu adres Url**.</span><span class="sxs-lookup"><span data-stu-id="3dee5-261">Enter your FQDN for the **Project Url**.</span></span> <span data-ttu-id="3dee5-262">Na przykład możesz wpisać <kbd>http://www.wingtiptoys.com</kbd> Jeśli, która jest dodane do pliku HOSTS mapowanie nazwy FQDN.</span><span class="sxs-lookup"><span data-stu-id="3dee5-262">For example, you would enter <kbd>http://www.wingtiptoys.com</kbd> if that was the FQDN mapping that you added to your HOSTS file.</span></span>
- <span data-ttu-id="3dee5-263">Konfigurowanie usług IIS Express do używania nazwy FQDN dla aplikacji:</span><span class="sxs-lookup"><span data-stu-id="3dee5-263">Configure IIS Express to use the FQDN for your application:</span></span>

    1. <span data-ttu-id="3dee5-264">Otwórz wiersz polecenia z podwyższonym poziomem uprawnień w systemie Windows.</span><span class="sxs-lookup"><span data-stu-id="3dee5-264">Open an elevated command prompt in Windows.</span></span>
    2. <span data-ttu-id="3dee5-265">Wpisz następujące polecenie, aby zmienić do folderu usług IIS Express:</span><span class="sxs-lookup"><span data-stu-id="3dee5-265">Type the following command to change to your IIS Express folder:</span></span>

        <span data-ttu-id="3dee5-266"><kbd>cd /d &quot;%ProgramFiles%\IIS Express&quot;</kbd></span><span class="sxs-lookup"><span data-stu-id="3dee5-266"><kbd>cd /d &quot;%ProgramFiles%\IIS Express&quot;</kbd></span></span>
    3. <span data-ttu-id="3dee5-267">Wpisz następujące polecenie, aby dodać nazwę FQDN do aplikacji:</span><span class="sxs-lookup"><span data-stu-id="3dee5-267">Type the following command to add the FQDN to your application:</span></span>

        <span data-ttu-id="3dee5-268"><kbd>appcmd.exe set config-section:system.applicationHost/sites / +&quot;[name = "WebApplication1"] .bindings. [ Protokół = 'http', bindingInformation = "\*:80:www.wingtiptoys.com"]&quot; /commit:apphost</kbd></span><span class="sxs-lookup"><span data-stu-id="3dee5-268"><kbd>appcmd.exe set config -section:system.applicationHost/sites /+&quot;[name='WebApplication1'].bindings.[protocol='http',bindingInformation='\*:80:www.wingtiptoys.com']&quot; /commit:apphost</kbd></span></span>

 <span data-ttu-id="3dee5-269">Gdzie **WebApplication1** jest nazwą projektu i **bindingInformation** zawiera numer portu i nazwy FQDN, które ma być używany na potrzeby testów.</span><span class="sxs-lookup"><span data-stu-id="3dee5-269">Where **WebApplication1** is the name of your project and **bindingInformation** contains the port number and FQDN that you want to use for your testing.</span></span>

<a id="OBTAIN"></a>
### <a name="how-to-obtain-your-application-settings-for-microsoft-authentication"></a><span data-ttu-id="3dee5-270">Jak uzyskać ustawienia aplikacji dla uwierzytelniania firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="3dee5-270">How to Obtain your Application Settings for Microsoft Authentication</span></span>

<span data-ttu-id="3dee5-271">Łączenie aplikacji do usługi Windows Live dla Microsoft Authentication jest prosty proces.</span><span class="sxs-lookup"><span data-stu-id="3dee5-271">Linking an application to Windows Live for Microsoft Authentication is a simple process.</span></span> <span data-ttu-id="3dee5-272">Jeśli aplikacji do usługi Windows Live nie jest już połączony, można użyć następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="3dee5-272">If you have not already linked an application to Windows Live, you can use the following steps:</span></span>

1. <span data-ttu-id="3dee5-273">Przejdź do [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070) i wprowadź nazwę konta Microsoft i hasło po wyświetleniu monitu, a następnie kliknij przycisk **Zaloguj**:</span><span class="sxs-lookup"><span data-stu-id="3dee5-273">Browse to [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070) and enter your Microsoft account name and password when prompted, then click **Sign in**:</span></span>

    <span data-ttu-id="3dee5-274">[![](external-authentication-services/_static/image64.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-274">[![](external-authentication-services/_static/image64.png "Click to Expand the Image")](external-authentication-services/_static/image63.png)</span></span>
2. <span data-ttu-id="3dee5-275">Wprowadź nazwę i język aplikacji po wyświetleniu monitu, a następnie kliknij przycisk **akceptuję**:</span><span class="sxs-lookup"><span data-stu-id="3dee5-275">Enter the name and language of your application when prompted, and then click **I accept**:</span></span>

    <span data-ttu-id="3dee5-276">[![](external-authentication-services/_static/image66.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image65.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-276">[![](external-authentication-services/_static/image66.png "Click to Expand the Image")](external-authentication-services/_static/image65.png)</span></span>
3. <span data-ttu-id="3dee5-277">Na **ustawień interfejsu API** strony dla aplikacji, wprowadź domenę przekierowania aplikacji i skopiuj **identyfikator klienta** i **klucz tajny klienta** dla projektu, a następnie Kliknij przycisk **zapisać**:</span><span class="sxs-lookup"><span data-stu-id="3dee5-277">On the **API Settings** page for your application, enter the redirect domain for your application and copy the **Client ID** and **Client secret** for your project, and then click **Save**:</span></span>

    <span data-ttu-id="3dee5-278">[![](external-authentication-services/_static/image68.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image67.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-278">[![](external-authentication-services/_static/image68.png "Click to Expand the Image")](external-authentication-services/_static/image67.png)</span></span>

<a id="DISABLE"></a>
### <a name="optional-disable-local-registration"></a><span data-ttu-id="3dee5-279">Opcjonalnie: Wyłącz lokalnej rejestracji</span><span class="sxs-lookup"><span data-stu-id="3dee5-279">Optional: Disable Local Registration</span></span>

<span data-ttu-id="3dee5-280">Bieżącą funkcjonalność lokalnego rejestracji programu ASP.NET nie uniemożliwia tworzenie kont; element członkowski automatycznych programów (robotów) na przykład, korzystając z technologii zapobiegania bot i sprawdzania poprawności, takich jak [CAPTCHA](../../../web-pages/overview/security/16-adding-security-and-membership.md).</span><span class="sxs-lookup"><span data-stu-id="3dee5-280">The current ASP.NET local registration functionality does not prevent automated programs (bots) from creating member accounts; for example, by using a bot-prevention and validation technology like [CAPTCHA](../../../web-pages/overview/security/16-adding-security-and-membership.md).</span></span> <span data-ttu-id="3dee5-281">W związku z tym należy usunąć link do logowania lokalnego formularza i rejestracji na stronie logowania.</span><span class="sxs-lookup"><span data-stu-id="3dee5-281">Because of this, you should remove the local login form and registration link on the login page.</span></span> <span data-ttu-id="3dee5-282">Aby to zrobić, otwórz  *\_Login.cshtml* w projekcie, a następnie komentarz wierszy panel logowania lokalnego i łącze.</span><span class="sxs-lookup"><span data-stu-id="3dee5-282">To do so, open the *\_Login.cshtml* page in your project, and then comment out the lines for the local login panel and the registration link.</span></span> <span data-ttu-id="3dee5-283">Wynikowej strony powinien wyglądać podobnie jak w poniższym przykładzie kodu:</span><span class="sxs-lookup"><span data-stu-id="3dee5-283">The resulting page should look like the following code sample:</span></span>

[!code-html[Main](external-authentication-services/samples/sample10.html)]

<span data-ttu-id="3dee5-284">Po wyłączeniu panel logowania lokalnego i połącz rejestracji, strona logowania będą wyświetlane tylko dostawcy uwierzytelniania zewnętrznego, które włączono:</span><span class="sxs-lookup"><span data-stu-id="3dee5-284">Once the local login panel and the registration link have been disabled, your login page will only display the external authentication providers that you have enabled:</span></span>

<span data-ttu-id="3dee5-285">[![](external-authentication-services/_static/image70.png "Kliknij, aby rozwinąć obrazu")](external-authentication-services/_static/image69.png)</span><span class="sxs-lookup"><span data-stu-id="3dee5-285">[![](external-authentication-services/_static/image70.png "Click to Expand the Image")](external-authentication-services/_static/image69.png)</span></span>
