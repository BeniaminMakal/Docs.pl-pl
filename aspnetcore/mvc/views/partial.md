---
title: Widoki częściowe w platformy ASP.NET Core
author: ardalis
description: Dowiedz się, jak jest widok częściowy widoku, który jest umieszczony wewnątrz innego widoku i kiedy powinno się używać w aplikacji platformy ASP.NET Core.
manager: wpickett
ms.author: riande
ms.date: 03/14/2018
ms.prod: asp.net-core
ms.technology: aspnet
ms.topic: article
uid: mvc/views/partial
ms.openlocfilehash: 3deaaeb666e5443d0784f2ac6977e58e1b25d711
ms.sourcegitcommit: 71b93b42cbce8a9b1a12c4d88391e75a4dfb6162
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/20/2018
---
# <a name="partial-views-in-aspnet-core"></a><span data-ttu-id="7622b-103">Widoki częściowe w platformy ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="7622b-103">Partial Views in ASP.NET Core</span></span>

<span data-ttu-id="7622b-104">Przez [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT), i [Scott Sauber](https://twitter.com/scottsauber)</span><span class="sxs-lookup"><span data-stu-id="7622b-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Scott Sauber](https://twitter.com/scottsauber)</span></span>

<span data-ttu-id="7622b-105">Podstawowe ASP.NET MVC obsługuje widoki częściowe, które są przydatne w przypadku wielokrotnego użytku części stron sieci web, którą chcesz udostępnić między różne widoki.</span><span class="sxs-lookup"><span data-stu-id="7622b-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="7622b-106">[Wyświetlić lub pobrać przykładowy kod](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([sposobu pobierania](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="7622b-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="7622b-107">Co to są widoki częściowe?</span><span class="sxs-lookup"><span data-stu-id="7622b-107">What are Partial Views?</span></span>

<span data-ttu-id="7622b-108">Widok częściowy jest widok, w którym jest umieszczony wewnątrz innego widoku.</span><span class="sxs-lookup"><span data-stu-id="7622b-108">A partial view is a view that's rendered within another view.</span></span> <span data-ttu-id="7622b-109">Generowane, wykonując widoku częściowego danych wyjściowych HTML jest renderowany do widoku telefonicznej (lub nadrzędnej).</span><span class="sxs-lookup"><span data-stu-id="7622b-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="7622b-110">Jak widoki, widoki częściowe użyj *.cshtml* rozszerzenia pliku.</span><span class="sxs-lookup"><span data-stu-id="7622b-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="7622b-111">Kiedy należy używać widoki częściowe?</span><span class="sxs-lookup"><span data-stu-id="7622b-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="7622b-112">Widoki częściowe są efektywnym sposobem rozdzielanie dużych widoków na mniejsze części.</span><span class="sxs-lookup"><span data-stu-id="7622b-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="7622b-113">Mogą zmniejszyć duplikatów zawartości widoku i Zezwalaj na wyświetlanie elementów zostanie ponownie.</span><span class="sxs-lookup"><span data-stu-id="7622b-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="7622b-114">Typowe elementy układu powinny być określone w [_Layout.cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="7622b-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="7622b-115">Zawartość do ponownego użycia inne niż układu można hermetyzowany w widoki częściowe.</span><span class="sxs-lookup"><span data-stu-id="7622b-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="7622b-116">Jeśli masz stronę złożone składają się z wielu części logiczne, może być przydatne do pracy z każdego z nich jako własnego widoku częściowego.</span><span class="sxs-lookup"><span data-stu-id="7622b-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="7622b-117">Każda część strony można wyświetlić w izolacji od reszty strony, a widok, w którym sama strona jest znacznie prostsza, ponieważ zawiera ona tylko ogólną strukturę strony i wywołania do renderowania widoków częściowych.</span><span class="sxs-lookup"><span data-stu-id="7622b-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="7622b-118">Porada: Wykonaj [nie powtarzaj samodzielnie zasady](http://deviq.com/don-t-repeat-yourself/) w widoków.</span><span class="sxs-lookup"><span data-stu-id="7622b-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="7622b-119">Deklarowanie widoki częściowe</span><span class="sxs-lookup"><span data-stu-id="7622b-119">Declaring Partial Views</span></span>

<span data-ttu-id="7622b-120">Widoki częściowe są tworzone, podobnie jak inne widoki: tworzenia *.cshtml* pliku w ramach *widoków* folderu.</span><span class="sxs-lookup"><span data-stu-id="7622b-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="7622b-121">Nie ma żadnej semantycznego różnicy między widok częściowy i widokiem regularnych — jest po prostu renderowane inaczej.</span><span class="sxs-lookup"><span data-stu-id="7622b-121">There's no semantic difference between a partial view and a regular view - they're just rendered differently.</span></span> <span data-ttu-id="7622b-122">Masz widoku, który jest zwracany bezpośrednio z poziomu kontrolera `ViewResult`, i tego samego widoku mogą być używane jako widok częściowy.</span><span class="sxs-lookup"><span data-stu-id="7622b-122">You can have a view that's returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="7622b-123">Główną różnicą między sposobu renderowania widoku oraz widoku częściowego jest, że widoki częściowe, nie uruchamiaj *_ViewStart.cshtml* (gdy widoków Dowiedz się więcej o *_ViewStart.cshtml* w [układu ](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="7622b-123">The main difference between how a view and a partial view are rendered is that partial views don't run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="7622b-124">Odwołuje się do widoku częściowego</span><span class="sxs-lookup"><span data-stu-id="7622b-124">Referencing a Partial View</span></span>

<span data-ttu-id="7622b-125">Na stronie widoku istnieją z kilka sposobów, w których można renderowania widoku częściowego.</span><span class="sxs-lookup"><span data-stu-id="7622b-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="7622b-126">Najlepszym rozwiązaniem jest użycie `Html.PartialAsync`, która zwraca `IHtmlString` i może odwoływać się prefiksu to wywołanie `@`:</span><span class="sxs-lookup"><span data-stu-id="7622b-126">The best practice is to use `Html.PartialAsync`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="7622b-127">Można renderowania widoku częściowego z `RenderPartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="7622b-127">You can render a partial view with `RenderPartialAsync`.</span></span> <span data-ttu-id="7622b-128">Ta metoda nie zwraca wyniku; jego strumieni przetworzonych wyników bezpośrednio do odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="7622b-128">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="7622b-129">Ponieważ nie zwraca wyników, musi być wywoływana w bloku kodu Razor:</span><span class="sxs-lookup"><span data-stu-id="7622b-129">Because it doesn't return a result, it must be called within a Razor code block:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=11-13)]

<span data-ttu-id="7622b-130">Ponieważ strumieni wynik bezpośrednio, `RenderPartialAsync` może działać lepiej w niektórych scenariuszach.</span><span class="sxs-lookup"><span data-stu-id="7622b-130">Because it streams the result directly, `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="7622b-131">Jednak zalecane jest, możesz użyć `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="7622b-131">However, it's recommended you use `PartialAsync`.</span></span>

<span data-ttu-id="7622b-132">Gdy są synchroniczne odpowiedniki `Html.PartialAsync` (`Html.Partial`) i `Html.RenderPartialAsync` (`Html.RenderPartial`), użyj odpowiedniki synchroniczne nie jest zalecane, ponieważ istnieją scenariusze, w którym zakleszczenie.</span><span class="sxs-lookup"><span data-stu-id="7622b-132">While there are synchronous equivalents of `Html.PartialAsync` (`Html.Partial`) and `Html.RenderPartialAsync` (`Html.RenderPartial`), use of the synchronous equivalents isn't recommended because there are scenarios where they deadlock.</span></span> <span data-ttu-id="7622b-133">Metod synchronicznych będzie niedostępna w przyszłych wersjach.</span><span class="sxs-lookup"><span data-stu-id="7622b-133">The synchronous methods will be unavailable in future versions.</span></span>

> [!NOTE]
> <span data-ttu-id="7622b-134">Jeśli widoków konieczne jest wykonanie kodu, wzorzec zalecane jest użycie [składnika widoku](view-components.md) zamiast widoku częściowego.</span><span class="sxs-lookup"><span data-stu-id="7622b-134">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="7622b-135">Widok częściowy odnajdywania</span><span class="sxs-lookup"><span data-stu-id="7622b-135">Partial View Discovery</span></span>

<span data-ttu-id="7622b-136">Podczas odwoływania się do widoku częściowego, mogą odwoływać się do lokalizacji na kilka sposobów:</span><span class="sxs-lookup"><span data-stu-id="7622b-136">When referencing a partial view, you can refer to its location in several ways:</span></span>

```cshtml
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@await Html.PartialAsync("ViewName")

// A view with this name must be in the same folder
@await Html.PartialAsync("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@await Html.PartialAsync("~/Views/Folder/ViewName.cshtml")
@await Html.PartialAsync("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@await Html.PartialAsync("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="7622b-137">W folderach inny widok, może mieć różne widoki częściowe o takiej samej nazwie.</span><span class="sxs-lookup"><span data-stu-id="7622b-137">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="7622b-138">Podczas odwoływania się do widoków według nazwy (bez rozszerzenia), widoki w każdym folderze użyje widoku częściowego w tym samym folderze z nimi.</span><span class="sxs-lookup"><span data-stu-id="7622b-138">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="7622b-139">Można także określić domyślny widok częściowy do użycia, umieszczając go w *Shared* folderu.</span><span class="sxs-lookup"><span data-stu-id="7622b-139">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="7622b-140">Udostępniony widoku częściowego będzie używany przez wszystkie widoki, które nie mają własnych wersji widoku częściowego.</span><span class="sxs-lookup"><span data-stu-id="7622b-140">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="7622b-141">Może mieć domyślny widok częściowy (w *Shared*), która zostanie zastąpiona przez widok częściowy o takiej samej nazwie, w tym samym folderze co widoku nadrzędnego.</span><span class="sxs-lookup"><span data-stu-id="7622b-141">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="7622b-142">Widoki częściowe mogą być *łańcuchowej*.</span><span class="sxs-lookup"><span data-stu-id="7622b-142">Partial views can be *chained*.</span></span> <span data-ttu-id="7622b-143">Oznacza to widok częściowy można wywołać inny widok częściowy (o ile nie zostanie utworzona pętli).</span><span class="sxs-lookup"><span data-stu-id="7622b-143">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="7622b-144">W każdym widoku lub widok częściowy ścieżki względne są zawsze względem tego widoku, nie głównego lub nadrzędnej widoku.</span><span class="sxs-lookup"><span data-stu-id="7622b-144">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="7622b-145">W przypadku [Razor](razor.md) `section` w widoku częściowego, nie będzie widoczny dla jego ją klas nadrzędnych; będzie ograniczony do widoku częściowego.</span><span class="sxs-lookup"><span data-stu-id="7622b-145">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="7622b-146">Uzyskiwanie dostępu do danych z częściowa widoków</span><span class="sxs-lookup"><span data-stu-id="7622b-146">Accessing Data From Partial Views</span></span>

<span data-ttu-id="7622b-147">W przypadku wystąpienia widoku częściowego, pobiera on kopię widoku nadrzędnego `ViewData` słownika.</span><span class="sxs-lookup"><span data-stu-id="7622b-147">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="7622b-148">Aktualizacje wprowadzone do danych w widoku częściowego nie są zachowywane dla widoku nadrzędnego.</span><span class="sxs-lookup"><span data-stu-id="7622b-148">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="7622b-149">`ViewData` zmieniony w częściowym widoku zostaną utracone po powrocie z widoku częściowego.</span><span class="sxs-lookup"><span data-stu-id="7622b-149">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="7622b-150">Można przekazać wystąpienia `ViewDataDictionary` widoku częściowego:</span><span class="sxs-lookup"><span data-stu-id="7622b-150">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", customViewData)
```

<span data-ttu-id="7622b-151">Można również przekazać model do widoku częściowego.</span><span class="sxs-lookup"><span data-stu-id="7622b-151">You can also pass a model into a partial view.</span></span> <span data-ttu-id="7622b-152">Może to być modelu widoku strony lub niestandardowy obiekt.</span><span class="sxs-lookup"><span data-stu-id="7622b-152">This can be the page's view model or a custom object.</span></span> <span data-ttu-id="7622b-153">Można przekazać przy użyciu modelu `PartialAsync` lub `RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="7622b-153">You can pass a model to `PartialAsync` or `RenderPartialAsync`:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", viewModel)
```

<span data-ttu-id="7622b-154">Można przekazać wystąpienia `ViewDataDictionary` i widok częściowy przy użyciu modelu widoku:</span><span class="sxs-lookup"><span data-stu-id="7622b-154">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="7622b-155">Kod znaczników, poniżej przedstawiono *Views/Articles/Read.cshtml* widoku, który zawiera dwa widoki częściowe.</span><span class="sxs-lookup"><span data-stu-id="7622b-155">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="7622b-156">Przekazuje drugiego widoku częściowego w modelu i `ViewData` do widoku częściowego.</span><span class="sxs-lookup"><span data-stu-id="7622b-156">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="7622b-157">Można przekazać nowy `ViewData` słownika przy zachowaniu istniejących `ViewData` użycie przeładowania konstruktora z `ViewDataDictionary` wyróżniono poniżej:</span><span class="sxs-lookup"><span data-stu-id="7622b-157">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="7622b-158">*Widoki/udostępnione/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="7622b-158">*Views/Shared/AuthorPartial*:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="7622b-159">*ArticleSection* częściowe:</span><span class="sxs-lookup"><span data-stu-id="7622b-159">The *ArticleSection* partial:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="7622b-160">W czasie wykonywania, częściowe są renderowane w widoku nadrzędnym, które jest renderowany w ramach udostępnionego *_Layout.cshtml*</span><span class="sxs-lookup"><span data-stu-id="7622b-160">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![dane wyjściowe widok częściowy](partial/_static/output.png)
