---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
title: Omówienie Wstawianie, aktualizowanie i usuwanie danych (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: W tym samouczku zajmiemy się tym, jak zamapować operacji Insert() ObjectDataSource, Update(), i Delete() metod do metod logiki warstwy Biznesowej klasy, a także sposobu konfigu...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: b651dc58-93c7-4f83-a74e-3b99f6d60848
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
msc.type: authoredcontent
ms.openlocfilehash: dbd111f79eda6006cb9aed59d8fd0b0342415833
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
ms.locfileid: "30891233"
---
<a name="an-overview-of-inserting-updating-and-deleting-data-c"></a><span data-ttu-id="75cc0-103">Omówienie Wstawianie, aktualizowanie i usuwanie danych (C#)</span><span class="sxs-lookup"><span data-stu-id="75cc0-103">An Overview of Inserting, Updating, and Deleting Data (C#)</span></span>
====================
<span data-ttu-id="75cc0-104">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="75cc0-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="75cc0-105">[Pobierz przykładową aplikację](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) lub [pobierania plików PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="75cc0-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) or [Download PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span></span>

> <span data-ttu-id="75cc0-106">W tym samouczku zajmiemy się tym, jak zamapować operacji Insert() ObjectDataSource, Update(), metody Delete() do metod logiki warstwy Biznesowej klasy i, a także sposobu konfigurowania kontrolki GridView widoku DetailsView i FormView zapewnienie możliwości modyfikacji danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-106">In this tutorial we'll see how to map an ObjectDataSource's Insert(), Update(), and Delete() methods to the methods of BLL classes, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>


## <a name="introduction"></a><span data-ttu-id="75cc0-107">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="75cc0-107">Introduction</span></span>

<span data-ttu-id="75cc0-108">W ciągu ostatnich kilku samouczki możemy zostały zbadane sposób wyświetlania danych strony ASP.NET przy użyciu kontrolki GridView widoku DetailsView i FormView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-108">Over the past several tutorials we've examined how to display data in an ASP.NET page using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="75cc0-109">Formanty po prostu działa z dane do nich.</span><span class="sxs-lookup"><span data-stu-id="75cc0-109">These controls simply work with data supplied to them.</span></span> <span data-ttu-id="75cc0-110">Zazwyczaj tych kontrolek dostęp do danych za pomocą formantu źródła danych, takich jak ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="75cc0-110">Commonly, these controls access data through the use of a data source control, such as the ObjectDataSource.</span></span> <span data-ttu-id="75cc0-111">Firma Microsoft przedstawiono sposób ObjectDataSource działa jako serwer proxy między strony ASP.NET i danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-111">We've seen how the ObjectDataSource acts as a proxy between the ASP.NET page and the underlying data.</span></span> <span data-ttu-id="75cc0-112">Element GridView potrzebne do wyświetlania danych, wywołuje jego ObjectDataSource `Select()` metodę, która z kolei wywołuje metodę z naszych firm logiki warstwy (logiki warstwy Biznesowej), która wywołuje metodę w odpowiedniej warstwie dostępu do danych firmy (DAL) TableAdapter, który z kolei wysyła `SELECT` zapytania do bazy danych Northwind.</span><span class="sxs-lookup"><span data-stu-id="75cc0-112">When a GridView needs to display data, it invokes its ObjectDataSource's `Select()` method, which in turn invokes a method from our Business Logic Layer (BLL), which calls a method in the appropriate Data Access Layer's (DAL) TableAdapter, which in turn sends a `SELECT` query to the Northwind database.</span></span>

<span data-ttu-id="75cc0-113">Odwołania, który po utworzyliśmy TableAdapters w DAL w [naszym pierwszym samouczku](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatycznie dodawane metod wstawiania, aktualizowania, i usuwanie danych z podstawowej bazy danych tabeli.</span><span class="sxs-lookup"><span data-stu-id="75cc0-113">Recall that when we created the TableAdapters in the DAL in [our first tutorial](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatically added methods for inserting, updating, and deleting data from the underlying database table.</span></span> <span data-ttu-id="75cc0-114">Ponadto w [Tworzenie warstwy logiki biznesowej](../introduction/creating-a-business-logic-layer-cs.md) metod w logiki warstwy Biznesowej, który wywołuje w dół możemy przeznaczony do tych metod DAL modyfikacji danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-114">Moreover, in [Creating a Business Logic Layer](../introduction/creating-a-business-logic-layer-cs.md) we designed methods in the BLL that called down into these data modification DAL methods.</span></span>

<span data-ttu-id="75cc0-115">Oprócz jego `Select()` metody ObjectDataSource ma również `Insert()`, `Update()`, i `Delete()` metody.</span><span class="sxs-lookup"><span data-stu-id="75cc0-115">In addition to its `Select()` method, the ObjectDataSource also has `Insert()`, `Update()`, and `Delete()` methods.</span></span> <span data-ttu-id="75cc0-116">Podobnie jak `Select()` metody te trzy metody mogą być mapowane na metodach obiektu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="75cc0-116">Like the `Select()` method, these three methods can be mapped to methods in an underlying object.</span></span> <span data-ttu-id="75cc0-117">W przypadku skonfigurowania do wstawiania, aktualizacji lub usuwania danych, kontrolki GridView widoku DetailsView i FormView udostępniają interfejs użytkownika do modyfikowania danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-117">When configured to insert, update, or delete data, the GridView, DetailsView, and FormView controls provide a user interface for modifying the underlying data.</span></span> <span data-ttu-id="75cc0-118">Ten interfejs użytkownika wywołuje `Insert()`, `Update()`, i `Delete()` metody ObjectDataSource, które następnie wywołania obiektu źródłowego dla elementów powiązanych metod (patrz rysunek 1).</span><span class="sxs-lookup"><span data-stu-id="75cc0-118">This user interface calls the `Insert()`, `Update()`, and `Delete()` methods of the ObjectDataSource, which then invoke the underlying object's associated methods (see Figure 1).</span></span>


<span data-ttu-id="75cc0-119">[![Element ObjectDataSource operacji Insert(), metody Update() oraz metody Delete() służyć jako serwer Proxy do logiki warstwy Biznesowej](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-119">[![The ObjectDataSource's Insert(), Update(), and Delete() Methods Serve as a Proxy into the BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="75cc0-120">**Rysunek 1**: element ObjectDataSource `Insert()`, `Update()`, i `Delete()` metody służyć jako serwer Proxy do logiki warstwy Biznesowej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-120">**Figure 1**: The ObjectDataSource's `Insert()`, `Update()`, and `Delete()` Methods Serve as a Proxy into the BLL ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span></span>


<span data-ttu-id="75cc0-121">W tym samouczku zajmiemy się tym, jak zamapować ObjectDataSource `Insert()`, `Update()`, i `Delete()` metod do metod klasy w logiki warstwy Biznesowej, a także sposobu konfigurowania kontrolki GridView widoku DetailsView i FormView zapewnienie modyfikacji danych możliwości.</span><span class="sxs-lookup"><span data-stu-id="75cc0-121">In this tutorial we'll see how to map the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods to methods of classes in the BLL, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="step-1-creating-the-insert-update-and-delete-tutorials-web-pages"></a><span data-ttu-id="75cc0-122">Krok 1: Tworzenie Insert, Update i stron sieci Web samouczki Delete</span><span class="sxs-lookup"><span data-stu-id="75cc0-122">Step 1: Creating the Insert, Update, and Delete Tutorials Web Pages</span></span>

<span data-ttu-id="75cc0-123">Przed możemy rozpocząć eksplorowanie jak wstawianie, aktualizowanie i usuwanie danych, najpierw wytłumaczone chwilę, aby utworzyć w naszym projekt witryny sieci Web, które będą potrzebne dla tego samouczka i dalej widocznych kilka stron ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="75cc0-123">Before we start exploring how to insert, update, and delete data, let's first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next several ones.</span></span> <span data-ttu-id="75cc0-124">Rozpocznij od dodania nowy folder o nazwie `EditInsertDelete`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-124">Start by adding a new folder named `EditInsertDelete`.</span></span> <span data-ttu-id="75cc0-125">Następnie dodaj do tego folderu, upewniając się skojarzyć każdą stronę z następujących stron ASP.NET `Site.master` strony głównej:</span><span class="sxs-lookup"><span data-stu-id="75cc0-125">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `DataModificationEvents.aspx`
- `ErrorHandling.aspx`
- `UIValidation.aspx`
- `CustomizedUI.aspx`
- `OptimisticConcurrency.aspx`
- `ConfirmationOnDelete.aspx`
- `UserLevelAccess.aspx`


![Dodawanie stron ASP.NET samouczki dotyczące modyfikacji danych](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image4.png)

<span data-ttu-id="75cc0-127">**Rysunek 2**: Dodawanie stron ASP.NET samouczki dotyczące modyfikacji danych</span><span class="sxs-lookup"><span data-stu-id="75cc0-127">**Figure 2**: Add the ASP.NET Pages for the Data Modification-Related Tutorials</span></span>


<span data-ttu-id="75cc0-128">Podobnie jak w innych folderach `Default.aspx` w `EditInsertDelete` folderu spowoduje wyświetlenie listy samouczków w sekcji.</span><span class="sxs-lookup"><span data-stu-id="75cc0-128">Like in the other folders, `Default.aspx` in the `EditInsertDelete` folder will list the tutorials in its section.</span></span> <span data-ttu-id="75cc0-129">Odwołania, który `SectionLevelTutorialListing.ascx` kontrola użytkownika zapewnia tę funkcję.</span><span class="sxs-lookup"><span data-stu-id="75cc0-129">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="75cc0-130">W związku z tym Dodaj formant użytkownika `Default.aspx` przeciągając je z Eksploratora rozwiązań do widoku projektu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-130">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page's Design view.</span></span>


<span data-ttu-id="75cc0-131">[![Dodaj kontrolkę użytkownika SectionLevelTutorialListing.ascx do Default.aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-131">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span></span>

<span data-ttu-id="75cc0-132">**Rysunek 3**: Dodaj `SectionLevelTutorialListing.ascx` formantu użytkownika `Default.aspx` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-132">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span></span>


<span data-ttu-id="75cc0-133">Ponadto dodanie stron jako wpisów `Web.sitemap` pliku.</span><span class="sxs-lookup"><span data-stu-id="75cc0-133">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="75cc0-134">W szczególności, Dodaj następujący kod po sformatowaniu dostosowane `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="75cc0-134">Specifically, add the following markup after the Customized Formatting `<siteMapNode>`:</span></span>


[!code-xml[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample1.xml)]

<span data-ttu-id="75cc0-135">Po zaktualizowaniu `Web.sitemap`, Poświęć chwilę, aby wyświetlić witrynę sieci Web samouczki, za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="75cc0-135">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="75cc0-136">Menu po lewej stronie zawiera teraz elementy edytowanie, wstawianie i usuwanie samouczki.</span><span class="sxs-lookup"><span data-stu-id="75cc0-136">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![Obecnie mapy witryny zawiera wpisy dla edytowanie, wstawianie i usuwanie samouczki](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image8.png)

<span data-ttu-id="75cc0-138">**Rysunek 4**: mapy witryny teraz zawiera wpisy dla edytowanie, wstawianie i usuwanie samouczki</span><span class="sxs-lookup"><span data-stu-id="75cc0-138">**Figure 4**: The Site Map Now Includes Entries for the Editing, Inserting, and Deleting Tutorials</span></span>


## <a name="step-2-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="75cc0-139">Krok 2: Dodawanie i konfigurowanie kontrolki ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="75cc0-139">Step 2: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="75cc0-140">Ponieważ FormView każdego różnią się w ich możliwości modyfikacji danych i układ widoku GridView, widoku DetailsView i Przeanalizujmy indywidualnie każdej z nich.</span><span class="sxs-lookup"><span data-stu-id="75cc0-140">Since the GridView, DetailsView, and FormView each differ in their data modification capabilities and layout, let's examine each one individually.</span></span> <span data-ttu-id="75cc0-141">Zamiast każdego formantu przy użyciu własnego elementu ObjectDataSource, jednak tylko Utwórzmy pojedynczego ObjectDataSource, które można udostępniać wszystkie przykłady formantów trzy.</span><span class="sxs-lookup"><span data-stu-id="75cc0-141">Rather than have each control using its own ObjectDataSource, however, let's just create a single ObjectDataSource that all three control examples can share.</span></span>

<span data-ttu-id="75cc0-142">Otwórz `Basics.aspx` strony, przeciągnij element ObjectDataSource z przybornika do projektanta, a następnie kliknij łącze Konfigurowanie źródła danych z jego tagów inteligentnych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-142">Open the `Basics.aspx` page, drag an ObjectDataSource from the Toolbox onto the Designer, and click the Configure Data Source link from its smart tag.</span></span> <span data-ttu-id="75cc0-143">Ponieważ `ProductsBLL` jest to jedyna klasa logiki warstwy Biznesowej, która udostępnia edytowanie, wstawianie i usuwanie metody, należy skonfigurować element ObjectDataSource używanie tej klasy.</span><span class="sxs-lookup"><span data-stu-id="75cc0-143">Since the `ProductsBLL` is the only BLL class that provides editing, inserting, and deleting methods, configure the ObjectDataSource to use this class.</span></span>


<span data-ttu-id="75cc0-144">[![Skonfiguruj ObjectDataSource do użycia klasy ProductsBLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-144">[![Configure the ObjectDataSource to Use the ProductsBLL Class](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="75cc0-145">**Rysunek 5**: Konfigurowanie ObjectDataSource użyć `ProductsBLL` klasy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-145">**Figure 5**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span></span>


<span data-ttu-id="75cc0-146">Na następnym ekranie można określić jakie metody `ProductsBLL` klasy są zamapowane na element ObjectDataSource `Select()`, `Insert()`, `Update()`, i `Delete()` zaznaczając odpowiednią kartę i wybrać metodę z listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="75cc0-146">In the next screen we can specify what methods of the `ProductsBLL` class are mapped to the ObjectDataSource's `Select()`, `Insert()`, `Update()`, and `Delete()` by selecting the appropriate tab and choosing the method from the drop-down list.</span></span> <span data-ttu-id="75cc0-147">Rysunek 6, który powinna wyglądać znajomo przez teraz, mapy ObjectDataSource `Select()` metodę `ProductsBLL` klasy `GetProducts()` metody.</span><span class="sxs-lookup"><span data-stu-id="75cc0-147">Figure 6, which should look familiar by now, maps the ObjectDataSource's `Select()` method to the `ProductsBLL` class's `GetProducts()` method.</span></span> <span data-ttu-id="75cc0-148">`Insert()`, `Update()`, I `Delete()` metod można skonfigurować, wybierając odpowiednią kartę z listy na górze.</span><span class="sxs-lookup"><span data-stu-id="75cc0-148">The `Insert()`, `Update()`, and `Delete()` methods can be configured by selecting the appropriate tab from the list along the top.</span></span>


<span data-ttu-id="75cc0-149">[![Element ObjectDataSource powrót wszystkich produktów](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-149">[![Have the ObjectDataSource Return All of the Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="75cc0-150">**Rysunek 6**: ma element ObjectDataSource zwraca wszystkie produkty ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-150">**Figure 6**: Have the ObjectDataSource Return All of the Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span></span>


<span data-ttu-id="75cc0-151">Rysunki 7, 8 i 9 Pokaż UPDATE, INSERT i DELETE ObjectDataSource karty.</span><span class="sxs-lookup"><span data-stu-id="75cc0-151">Figures 7, 8, and 9 show the ObjectDataSource's UPDATE, INSERT, and DELETE tabs.</span></span> <span data-ttu-id="75cc0-152">Konfigurowanie tych kart, aby `Insert()`, `Update()`, i `Delete()` wywołania metody `ProductsBLL` klasy `UpdateProduct`, `AddProduct`, i `DeleteProduct` metod, odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="75cc0-152">Configure these tabs so that the `Insert()`, `Update()`, and `Delete()` methods invoke the `ProductsBLL` class's `UpdateProduct`, `AddProduct`, and `DeleteProduct` methods, respectively.</span></span>


<span data-ttu-id="75cc0-153">[![Mapowanie metody Update() ObjectDataSource klasy ProductBLL UpdateProduct metody](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-153">[![Map the ObjectDataSource's Update() Method to the ProductBLL Class's UpdateProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="75cc0-154">**Rysunek 7**: mapowanie ObjectDataSource `Update()` metodę `ProductBLL` klasy `UpdateProduct` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-154">**Figure 7**: Map the ObjectDataSource's `Update()` Method to the `ProductBLL` Class's `UpdateProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span></span>


<span data-ttu-id="75cc0-155">[![Map — Metoda operacji Insert() ObjectDataSource do metody AddProduct klasy ProductBLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-155">[![Map the ObjectDataSource's Insert() Method to the ProductBLL Class's AddProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="75cc0-156">**Rysunek 8**: mapowanie ObjectDataSource `Insert()` metodę `ProductBLL` Dodaj klasy `Product` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-156">**Figure 8**: Map the ObjectDataSource's `Insert()` Method to the `ProductBLL` Class's Add `Product` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span></span>


<span data-ttu-id="75cc0-157">[![Map — Metoda Delete() ObjectDataSource klasy ProductBLL DeleteProduct metody](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-157">[![Map the ObjectDataSource's Delete() Method to the ProductBLL Class's DeleteProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="75cc0-158">**Rysunek 9**: mapowanie ObjectDataSource `Delete()` metodę `ProductBLL` klasy `DeleteProduct` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-158">**Figure 9**: Map the ObjectDataSource's `Delete()` Method to the `ProductBLL` Class's `DeleteProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span></span>


<span data-ttu-id="75cc0-159">Można zauważyć, że listy rozwijanej w kartach UPDATE, INSERT i DELETE już tych metod wybrane.</span><span class="sxs-lookup"><span data-stu-id="75cc0-159">You may have noticed that the drop-down lists in the UPDATE, INSERT, and DELETE tabs already had these methods selected.</span></span> <span data-ttu-id="75cc0-160">Jest to dzięki użyciu używanie przez firmę `DataObjectMethodAttribute` który decorates metody `ProducstBLL`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-160">This is thanks to our use of the `DataObjectMethodAttribute` that decorates the methods of `ProducstBLL`.</span></span> <span data-ttu-id="75cc0-161">Na przykład metoda DeleteProduct ma następującą sygnaturą:</span><span class="sxs-lookup"><span data-stu-id="75cc0-161">For example, the DeleteProduct method has the following signature:</span></span>


[!code-csharp[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample2.cs)]

<span data-ttu-id="75cc0-162">`DataObjectMethodAttribute` Atrybut wskazuje na przeznaczenie każdej z metod, czy dla zaznaczenie, wstawianie, aktualizowanie, lub usuwanie i czy jest wartością domyślną jest.</span><span class="sxs-lookup"><span data-stu-id="75cc0-162">The `DataObjectMethodAttribute` attribute indicates the purpose of each method whether it is for selecting, inserting, updating, or deleting and whether or not it's the default value.</span></span> <span data-ttu-id="75cc0-163">Pominięcie te atrybuty podczas tworzenia klas logiki warstwy Biznesowej można będzie muszą ręcznie wybrać metody aktualizacji, Wstaw i usuwanie kart.</span><span class="sxs-lookup"><span data-stu-id="75cc0-163">If you omitted these attributes when creating your BLL classes, you'll need to manually select the methods from the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="75cc0-164">Po upewnieniu się, że odpowiednie `ProductsBLL` metody są zamapowane na element ObjectDataSource `Insert()`, `Update()`, i `Delete()` metod, kliknij przycisk Zakończ, aby zakończyć pracę kreatora.</span><span class="sxs-lookup"><span data-stu-id="75cc0-164">After ensuring that the appropriate `ProductsBLL` methods are mapped to the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods, click Finish to complete the wizard.</span></span>

## <a name="examining-the-objectdatasources-markup"></a><span data-ttu-id="75cc0-165">Badanie znaczników ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="75cc0-165">Examining the ObjectDataSource's Markup</span></span>

<span data-ttu-id="75cc0-166">Po skonfigurowaniu ObjectDataSource jego kreatora, przejdź do widoku źródłowego, aby zbadać wygenerowanego deklaratywne znaczników.</span><span class="sxs-lookup"><span data-stu-id="75cc0-166">After configuring the ObjectDataSource through its wizard, go to the Source view to examine the generated declarative markup.</span></span> <span data-ttu-id="75cc0-167">`<asp:ObjectDataSource>` Tag określa obiekt i metody do wywołania.</span><span class="sxs-lookup"><span data-stu-id="75cc0-167">The `<asp:ObjectDataSource>` tag specifies the underlying object and the methods to invoke.</span></span> <span data-ttu-id="75cc0-168">Ponadto istnieją `DeleteParameters`, `UpdateParameters`, i `InsertParameters` mapowania parametrów wejściowych dla `ProductsBLL` klasy `AddProduct`, `UpdateProduct`, i `DeleteProduct` metod:</span><span class="sxs-lookup"><span data-stu-id="75cc0-168">Additionally, there are `DeleteParameters`, `UpdateParameters`, and `InsertParameters` that map to the input parameters for the `ProductsBLL` class's `AddProduct`, `UpdateProduct`, and `DeleteProduct` methods:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample3.aspx)]

<span data-ttu-id="75cc0-169">Element ObjectDataSource zawiera parametr dla każdego z parametrów wejściowych skojarzonych z nim metod, podobnie jak lista `SelectParameter` s jest obecna, gdy element ObjectDataSource jest skonfigurowany do wywołania metody select, która oczekuje parametru wejściowego (takie jak `GetProductsByCategoryID(categoryID)`).</span><span class="sxs-lookup"><span data-stu-id="75cc0-169">The ObjectDataSource includes a parameter for each of the input parameters for its associated methods, just like a list of `SelectParameter` s is present when the ObjectDataSource is configured to call a select method that expects an input parameter (such as `GetProductsByCategoryID(categoryID)`).</span></span> <span data-ttu-id="75cc0-170">Jak zajmiemy się wkrótce, wartości dla nich `DeleteParameters`, `UpdateParameters`, i `InsertParameters` są ustawiane automatycznie GridView, widoku DetailsView i FormView przed wywołaniem elementu ObjectDataSource `Insert()`, `Update()`, lub `Delete()` Metoda.</span><span class="sxs-lookup"><span data-stu-id="75cc0-170">As we'll see shortly, values for these `DeleteParameters`, `UpdateParameters`, and `InsertParameters` are set automatically by the GridView, DetailsView, and FormView prior to invoking the ObjectDataSource's `Insert()`, `Update()`, or `Delete()` method.</span></span> <span data-ttu-id="75cc0-171">Te wartości można również ustawić programowo, zgodnie z potrzebami, jak omówiono w przyszłości samouczka.</span><span class="sxs-lookup"><span data-stu-id="75cc0-171">These values can also be set programmatically as needed, as we'll discuss in a future tutorial.</span></span>

<span data-ttu-id="75cc0-172">Jeden po stronie za pomocą kreatora można skonfigurować tak, aby element ObjectDataSource powoduje, że program Visual Studio ustawia [właściwości elementu OldValuesParameterFormatString](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) do `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-172">One side effect of using the wizard to configure to ObjectDataSource is that Visual Studio sets the [OldValuesParameterFormatString property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) to `original_{0}`.</span></span> <span data-ttu-id="75cc0-173">Wartość tej właściwości jest używana do włączenia oryginalne wartości danych, edytowania i jest przydatne w przypadku dwóch scenariuszy:</span><span class="sxs-lookup"><span data-stu-id="75cc0-173">This property value is used to include the original values of the data being edited and is useful in two scenarios:</span></span>

- <span data-ttu-id="75cc0-174">Jeśli podczas edytowania rekordu, użytkownicy będą mogli zmienić wartość klucza podstawowego.</span><span class="sxs-lookup"><span data-stu-id="75cc0-174">If, when editing a record, users are able to change the primary key value.</span></span> <span data-ttu-id="75cc0-175">W takim przypadku zarówno nowe wartości klucza podstawowego, jak i oryginalną wartość klucza podstawowego należy podać rekord z oryginalną wartość klucza podstawowego można znaleźć i jego wartość odpowiednio aktualizowany.</span><span class="sxs-lookup"><span data-stu-id="75cc0-175">In this case, both the new primary key value and the original primary key value must be provided so that the record with the original primary key value can be found and have its value updated accordingly.</span></span>
- <span data-ttu-id="75cc0-176">Korzystając z optymistycznej współbieżności.</span><span class="sxs-lookup"><span data-stu-id="75cc0-176">When using optimistic concurrency.</span></span> <span data-ttu-id="75cc0-177">Optymistycznej współbieżności to technika, aby upewnić się, że dwa równoczesnych użytkowników nie zastępuj siebie nawzajem zmiany i jest temat przyszłych samouczek.</span><span class="sxs-lookup"><span data-stu-id="75cc0-177">Optimistic concurrency is a technique to ensure that two simultaneous users don't overwrite one another's changes, and is the topic for a future tutorial.</span></span>

<span data-ttu-id="75cc0-178">`OldValuesParameterFormatString` Właściwość wskazuje nazwę parametry wejściowe w podstawowego obiektu aktualizacji i usuwania metody oryginalnych wartości.</span><span class="sxs-lookup"><span data-stu-id="75cc0-178">The `OldValuesParameterFormatString` property indicates the name of the input parameters in the underlying object's update and delete methods for the original values.</span></span> <span data-ttu-id="75cc0-179">Omówiono ta właściwość i jej celem szczegółowo gdy firma Microsoft Eksploruj optymistycznej współbieżności.</span><span class="sxs-lookup"><span data-stu-id="75cc0-179">We'll discuss this property and its purpose in greater detail when we explore optimistic concurrency.</span></span> <span data-ttu-id="75cc0-180">I wyświetlić go teraz, jednak ponieważ metody naszych logiki warstwy Biznesowej nie oczekuje wartości początkowe i w związku z tym ważne jest, aby usunąć tej właściwości.</span><span class="sxs-lookup"><span data-stu-id="75cc0-180">I bring it up now, however, because our BLL's methods do not expect the original values and therefore it's important that we remove this property.</span></span> <span data-ttu-id="75cc0-181">Pozostawienie `OldValuesParameterFormatString` ustawiona na inny niż domyślny (`{0}`) spowoduje, że wystąpił błąd podczas próby wywołania elementu ObjectDataSource danych formantu sieci Web `Update()` lub `Delete()` metody ponieważ będzie ObjectDataSource próba przekazania zarówno `UpdateParameters` lub `DeleteParameters` określony oraz oryginalnych wartości parametrów.</span><span class="sxs-lookup"><span data-stu-id="75cc0-181">Leaving the `OldValuesParameterFormatString` property set to anything other than the default (`{0}`) will cause an error when a data Web control attempts to invoke the ObjectDataSource's `Update()` or `Delete()` methods because the ObjectDataSource will attempt to pass in both the `UpdateParameters` or `DeleteParameters` specified as well as original value parameters.</span></span>

<span data-ttu-id="75cc0-182">Jeśli to nie jest poważny, wyczyść w tym momencie, nie martw się zajmiemy się ta właściwość i jej narzędzi w przyszłości samouczka.</span><span class="sxs-lookup"><span data-stu-id="75cc0-182">If this isn't terribly clear at this juncture, don't worry, we'll examine this property and its utility in a future tutorial.</span></span> <span data-ttu-id="75cc0-183">Teraz po prostu można niektórych tej deklaracji właściwości całkowicie usunąć z składni deklaratywnej lub ustaw wartość na wartość domyślną ({0}).</span><span class="sxs-lookup"><span data-stu-id="75cc0-183">For now, just be certain to either remove this property declaration entirely from the declarative syntax or set the value to the default value ({0}).</span></span>

> [!NOTE]
> <span data-ttu-id="75cc0-184">Jeśli po prostu wyczyszczenie `OldValuesParameterFormatString` wartości właściwości z okna właściwości w widoku Projekt, właściwość będą nadal istnieć w składni deklaratywnej, ale można ustawić na pusty ciąg.</span><span class="sxs-lookup"><span data-stu-id="75cc0-184">If you simply clear out the `OldValuesParameterFormatString` property value from the Properties window in the Design view, the property will still exist in the declarative syntax, but be set to an empty string.</span></span> <span data-ttu-id="75cc0-185">Niestety, nadal spowoduje ten sam problem opisanych wyżej.</span><span class="sxs-lookup"><span data-stu-id="75cc0-185">This, unfortunately, will still result in the same problem discussed above.</span></span> <span data-ttu-id="75cc0-186">W związku z tym Usuń właściwość całkowicie z składni deklaratywnej lub, w oknie właściwości ustaw wartość domyślną, `{0}`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-186">Therefore, either remove the property altogether from the declarative syntax or, from the Properties window, set the value to the default, `{0}`.</span></span>


## <a name="step-3-adding-a-data-web-control-and-configuring-it-for-data-modification"></a><span data-ttu-id="75cc0-187">Krok 3: Dodawanie formantu danych sieci Web i skonfigurowania go dla modyfikacji danych</span><span class="sxs-lookup"><span data-stu-id="75cc0-187">Step 3: Adding a Data Web Control and Configuring It for Data Modification</span></span>

<span data-ttu-id="75cc0-188">Po dodany do strony i skonfigurowaniu ObjectDataSource już wszystko gotowe do dodania danych formantów sieci Web do strony, aby wyświetlić dane, a także umożliwiają użytkownikom końcowym go zmodyfikować.</span><span class="sxs-lookup"><span data-stu-id="75cc0-188">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to both display the data and provide a means for the end user to modify it.</span></span> <span data-ttu-id="75cc0-189">Przyjrzymy GridView widoku DetailsView i FormView oddzielnie, jak te formantów sieci Web danych różnią się w ich możliwości modyfikacji danych i konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="75cc0-189">We'll look at the GridView, DetailsView, and FormView separately, as these data Web controls differ in their data modification capabilities and configuration.</span></span>

<span data-ttu-id="75cc0-190">Jak zajmiemy się w dalszej części tego artykułu, dodawania bardzo podstawowe edytowanie, wstawianie i usuwanie pomocy technicznej za pośrednictwem widoku DetailsView, w widoku GridView i kontroluje FormView jest naprawdę najprostszą sprawdzanie kilka pól wyboru.</span><span class="sxs-lookup"><span data-stu-id="75cc0-190">As we'll see in the remainder of this article, adding very basic editing, inserting, and deleting support through the GridView, DetailsView, and FormView controls is really as simple as checking a couple of checkboxes.</span></span> <span data-ttu-id="75cc0-191">Istnieje wiele precyzyjnie i przypadków krawędzi w świecie rzeczywistym, które zapewniają takich funkcji, które są bardziej skomplikowane niż tylko polecenie, a następnie kliknij.</span><span class="sxs-lookup"><span data-stu-id="75cc0-191">There are many subtleties and edge cases in the real-world that make providing such functionality more involved than just point and click.</span></span> <span data-ttu-id="75cc0-192">Ten samouczek koncentruje się jednak wyłącznie na potwierdzania funkcji modyfikacji simplistic danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-192">This tutorial, however, focuses solely on proving simplistic data modification capabilities.</span></span> <span data-ttu-id="75cc0-193">Samouczki przyszłych zbada dotyczy nasuwające się bez wątpienia w ustawieniu rzeczywistych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-193">Future tutorials will examine concerns that will undoubtedly arise in a real-world setting.</span></span>

## <a name="deleting-data-from-the-gridview"></a><span data-ttu-id="75cc0-194">Usuwanie danych z widoku GridView</span><span class="sxs-lookup"><span data-stu-id="75cc0-194">Deleting Data from the GridView</span></span>

<span data-ttu-id="75cc0-195">Uruchom, wystarczy przeciągnąć element GridView z przybornika do projektanta.</span><span class="sxs-lookup"><span data-stu-id="75cc0-195">Start by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="75cc0-196">Następnie należy powiązać ObjectDataSource widoku GridView, wybierając ją z listy rozwijanej w tagu w widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-196">Next, bind the ObjectDataSource to the GridView by selecting it from the drop-down list in the GridView's smart tag.</span></span> <span data-ttu-id="75cc0-197">W tym momencie deklaratywne znaczników w widoku GridView będzie:</span><span class="sxs-lookup"><span data-stu-id="75cc0-197">At this point the GridView's declarative markup will be:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample4.aspx)]

<span data-ttu-id="75cc0-198">Powiązanie widoku GridView ObjectDataSource za pośrednictwem jego tagów inteligentnych ma dwie korzyści:</span><span class="sxs-lookup"><span data-stu-id="75cc0-198">Binding the GridView to the ObjectDataSource through its smart tag has two benefits:</span></span>

- <span data-ttu-id="75cc0-199">BoundFields i CheckBoxFields są tworzone automatycznie dla każdego pola zwrócony przez element ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="75cc0-199">BoundFields and CheckBoxFields are automatically created for each of the fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="75cc0-200">Ponadto właściwości elementu BoundField i w polu CheckBoxField jest ustawiona na podstawie metadanych pola źródłowego.</span><span class="sxs-lookup"><span data-stu-id="75cc0-200">Moreover, the BoundField and CheckBoxField's properties are set based on the underlying field's metadata.</span></span> <span data-ttu-id="75cc0-201">Na przykład `ProductID`, `CategoryName`, i `SupplierName` pola są oznaczone jako tylko do odczytu w `ProductsDataTable` i w związku z tym nie należy zezwalać na aktualizacje podczas edycji.</span><span class="sxs-lookup"><span data-stu-id="75cc0-201">For example, the `ProductID`, `CategoryName`, and `SupplierName` fields are marked as read-only in the `ProductsDataTable` and therefore shouldn't be updatable when editing.</span></span> <span data-ttu-id="75cc0-202">Aby zmieścił się w tym, te BoundFields [właściwości tylko do odczytu](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) są ustawione na `true`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-202">To accommodate this, these BoundFields' [ReadOnly properties](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) are set to `true`.</span></span>
- <span data-ttu-id="75cc0-203">[Właściwości DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) jest przypisany do pola klucza podstawowego obiektu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="75cc0-203">The [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) is assigned to the primary key field(s) of the underlying object.</span></span> <span data-ttu-id="75cc0-204">Jest to istotne, kiedy przy użyciu widoku GridView do edycji lub usuwania danych, ponieważ ta właściwość wskazuje pola (lub zestaw pól) to unikatowy identyfikuje każdego rekordu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-204">This is essential when using the GridView for editing or deleting data, as this property indicates the field (or set of fields) that unique identifies each record.</span></span> <span data-ttu-id="75cc0-205">Aby uzyskać więcej informacji na temat `DataKeyNames` właściwości, odwołaj się do [wzorca/Detail, przy użyciu wybieranych GridView wzorca z DetailView szczegóły](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) samouczka.</span><span class="sxs-lookup"><span data-stu-id="75cc0-205">For more information on the `DataKeyNames` property, refer back to the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="75cc0-206">Gdy widoku GridView może być powiązana z ObjectDataSource przy użyciu okna właściwości lub składni deklaratywnej, wymaga można ręcznie dodać odpowiedniego elementu BoundField i `DataKeyNames` znaczników.</span><span class="sxs-lookup"><span data-stu-id="75cc0-206">While the GridView can be bound to the ObjectDataSource through the Properties window or declarative syntax, doing so requires you to manually add the appropriate BoundField and `DataKeyNames` markup.</span></span>

<span data-ttu-id="75cc0-207">Kontrolki widoku siatki udostępnia wbudowaną obsługę na poziomie wiersza, edytowanie i usuwanie.</span><span class="sxs-lookup"><span data-stu-id="75cc0-207">The GridView control provides built-in support for row-level editing and deleting.</span></span> <span data-ttu-id="75cc0-208">Konfigurowanie GridView do obsługi usuwanie dodaje kolumnę przycisków Delete.</span><span class="sxs-lookup"><span data-stu-id="75cc0-208">Configuring a GridView to support deleting adds a column of Delete buttons.</span></span> <span data-ttu-id="75cc0-209">Gdy użytkownik końcowy kliknie przycisk usuwania dla danego wiersza, ensues odświeżania strony i widoku GridView wykonuje następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="75cc0-209">When the end user clicks the Delete button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="75cc0-210">Element ObjectDataSource `DeleteParameters` są przypisane wartości</span><span class="sxs-lookup"><span data-stu-id="75cc0-210">The ObjectDataSource's `DeleteParameters` value(s) are assigned</span></span>
2. <span data-ttu-id="75cc0-211">Element ObjectDataSource `Delete()` wywoływana jest metoda, usuwanie określonego rekordu</span><span class="sxs-lookup"><span data-stu-id="75cc0-211">The ObjectDataSource's `Delete()` method is invoked, deleting the specified record</span></span>
3. <span data-ttu-id="75cc0-212">Widoku GridView rebinds się do elementu ObjectDataSource przez wywołanie jego `Select()` — metoda</span><span class="sxs-lookup"><span data-stu-id="75cc0-212">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="75cc0-213">Wartości przypisane do `DeleteParameters` są wartości `DataKeyNames` następującą liczbę pól: kliknięto przycisk Usuń, którego wiersza.</span><span class="sxs-lookup"><span data-stu-id="75cc0-213">The values assigned to the `DeleteParameters` are the values of the `DataKeyNames` field(s) for the row whose Delete button was clicked.</span></span> <span data-ttu-id="75cc0-214">Dlatego istotne jest który element GridView `DataKeyNames` poprawnie można ustawić właściwości.</span><span class="sxs-lookup"><span data-stu-id="75cc0-214">Therefore it's vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="75cc0-215">Jeśli jest on niedostępny, `DeleteParameters` zostanie przypisany `null` wartość w kroku 1, który z kolei nie spowoduje żadnego usunięte rekordy w kroku 2.</span><span class="sxs-lookup"><span data-stu-id="75cc0-215">If it's missing, the `DeleteParameters` will be assigned a `null` value in Step 1, which in turn will not result in any deleted records in Step 2.</span></span>

> [!NOTE]
> <span data-ttu-id="75cc0-216">`DataKeys` Kolekcji znajduje się w widoku GridView stan formantu s, oznacza to, że `DataKeys` wartości zostanie zapamiętany na ogłaszania zwrotnego nawet, jeśli stan widoku GridView s została wyłączona.</span><span class="sxs-lookup"><span data-stu-id="75cc0-216">The `DataKeys` collection is stored in the GridView s control state, meaning that the `DataKeys` values will be remembered across postback even if the GridView s view state has been disabled.</span></span> <span data-ttu-id="75cc0-217">Jednak jest bardzo ważne jest, że stan widoku pozostanie włączony GridViews, która obsługuje edytowania lub usuwania (domyślnie).</span><span class="sxs-lookup"><span data-stu-id="75cc0-217">However, it is very important that view state remains enabled for GridViews that support editing or deleting (the default behavior).</span></span> <span data-ttu-id="75cc0-218">Jeśli ustawisz GridView s `EnableViewState` właściwości `false`, edytowanie i usuwanie zachowanie będzie działać prawidłowo dla pojedynczego użytkownika, ale w przypadku równoczesnych użytkowników usuwania danych, istnieje możliwość, że te równoczesnych użytkowników mogą przypadkowo Usuń lub Edytuj rejestruje, że t ma.</span><span class="sxs-lookup"><span data-stu-id="75cc0-218">If you set the GridView s `EnableViewState` property to `false`, the editing and deleting behavior will work fine for a single user, but if there are concurrent users deleting data, there exists the possibility that these concurrent users may accidentally delete or edit records that they didn t intend.</span></span> <span data-ttu-id="75cc0-219">Zobacz Moje wpis w blogu [Ostrzeżenie: problem współbieżności z ASP.NET 2.0 GridViews/widoku DetailsView/FormViews tej edycji pomocy technicznej i/lub usunięcie i Whose stan widoku jest wyłączona](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="75cc0-219">See my blog entry, [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), for more information.</span></span>


<span data-ttu-id="75cc0-220">Ten sam ostrzeżenie dotyczy również DetailsViews i FormViews.</span><span class="sxs-lookup"><span data-stu-id="75cc0-220">This same warning also applies to DetailsViews and FormViews.</span></span>

<span data-ttu-id="75cc0-221">Aby dodać element GridView możliwości usuwania, przejdź do jego tagów inteligentnych i zaznacz pole wyboru Włącz usuwanie.</span><span class="sxs-lookup"><span data-stu-id="75cc0-221">To add deleting capabilities to a GridView, simply go to its smart tag and check the Enable Deleting checkbox.</span></span>


![Włącz usuwanie pola wyboru Sprawdź](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image24.png)

<span data-ttu-id="75cc0-223">**Na rysunku nr 10**: Sprawdź Włącz usuwanie wyboru</span><span class="sxs-lookup"><span data-stu-id="75cc0-223">**Figure 10**: Check the Enable Deleting Checkbox</span></span>


<span data-ttu-id="75cc0-224">Zaznaczając pole wyboru Włącz usuwanie z tagów inteligentnych dodaje CommandField do widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-224">Checking the Enable Deleting checkbox from the smart tag adds a CommandField to the GridView.</span></span> <span data-ttu-id="75cc0-225">CommandField renderuje kolumny w widoku GridView z przyciski umożliwiające wykonywanie co najmniej jeden z następujących zadań: Wybieranie rekordu, edytowanie rekordu i usuwania rekordu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-225">The CommandField renders a column in the GridView with buttons for performing one or more of the following tasks: selecting a record, editing a record, and deleting a record.</span></span> <span data-ttu-id="75cc0-226">Wcześniej widzieliśmy CommandField w akcji z wybierania rekordów w [wzorca/Detail, przy użyciu wybieranych GridView wzorca z DetailView szczegóły](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) samouczka.</span><span class="sxs-lookup"><span data-stu-id="75cc0-226">We previously saw the CommandField in action with selecting records in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="75cc0-227">CommandField zawiera szereg `ShowXButton` właściwości, które wskazują, jakie serii przyciski są wyświetlane w elemencie CommandField.</span><span class="sxs-lookup"><span data-stu-id="75cc0-227">The CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="75cc0-228">Zaznaczając pole wyboru Włącz usuwanie CommandField których `ShowDeleteButton` jest właściwość `true` został dodany do kolekcji kolumny w widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-228">By checking the Enable Deleting checkbox a CommandField whose `ShowDeleteButton` property is `true` has been added to the GridView's Columns collection.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample5.aspx)]

<span data-ttu-id="75cc0-229">W tym momencie believe nim lub nie skończymy o dodanie obsługi usuwania do widoku GridView!</span><span class="sxs-lookup"><span data-stu-id="75cc0-229">At this point, believe it or not, we're done with adding deleting support to the GridView!</span></span> <span data-ttu-id="75cc0-230">Jak pokazano na rysunku nr 11, podczas odwiedzania tej strony za pośrednictwem przeglądarki kolumnę przycisków Delete jest obecny.</span><span class="sxs-lookup"><span data-stu-id="75cc0-230">As Figure 11 shows, when visiting this page through a browser a column of Delete buttons is present.</span></span>


<span data-ttu-id="75cc0-231">[![CommandField dodaje kolumnę usuwanie przycisków](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-231">[![The CommandField Adds a Column of Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span></span>

<span data-ttu-id="75cc0-232">**Rysunek 11**: CommandField dodaje kolumnę o usuwanie przycisków ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-232">**Figure 11**: The CommandField Adds a Column of Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span></span>


<span data-ttu-id="75cc0-233">Jeśli już zostały konstruowany w tym samouczku od podstaw samodzielnie, podczas testowania tej strony, klikając przycisk Usuń zgłosi wyjątek.</span><span class="sxs-lookup"><span data-stu-id="75cc0-233">If you've been building this tutorial from the ground up on your own, when testing this page clicking the Delete button will raise an exception.</span></span> <span data-ttu-id="75cc0-234">Kontynuuj lekturę, aby dowiedzieć się, dlaczego zostały zgłoszone następujące wyjątki i sposobu ich rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="75cc0-234">Continue reading to learn as to why these exceptions were raised and how to fix them.</span></span>

> [!NOTE]
> <span data-ttu-id="75cc0-235">Jeśli postępujesz zgodnie z wzdłuż przy użyciu pobierania towarzyszące tego samouczka, te problemy mają już uwzględniono w.</span><span class="sxs-lookup"><span data-stu-id="75cc0-235">If you're following along using the download accompanying this tutorial, these problems have already been accounted for.</span></span> <span data-ttu-id="75cc0-236">Jednak I zachęca do przeczytania szczegóły wymienione poniżej, aby łatwiej zidentyfikować problemy, które mogą wystąpić podczas i odpowiedniego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="75cc0-236">However, I encourage you to read through the details listed below to help identify problems that may arise and suitable workarounds.</span></span>


<span data-ttu-id="75cc0-237">Jeśli podczas próby usunięcia produktu, otrzymasz wyjątek, których komunikat jest podobny do "*element ObjectDataSource"ObjectDataSource1"nie można znaleźć nieuniwersalnej metody DeleteProduct, który ma następujące parametry: productID oryginalnego\_ ProductID*, "prawdopodobnie nie pamiętasz usunąć `OldValuesParameterFormatString` właściwości w elemencie ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="75cc0-237">If, when attempting to delete a product, you get an exception whose message is similar to "*ObjectDataSource 'ObjectDataSource1' could not find a non-generic method 'DeleteProduct' that has parameters: productID, original\_ProductID*," you likely forgot to remove the `OldValuesParameterFormatString` property from the ObjectDataSource.</span></span> <span data-ttu-id="75cc0-238">Z `OldValuesParameterFormatString` określona właściwość ObjectDataSource podejmuje próbę przekazania zarówno `productID` i `original_ProductID` parametrów wejściowych `DeleteProduct` metody.</span><span class="sxs-lookup"><span data-stu-id="75cc0-238">With the `OldValuesParameterFormatString` property specified, the ObjectDataSource attempts to pass in both `productID` and `original_ProductID` input parameters to the `DeleteProduct` method.</span></span> <span data-ttu-id="75cc0-239">`DeleteProduct`, jednak akceptuje tylko jeden parametr wejściowy, dlatego wyjątek.</span><span class="sxs-lookup"><span data-stu-id="75cc0-239">`DeleteProduct`, however, only accepts a single input parameter, hence the exception.</span></span> <span data-ttu-id="75cc0-240">Usuwanie `OldValuesParameterFormatString` właściwości (lub ustawieniem dla niego `{0}`) powoduje, że element ObjectDataSource próby nie umożliwia przekazywanie oryginalnego parametru wejściowego.</span><span class="sxs-lookup"><span data-stu-id="75cc0-240">Removing the `OldValuesParameterFormatString` property (or setting it to `{0}`) instructs the ObjectDataSource to not attempt to pass in the original input parameter.</span></span>


<span data-ttu-id="75cc0-241">[![Upewnij się, że właściwość elementu OldValuesParameterFormatString został wyczyszczony](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-241">[![Ensure That the OldValuesParameterFormatString Property Has Been Cleared Out](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="75cc0-242">**Rysunek 12**: Upewnij się, że `OldValuesParameterFormatString` właściwości ma zostać wyczyszczone limit ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-242">**Figure 12**: Ensure That the `OldValuesParameterFormatString` Property Has Been Cleared Out ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span></span>


<span data-ttu-id="75cc0-243">Nawet jeśli były usuwane `OldValuesParameterFormatString` właściwości, nadal wystąpi wyjątek podczas próby usunięcia produktu z komunikatem: "*instrukcji DELETE konflikt z ograniczeniem odwołania" klucz OBCY\_kolejności\_szczegóły \_Produktów*. " Baza danych Northwind zawiera ograniczenie klucza obcego między `Order Details` i `Products` tabeli, co oznacza, że produkt nie można usunąć z systemu, jeśli istnieje co najmniej jeden rekord dla niego w `Order Details` tabeli.</span><span class="sxs-lookup"><span data-stu-id="75cc0-243">Even if you had removed the `OldValuesParameterFormatString` property, you still will get an exception when trying to delete a product with the message: "*The DELETE statement conflicted with the REFERENCE constraint 'FK\_Order\_Details\_Products'*." The Northwind database contains a foreign key constraint between the `Order Details` and `Products` table, meaning that a product cannot be deleted from the system if there are one or more records for it in the `Order Details` table.</span></span> <span data-ttu-id="75cc0-244">Ponieważ każdego produktu w bazie danych Northwind ma co najmniej jeden rekord `Order Details`, nie można usunąć wszystkie produkty, dopóki najpierw usunąć rekordów szczegółów skojarzone zamówienia produktu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-244">Since every product in the Northwind database has at least one record in `Order Details`, we cannot delete any products until we first delete the product's associated order details records.</span></span>


<span data-ttu-id="75cc0-245">[![Usuwanie produkty zabrania ograniczenie klucza obcego](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-245">[![A Foreign Key Constraint Prohibits the Deletion of Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="75cc0-246">**Rysunek 13**: ograniczenie klucza obcego zabrania usunięcia produktów ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-246">**Figure 13**: A Foreign Key Constraint Prohibits the Deletion of Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span></span>


<span data-ttu-id="75cc0-247">W naszym samouczku umożliwia tylko usunięcie wszystkich rekordów z `Order Details` tabeli.</span><span class="sxs-lookup"><span data-stu-id="75cc0-247">For our tutorial, let's just delete all of the records from the `Order Details` table.</span></span> <span data-ttu-id="75cc0-248">W rzeczywistych aplikacjach czy musimy albo:</span><span class="sxs-lookup"><span data-stu-id="75cc0-248">In a real-world application we'd need to either:</span></span>

- <span data-ttu-id="75cc0-249">Ma inny ekran, aby zarządzać szczegółowe informacje o kolejności</span><span class="sxs-lookup"><span data-stu-id="75cc0-249">Have another screen to manage order details information</span></span>
- <span data-ttu-id="75cc0-250">Rozszerzyć `DeleteProduct` metodę w celu uwzględnienia logiki można usunąć szczegółów zamówienia określonego produktu</span><span class="sxs-lookup"><span data-stu-id="75cc0-250">Augment the `DeleteProduct` method to include logic to delete the specified product's order details</span></span>
- <span data-ttu-id="75cc0-251">Zmodyfikuj zapytanie SQL używane przez TableAdapter uwzględnienie usunięcia szczegółów zamówienia określonego produktu</span><span class="sxs-lookup"><span data-stu-id="75cc0-251">Modify the SQL query used by the TableAdapter to include deletion of the specified product's order details</span></span>

<span data-ttu-id="75cc0-252">Umożliwia tylko usunięcie wszystkich rekordów z `Order Details` tabeli, aby obejść ograniczenie klucza obcego.</span><span class="sxs-lookup"><span data-stu-id="75cc0-252">Let's just delete all of the records from the `Order Details` table to circumvent the foreign key constraint.</span></span> <span data-ttu-id="75cc0-253">Przejdź do Eksploratora serwera w programie Visual Studio, kliknij prawym przyciskiem myszy `NORTHWND.MDF` węzeł i wybierz nową kwerendę.</span><span class="sxs-lookup"><span data-stu-id="75cc0-253">Go to the Server Explorer in Visual Studio, right-click on the `NORTHWND.MDF` node, and choose New Query.</span></span> <span data-ttu-id="75cc0-254">Następnie w oknie zapytania, uruchom następującą instrukcję SQL: `DELETE FROM [Order Details]`</span><span class="sxs-lookup"><span data-stu-id="75cc0-254">Then, in the query window, run the following SQL statement: `DELETE FROM [Order Details]`</span></span>


<span data-ttu-id="75cc0-255">[![Usuń wszystkie rekordy z tabeli Szczegóły kolejności](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-255">[![Delete All Records from the Order Details Table](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span></span>

<span data-ttu-id="75cc0-256">**Rysunek 14**: Usuń wszystkie rekordy z `Order Details` tabeli ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-256">**Figure 14**: Delete All Records from the `Order Details` Table ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span></span>


<span data-ttu-id="75cc0-257">Po wyczyszczeniu `Order Details` tabeli, klikając przycisk Usuń spowoduje usunięcie produktu bez błędów.</span><span class="sxs-lookup"><span data-stu-id="75cc0-257">After clearing out the `Order Details` table clicking on the Delete button will delete the product without error.</span></span> <span data-ttu-id="75cc0-258">Jeśli kliknięcie przycisku Usuń nie powoduje usunięcia produktu, sprawdź, upewnij się, że w widoku GridView `DataKeyNames` właściwość jest ustawiona na pola klucza podstawowego (`ProductID`).</span><span class="sxs-lookup"><span data-stu-id="75cc0-258">If clicking on the Delete button does not delete the product, check to ensure that the GridView's `DataKeyNames` property is set to the primary key field (`ProductID`).</span></span>

> [!NOTE]
> <span data-ttu-id="75cc0-259">Po kliknięciu przycisku Usuń ensues odświeżania strony i usunąć rekordu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-259">When clicking on the Delete button a postback ensues and the record is deleted.</span></span> <span data-ttu-id="75cc0-260">Może to być niebezpieczne, ponieważ ułatwia przypadkowo kliknij przycisk Usuń nieprawidłowy wiersz.</span><span class="sxs-lookup"><span data-stu-id="75cc0-260">This can be dangerous since it is easy to accidentally click on the wrong row's Delete button.</span></span> <span data-ttu-id="75cc0-261">W przyszłości samouczek będzie przedstawiono sposób dodawania potwierdzenie po stronie klienta podczas usuwania rekordu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-261">In a future tutorial we'll see how to add a client-side confirmation when deleting a record.</span></span>


## <a name="editing-data-with-the-gridview"></a><span data-ttu-id="75cc0-262">Edytowanie danych z widoku GridView</span><span class="sxs-lookup"><span data-stu-id="75cc0-262">Editing Data with the GridView</span></span>

<span data-ttu-id="75cc0-263">Wraz z usunięciem, kontrolki widoku siatki udostępnia wbudowana obsługa edycji na poziomie wiersza.</span><span class="sxs-lookup"><span data-stu-id="75cc0-263">Along with deleting, the GridView control also provides built-in row-level editing support.</span></span> <span data-ttu-id="75cc0-264">Konfigurowanie GridView do obsługi edycji dodaje kolumnę przycisków edycji.</span><span class="sxs-lookup"><span data-stu-id="75cc0-264">Configuring a GridView to support editing adds a column of Edit buttons.</span></span> <span data-ttu-id="75cc0-265">Z perspektywy użytkownika końcowego, klikając wiersz edycji przycisk przyczyn, które wiersz być edytowalny włączając komórek do pól tekstowych zawierających istniejące wartości i zastępowanie przyciski Anuluj i przycisk Edytuj z aktualizacją.</span><span class="sxs-lookup"><span data-stu-id="75cc0-265">From the end user's perspective, clicking a row's Edit button causes that row to become editable, turning the cells into textboxes containing the existing values and replacing the Edit button with Update and Cancel buttons.</span></span> <span data-ttu-id="75cc0-266">Po wprowadzeniu ich odpowiednich zmian, użytkownik końcowy może kliknij przycisk Aktualizuj, aby zatwierdzić zmiany lub przycisk Anuluj, aby je odrzucić.</span><span class="sxs-lookup"><span data-stu-id="75cc0-266">After making their desired changes, the end user can click the Update button to commit the changes or the Cancel button to discard them.</span></span> <span data-ttu-id="75cc0-267">W obu przypadkach po kliknięciu przycisku aktualizację lub Anuluj widoku GridView zwraca stan wstępnie edycji.</span><span class="sxs-lookup"><span data-stu-id="75cc0-267">In either case, after clicking Update or Cancel the GridView returns to its pre-editing state.</span></span>

<span data-ttu-id="75cc0-268">Z naszych perspektywy Deweloper strony gdy użytkownik końcowy kliknie przycisk edycji dla danego wiersza, ensues odświeżania strony i widoku GridView wykonuje następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="75cc0-268">From our perspective as the page developer, when the end user clicks the Edit button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="75cc0-269">W widoku GridView `EditItemIndex` właściwości jest przypisany do indeks wiersza, którego przycisk Edytuj został kliknięty</span><span class="sxs-lookup"><span data-stu-id="75cc0-269">The GridView's `EditItemIndex` property is assigned to the index of the row whose Edit button was clicked</span></span>
2. <span data-ttu-id="75cc0-270">Widoku GridView rebinds się do elementu ObjectDataSource przez wywołanie jego `Select()` — metoda</span><span class="sxs-lookup"><span data-stu-id="75cc0-270">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>
3. <span data-ttu-id="75cc0-271">Indeks wiersza, który odpowiada `EditItemIndex` jest renderowany w "trybie edycji."</span><span class="sxs-lookup"><span data-stu-id="75cc0-271">The row index that matches the `EditItemIndex` is rendered in "edit mode."</span></span> <span data-ttu-id="75cc0-272">W tym trybie przycisk Edytuj zastępuje przyciski aktualizacji i Anuluj i BoundFields których `ReadOnly` właściwości mają wartość FAŁSZ (ustawienie domyślne) są renderowane jako kontrolki TextBox w sieci Web, którego `Text` właściwości są przypisane do wartości pola danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-272">In this mode, the Edit button is replaced by Update and Cancel buttons and BoundFields whose `ReadOnly` properties are False (the default) are rendered as TextBox Web controls whose `Text` properties are assigned to the data fields' values.</span></span>

<span data-ttu-id="75cc0-273">Na tym etapie kod znaczników jest zwracana w przeglądarce, dzięki czemu użytkownik końcowy wprowadzać żadnych zmian do wiersza danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-273">At this point the markup is returned to the browser, allowing the end user to make any changes to the row's data.</span></span> <span data-ttu-id="75cc0-274">Po kliknięciu przycisku Aktualizuj występuje odświeżania strony i widoku GridView wykonuje następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="75cc0-274">When the user clicks the Update button, a postback occurs and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="75cc0-275">Element ObjectDataSource `UpdateParameters` wartości są przypisane wartości wprowadzonej przez użytkownika końcowego w interfejsie edycji w widoku GridView</span><span class="sxs-lookup"><span data-stu-id="75cc0-275">The ObjectDataSource's `UpdateParameters` value(s) are assigned the values entered by the end user into the GridView's editing interface</span></span>
2. <span data-ttu-id="75cc0-276">Element ObjectDataSource `Update()` wywoływana jest metoda, aktualizowanie określonego rekordu</span><span class="sxs-lookup"><span data-stu-id="75cc0-276">The ObjectDataSource's `Update()` method is invoked, updating the specified record</span></span>
3. <span data-ttu-id="75cc0-277">Widoku GridView rebinds się do elementu ObjectDataSource przez wywołanie jego `Select()` — metoda</span><span class="sxs-lookup"><span data-stu-id="75cc0-277">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="75cc0-278">Przypisane do wartości kluczy podstawowych `UpdateParameters` w kroku 1 pochodzą z wartości określona w `DataKeyNames` właściwości, wartości klucza podstawowego z systemem innym niż pochodzić z tekst w formantach TextBox w sieci Web dla wiersza edytowanej.</span><span class="sxs-lookup"><span data-stu-id="75cc0-278">The primary key values assigned to the `UpdateParameters` in Step 1 come from the values specified in the `DataKeyNames` property, whereas the non-primary key values come from the text in the TextBox Web controls for the edited row.</span></span> <span data-ttu-id="75cc0-279">Zgodnie z usuwania, ważne jest, że w widoku GridView `DataKeyNames` poprawnie można ustawić właściwości.</span><span class="sxs-lookup"><span data-stu-id="75cc0-279">As with deleting, it is vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="75cc0-280">Jeśli jest on niedostępny, `UpdateParameters` zostaną przypisane wartości klucza podstawowego `null` wartość w kroku 1, który z kolei nie spowoduje żadnego zaktualizowane rekordy w kroku 2.</span><span class="sxs-lookup"><span data-stu-id="75cc0-280">If it's missing, the `UpdateParameters` primary key value will be assigned a `null` value in Step 1, which in turn will not result in any updated records in Step 2.</span></span>

<span data-ttu-id="75cc0-281">Funkcje edycji można aktywować, po prostu, zaznaczając pole wyboru Włącz edytowanie w tagu w widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-281">Editing functionality can be activated by simply checking the Enable Editing checkbox in the GridView's smart tag.</span></span>


![Włącz edytowanie pola wyboru Sprawdź](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image37.png)

<span data-ttu-id="75cc0-283">**Rysunek 15**: Sprawdź edycji pole wyboru Włącz</span><span class="sxs-lookup"><span data-stu-id="75cc0-283">**Figure 15**: Check the Enable Editing Checkbox</span></span>


<span data-ttu-id="75cc0-284">Sprawdzanie, pole wyboru Włącz edytowanie doda CommandField (w razie potrzeby) i zestaw jej `ShowEditButton` właściwości `true`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-284">Checking the Enable Editing checkbox will add a CommandField (if needed) and set its `ShowEditButton` property to `true`.</span></span> <span data-ttu-id="75cc0-285">Widzieliśmy wcześniej, CommandField zawiera szereg `ShowXButton` właściwości, które wskazują, jakie serii przyciski są wyświetlane w elemencie CommandField.</span><span class="sxs-lookup"><span data-stu-id="75cc0-285">As we saw earlier, the CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="75cc0-286">Zaznaczając pole wyboru Włącz edytowanie dodaje `ShowEditButton` właściwości istniejącego CommandField:</span><span class="sxs-lookup"><span data-stu-id="75cc0-286">Checking the Enable Editing checkbox adds the `ShowEditButton` property to the existing CommandField:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample6.aspx)]

<span data-ttu-id="75cc0-287">To wszystko jest dodanie obsługi edycji podstawowe.</span><span class="sxs-lookup"><span data-stu-id="75cc0-287">That's all there is to adding rudimentary editing support.</span></span> <span data-ttu-id="75cc0-288">Jak przedstawiono Figure16 edycji interfejs jest raczej surowych każdego elementu BoundField których `ReadOnly` właściwość jest ustawiona na `false` (ustawienie domyślne) jest renderowane jako pole tekstowe.</span><span class="sxs-lookup"><span data-stu-id="75cc0-288">As Figure16 shows, the editing interface is rather crude each BoundField whose `ReadOnly` property is set to `false` (the default) is rendered as a TextBox.</span></span> <span data-ttu-id="75cc0-289">Obejmuje to również pola, takie jak `CategoryID` i `SupplierID`, które są klucze do innych tabel.</span><span class="sxs-lookup"><span data-stu-id="75cc0-289">This includes fields like `CategoryID` and `SupplierID`, which are keys to other tables.</span></span>


<span data-ttu-id="75cc0-290">[![Klikając przycisk Edytuj s Chai wierszy są wyświetlane w trybie edycji](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-290">[![Clicking Chai s Edit Button Displays the Row in Edit Mode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span></span>

<span data-ttu-id="75cc0-291">**Rysunek 16**: s Chai, klikając przycisk Edytuj wierszy są wyświetlane w trybie edycji ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-291">**Figure 16**: Clicking Chai s Edit Button Displays the Row in Edit Mode ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span></span>


<span data-ttu-id="75cc0-292">Oprócz prosząc użytkowników o bezpośredniego edytowania wartości kluczy obcych, Brak interfejsu interfejsu edycji w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="75cc0-292">In addition to asking users to edit foreign key values directly, the editing interface's interface is lacking in the following ways:</span></span>

- <span data-ttu-id="75cc0-293">Jeśli użytkownik wprowadzi `CategoryID` lub `SupplierID` który nie istnieje w bazie danych `UPDATE` będzie narusza ograniczenie klucza obcego, powodując wyjątek do wywołania.</span><span class="sxs-lookup"><span data-stu-id="75cc0-293">If the user enters a `CategoryID` or `SupplierID` that does not exist in the database, the `UPDATE` will violate a foreign key constraint, causing an exception to be raised.</span></span>
- <span data-ttu-id="75cc0-294">Interfejs edytowania nie zawiera żadnych sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="75cc0-294">The editing interface doesn't include any validation.</span></span> <span data-ttu-id="75cc0-295">Jeśli nie podasz wymaganej wartości (takie jak `ProductName`), lub wprowadź wartość ciągu, w którym Oczekiwano wartości numerycznej (na przykład wprowadzić "Zbyt dużo!"</span><span class="sxs-lookup"><span data-stu-id="75cc0-295">If you don't provide a required value (such as `ProductName`), or enter a string value where a numeric value is expected (such as entering "Too much!"</span></span> <span data-ttu-id="75cc0-296">do `UnitPrice` pole tekstowe), zostanie wygenerowany wyjątek.</span><span class="sxs-lookup"><span data-stu-id="75cc0-296">into the `UnitPrice` textbox), an exception will be thrown.</span></span> <span data-ttu-id="75cc0-297">Samouczek przyszłych zbada sposób Dodaj formanty walidacji do edycji interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="75cc0-297">A future tutorial will examine how to add validation controls to the editing user interface.</span></span>
- <span data-ttu-id="75cc0-298">Obecnie *wszystkie* pola produktów, które nie są tylko do odczytu muszą być zawarte w widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-298">Currently, *all* product fields that are not read-only must be included in the GridView.</span></span> <span data-ttu-id="75cc0-299">Jeśli można usunąć pola z widoku GridView, możemy powiedzieć `UnitPrice`, gdy nie ustawiał aktualizowanie danych widoku GridView `UnitPrice` `UpdateParameters` wartość, która zmieniłaby rekordu bazy danych `UnitPrice` do `NULL` wartości.</span><span class="sxs-lookup"><span data-stu-id="75cc0-299">If we were to remove a field from the GridView, say `UnitPrice`, when updating the data the GridView would not set the `UnitPrice` `UpdateParameters` value, which would change the database record's `UnitPrice` to a `NULL` value.</span></span> <span data-ttu-id="75cc0-300">Podobnie, jeśli to pole jest wymagane, takie jak `ProductName`, zostanie usunięty z widoku GridView, aktualizacji zakończy się niepowodzeniem z takimi samymi "*kolumny"ProductName"nie dopuszcza wartości null*" wyjątek wymienionych powyżej.</span><span class="sxs-lookup"><span data-stu-id="75cc0-300">Similarly, if a required field, such as `ProductName`, is removed from the GridView, the update will fail with the same "*Column 'ProductName' does not allow nulls*" exception mentioned above.</span></span>
- <span data-ttu-id="75cc0-301">Formatowanie edycji interfejsu pozostawia się być pożądane.</span><span class="sxs-lookup"><span data-stu-id="75cc0-301">The editing interface formatting leaves a lot to be desired.</span></span> <span data-ttu-id="75cc0-302">`UnitPrice` Jest wyświetlany z czterech miejsc dziesiętnych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-302">The `UnitPrice` is shown with four decimal points.</span></span> <span data-ttu-id="75cc0-303">W idealnym przypadku `CategoryID` i `SupplierID` wartości zawierałoby DropDownLists, który listy kategorii i dostawców w systemie.</span><span class="sxs-lookup"><span data-stu-id="75cc0-303">Ideally the `CategoryID` and `SupplierID` values would contain DropDownLists that list the categories and suppliers in the system.</span></span>

<span data-ttu-id="75cc0-304">Są to wszystkie nieprawidłowości, które firma Microsoft będzie konieczne współdziałać z teraz, ale zostanie rozwiązany w przyszłości samouczki.</span><span class="sxs-lookup"><span data-stu-id="75cc0-304">These are all shortcomings that we'll have to live with for now, but will be addressed in future tutorials.</span></span>

## <a name="inserting-editing-and-deleting-data-with-the-detailsview"></a><span data-ttu-id="75cc0-305">Wstawianie, edytowanie i usuwanie danych z widoku DetailsView</span><span class="sxs-lookup"><span data-stu-id="75cc0-305">Inserting, Editing, and Deleting Data with the DetailsView</span></span>

<span data-ttu-id="75cc0-306">Jak możemy przedstawiono w starszych samouczki, w widoku DetailsView formant zawiera jeden rekord w czasie i, jak GridView, umożliwia edytowanie i usuwanie rekordu aktualnie wyświetlany.</span><span class="sxs-lookup"><span data-stu-id="75cc0-306">As we've seen in earlier tutorials, the DetailsView control displays one record at a time and, like the GridView, allows for editing and deleting of the currently displayed record.</span></span> <span data-ttu-id="75cc0-307">Środowisko zarówno przez użytkownika końcowego związane z edytowanie i usuwanie elementów z widoku DetailsView i przepływu pracy ze strony ASP.NET jest identyczna z widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-307">Both the end user's experience with editing and deleting items from a DetailsView and the workflow from the ASP.NET side is identical to that of the GridView.</span></span> <span data-ttu-id="75cc0-308">Gdy widoku DetailsView różni się od widoku GridView jest również obsługa Wstawianie.</span><span class="sxs-lookup"><span data-stu-id="75cc0-308">Where the DetailsView differs from the GridView is that it also provides built-in inserting support.</span></span>

<span data-ttu-id="75cc0-309">Aby zademonstrować możliwości modyfikacji danych widoku GridView, Rozpocznij od dodania widoku DetailsView do `Basics.aspx` strony powyżej istniejącego widoku GridView i powiązać ją z istniejącego elementu ObjectDataSource przy użyciu tagów inteligentnych DetailsView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-309">To demonstrate the data modification capabilities of the GridView, start by adding a DetailsView to the `Basics.aspx` page above the existing GridView and bind it to the existing ObjectDataSource through the DetailsView's smart tag.</span></span> <span data-ttu-id="75cc0-310">Następnie czyści DetailsView `Height` i `Width` właściwości i zaznacz opcję Włącz stronicowanie w tagu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-310">Next, clear out the DetailsView's `Height` and `Width` properties, and check the Enable Paging option from the smart tag.</span></span> <span data-ttu-id="75cc0-311">Aby umożliwić edytowanie, wstawianie i usuwanie pomocy technicznej, po prostu zaznacz pola wyboru Włącz edytowanie, Włącz wstawianie i usuwanie włączyć w tagu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-311">To enable editing, inserting, and deleting support, simply check the Enable Editing, Enable Inserting, and Enable Deleting checkboxes in the smart tag.</span></span>


![Konfigurowanie obsługi edytowanie, wstawianie i usuwanie widoku DetailsView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image41.png)

<span data-ttu-id="75cc0-313">**Rysunek 17**: Konfigurowanie obsługi edytowanie, wstawianie i usuwanie widoku DetailsView</span><span class="sxs-lookup"><span data-stu-id="75cc0-313">**Figure 17**: Configure the DetailsView to Support Editing, Inserting, and Deleting</span></span>


<span data-ttu-id="75cc0-314">Jako z widoku GridView, dodawanie, edytowanie, wstawiając lub usuwając obsługi dodaje CommandField do widoku DetailsView, jak przedstawiono na poniższym składni deklaratywnej:</span><span class="sxs-lookup"><span data-stu-id="75cc0-314">As with the GridView, adding editing, inserting, or deleting support adds a CommandField to the DetailsView, as the following declarative syntax shows:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample7.aspx)]

<span data-ttu-id="75cc0-315">Należy pamiętać, że dla widoku DetailsView CommandField domyślnie pojawia się na końcu kolekcji kolumn.</span><span class="sxs-lookup"><span data-stu-id="75cc0-315">Note that for the DetailsView the CommandField appears at the end of the Columns collection by default.</span></span> <span data-ttu-id="75cc0-316">Ponieważ w widoku DetailsView są renderowane jako wiersze, CommandField występuje jako wiersz z Insert, edytowanie i usuwanie przycisków w dolnej części widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-316">Since the DetailsView's fields are rendered as rows, the CommandField appears as a row with Insert, Edit, and Delete buttons at the bottom of the DetailsView.</span></span>


<span data-ttu-id="75cc0-317">[![Konfigurowanie obsługi edytowanie, wstawianie i usuwanie widoku DetailsView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-317">[![Configure the DetailsView to Support Editing, Inserting, and Deleting](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span></span>

<span data-ttu-id="75cc0-318">**Rysunek 18**: konfigurowanie widoku DetailsView do obsługi edytowanie, wstawianie i usuwanie ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-318">**Figure 18**: Configure the DetailsView to Support Editing, Inserting, and Deleting ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span></span>


<span data-ttu-id="75cc0-319">Kliknij przycisk Usuń taką samą sekwencję zdarzeń, ponieważ rozpoczyna się od widoku GridView: a ogłaszania zwrotnego; następuje widoku DetailsView wypełnianie jej ObjectDataSource `DeleteParameters` na podstawie `DataKeyNames` wartości i zakończone wywołanie jego ObjectDataSource `Delete()` metodę, która faktycznie spowoduje usunięcie produktu z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-319">Clicking on the Delete button starts the same sequence of events as with the GridView: a postback; followed by the DetailsView populating its ObjectDataSource's `DeleteParameters` based on the `DataKeyNames` values; and completed with a call its ObjectDataSource's `Delete()` method, which actually removes the product from the database.</span></span> <span data-ttu-id="75cc0-320">Edytowanie w widoku DetailsView działa również w sposób identyczne z widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-320">Editing in the DetailsView also works in a fashion identical to that of the GridView.</span></span>

<span data-ttu-id="75cc0-321">Podczas wstawiania, użytkownik końcowy zobaczy nowego przycisku, po kliknięciu renderuje widoku DetailsView w "trybie wstawiania."</span><span class="sxs-lookup"><span data-stu-id="75cc0-321">For inserting, the end user is presented with a New button that, when clicked, renders the DetailsView in "insert mode."</span></span> <span data-ttu-id="75cc0-322">Z "tryb wstawiania" nowy przycisk zastępuje Insert i Anuluj przycisków i tylko te BoundFields których `InsertVisible` właściwość jest ustawiona na `true` (ustawienie domyślne) są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="75cc0-322">With "insert mode" the New button is replaced by Insert and Cancel buttons and only those BoundFields whose `InsertVisible` property is set to `true` (the default) are displayed.</span></span> <span data-ttu-id="75cc0-323">Te pola danych identyfikowane jako pola automatycznego przyrostu, takich jak `ProductID`, ma ich [właściwości InsertVisible](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) ustawioną `false` podczas wiązania ze źródłem danych za pomocą tagów inteligentnych widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-323">Those data fields identified as auto-increment fields, such as `ProductID`, have their [InsertVisible property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) set to `false` when binding the DetailsView to the data source through the smart tag.</span></span>

<span data-ttu-id="75cc0-324">Podczas tworzenia wiązania DetailsView za pomocą tagów inteligentnych źródła danych, ustawia Visual Studio `InsertVisible` właściwości `false` tylko dla pól automatycznego przyrostu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-324">When binding a data source to a DetailsView through the smart tag, Visual Studio sets the `InsertVisible` property to `false` only for auto-increment fields.</span></span> <span data-ttu-id="75cc0-325">Pola tylko do odczytu, takich jak `CategoryName` i `SupplierName`, będzie wyświetlana w interfejsie użytkownika "tryb wstawiania", chyba że ich `InsertVisible` właściwość jest jawnie ustawiona na `false`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-325">Read-only fields, like `CategoryName` and `SupplierName`, will be displayed in the "insert mode" user interface unless their `InsertVisible` property is explicitly set to `false`.</span></span> <span data-ttu-id="75cc0-326">Poświęć chwilę, aby ustawić tych dwóch pól `InsertVisible` właściwości `false`, albo za pomocą składni deklaratywnej DetailsView lub Edytuj pola łącze w tagu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-326">Take a moment to set these two fields' `InsertVisible` properties to `false`, either through the DetailsView's declarative syntax or through the Edit Fields link in the smart tag.</span></span> <span data-ttu-id="75cc0-327">19 rysunek pokazuje ustawienie `InsertVisible` właściwości `false` , klikając polecenie Edytuj pola łącza.</span><span class="sxs-lookup"><span data-stu-id="75cc0-327">Figure 19 shows setting the `InsertVisible` properties to `false` by clicking on the Edit Fields link.</span></span>


<span data-ttu-id="75cc0-328">[![Northwind Traders oferuje teraz Zepołowy xyz](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-328">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span></span>

<span data-ttu-id="75cc0-329">**Rysunek 19**: Northwind Traders teraz oferuje xyz Zepołowy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-329">**Figure 19**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span></span>


<span data-ttu-id="75cc0-330">Po ustawieniu `InsertVisible` właściwości, widok `Basics.aspx` strony w przeglądarce, a następnie kliknij przycisk Nowy.</span><span class="sxs-lookup"><span data-stu-id="75cc0-330">After setting the `InsertVisible` properties, view the `Basics.aspx` page in a browser and click the New button.</span></span> <span data-ttu-id="75cc0-331">20 rysunek przedstawia widoku DetailsView podczas dodawania nowego napój Zepołowy xyz, do wiersza naszego produktu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-331">Figure 20 shows the DetailsView when adding a new beverage, Acme Tea, to our product line.</span></span>


<span data-ttu-id="75cc0-332">[![Northwind Traders oferuje teraz Zepołowy xyz](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-332">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span></span>

<span data-ttu-id="75cc0-333">**Rysunek 20**: Northwind Traders teraz oferuje xyz Zepołowy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-333">**Figure 20**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span></span>


<span data-ttu-id="75cc0-334">Po Wprowadzanie szczegółów dotyczących Zepołowy xyz, a następnie kliknąć przycisk Wstaw, ensues odświeżania strony i dodawania nowego rekordu do `Products` tabeli bazy danych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-334">After entering the details for Acme Tea and clicking the Insert button, a postback ensues and the new record is added to the `Products` database table.</span></span> <span data-ttu-id="75cc0-335">Ponieważ tego widoku DetailsView zawiera listę produktów, w kolejności, z którym istnieje w tabeli bazy danych, firma Microsoft musi strony do ostatniego produktu Aby zobaczyć nowe produktu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-335">Since this DetailsView lists the products in order with which they exist in the database table, we must page to the last product in order to see the new product.</span></span>


<span data-ttu-id="75cc0-336">[![Szczegóły dotyczące Zepołowy xyz](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-336">[![Details for Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span></span>

<span data-ttu-id="75cc0-337">**Rysunek 21**: szczegóły Zepołowy xyz ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-337">**Figure 21**: Details for Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span></span>


> [!NOTE]
> <span data-ttu-id="75cc0-338">DetailsView [właściwości CurrentMode](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) wskazuje interfejs wyświetlane i może być jedną z następujących wartości: `Edit`, `Insert`, lub `ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-338">The DetailsView's [CurrentMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) indicates the interface being displayed and can be one of the following values: `Edit`, `Insert`, or `ReadOnly`.</span></span> <span data-ttu-id="75cc0-339">[Właściwości DefaultMode właściwości](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) wskazuje trybu DetailsView zwraca po modyfikacji lub Wstaw zostało ukończone i jest używane do wyświetlania widoku DetailsView, jest trwale edycji lub tryb wstawiania.</span><span class="sxs-lookup"><span data-stu-id="75cc0-339">The [DefaultMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) indicates the mode the DetailsView returns to after an edit or insert has been completed and is useful for displaying a DetailsView that is permanently in edit or insert mode.</span></span>


<span data-ttu-id="75cc0-340">Punkt i kliknij przycisk wstawiania i edytowania DetailsView boryka się z te same ograniczenia co widoku GridView: użytkownik musi wprowadzić istniejące `CategoryID` i `SupplierID` wartości do pola tekstowego; nie ma interfejsu wszelka logika weryfikacji; wszystkie pola produktów, które nie zezwalają na `NULL` wartości lub nie ma wartości domyślnej wartości z określonego na poziomie bazy danych muszą być zawarte w Wstawianie interfejsu i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="75cc0-340">The point and click inserting and editing capabilities of the DetailsView suffer from the same limitations as the GridView: the user must enter existing `CategoryID` and `SupplierID` values through a textbox; the interface lacks any validation logic; all product fields that do not allow `NULL` values or don't have a default value specified at the database level must be included in the inserting interface, and so on.</span></span>

<span data-ttu-id="75cc0-341">Techniki omówione zostanie rozszerzanie i udoskonalanie w widoku GridView edycji interfejsu w przyszłości artykuły mogą być stosowane do formantu widoku DetailsView edycji i wstawianie również interfejsów.</span><span class="sxs-lookup"><span data-stu-id="75cc0-341">The techniques we will examine for extending and enhancing the GridView's editing interface in future articles can be applied to the DetailsView control's editing and inserting interfaces as well.</span></span>

## <a name="using-the-formview-for-a-more-flexible-data-modification-user-interface"></a><span data-ttu-id="75cc0-342">Dla bardziej elastyczne interfejsu użytkownika modyfikacji danych przy użyciu widoku FormView</span><span class="sxs-lookup"><span data-stu-id="75cc0-342">Using the FormView for a More Flexible Data Modification User Interface</span></span>

<span data-ttu-id="75cc0-343">FormView oferuje wbudowaną obsługę Wstawianie, edytowanie i usuwanie danych, ale ponieważ używa szablonów zamiast pól nie ma miejsce, nie można dodać BoundFields lub CommandField używany przez formant widoku GridView i widoku DetailsView do dostarczania danych Interfejs modyfikacji.</span><span class="sxs-lookup"><span data-stu-id="75cc0-343">The FormView offers built-in support for inserting, editing, and deleting data, but because it uses templates instead of fields there's no place to add the BoundFields or the CommandField used by the GridView and DetailsView controls to provide the data modification interface.</span></span> <span data-ttu-id="75cc0-344">Zamiast tego interfejsu formantów sieci Web do zbierania użytkownika dane wejściowe podczas dodawania nowego elementu lub edytowanie istniejących wraz z nowym, edytowania, usuwania, wstawiania, aktualizowania i przyciski "Anuluj" należy je dodać ręcznie do odpowiednich szablonów.</span><span class="sxs-lookup"><span data-stu-id="75cc0-344">Instead, this interface the Web controls for collecting user input when adding a new item or editing an existing one along with the New, Edit, Delete, Insert, Update, and Cancel buttons must be added manually to the appropriate templates.</span></span> <span data-ttu-id="75cc0-345">Na szczęście usługa Visual Studio automatycznie utworzy interfejsu potrzebne podczas wiązania ze źródłem danych za pomocą listy rozwijanej w jego tagów inteligentnych FormView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-345">Fortunately, Visual Studio will automatically create the needed interface when binding the FormView to a data source through the drop-down list in its smart tag.</span></span>

<span data-ttu-id="75cc0-346">Aby zilustrować te techniki, Rozpocznij od dodania FormView do `Basics.aspx` strony, a z tagu FormView powiązać go z ObjectDataSource już utworzone.</span><span class="sxs-lookup"><span data-stu-id="75cc0-346">To illustrate these techniques, start by adding a FormView to the `Basics.aspx` page and, from the FormView's smart tag, bind it to the ObjectDataSource already created.</span></span> <span data-ttu-id="75cc0-347">Spowoduje to wygenerowanie `EditItemTemplate`, `InsertItemTemplate`, i `ItemTemplate` dla FormView z kontrolki TextBox w sieci Web do zbierania danych wejściowych użytkownika i kontrolki przycisku w sieci Web dla nowego Edycja, usuwanie, wstawiania, aktualizowania i przyciski "Anuluj".</span><span class="sxs-lookup"><span data-stu-id="75cc0-347">This will generate an `EditItemTemplate`, `InsertItemTemplate`, and `ItemTemplate` for the FormView with TextBox Web controls for collecting the user's input and Button Web controls for the New, Edit, Delete, Insert, Update, and Cancel buttons.</span></span> <span data-ttu-id="75cc0-348">Ponadto FormView `DataKeyNames` właściwość jest ustawiona na pola klucza podstawowego (`ProductID`) zwrócone przez element ObjectDataSource obiektu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-348">Additionally, the FormView's `DataKeyNames` property is set to the primary key field (`ProductID`) of the object returned by the ObjectDataSource.</span></span> <span data-ttu-id="75cc0-349">Sprawdź też, opcja Włącz stronicowanie w widoku FormView tagów inteligentnych.</span><span class="sxs-lookup"><span data-stu-id="75cc0-349">Lastly, check the Enable Paging option in the FormView's smart tag.</span></span>

<span data-ttu-id="75cc0-350">Poniżej pokazano deklaratywne znaczników dla FormView `ItemTemplate` po FormView została powiązana z ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="75cc0-350">The following shows the declarative markup for the FormView's `ItemTemplate` after the FormView has been bound to the ObjectDataSource.</span></span> <span data-ttu-id="75cc0-351">Domyślnie każde pole produktu wartość Boolean nie jest powiązany z `Text` właściwości formantu etykiety sieci Web podczas każdego pola wartość logiczna (`Discontinued`) jest powiązana z `Checked` właściwość wyłączonego formantu CheckBox w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="75cc0-351">By default, each non-Boolean value product field is bound to the `Text` property of a Label Web control while each Boolean value field (`Discontinued`) is bound to the `Checked` property of a disabled CheckBox Web control.</span></span> <span data-ttu-id="75cc0-352">Aby nowy, edytowanie i usuwanie przycisków do wyzwolenia określone zachowanie FormView po kliknięciu, konieczne jest który ich `CommandName` być równa wartości `New`, `Edit`, i `Delete`odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="75cc0-352">In order for the New, Edit, and Delete buttons to trigger certain FormView behavior when clicked, it is imperative that their `CommandName` values be set to `New`, `Edit`, and `Delete`, respectively.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample8.aspx)]

<span data-ttu-id="75cc0-353">22 rysunek przedstawia FormView `ItemTemplate` podczas wyświetlania za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="75cc0-353">Figure 22 shows the FormView's `ItemTemplate` when viewed through a browser.</span></span> <span data-ttu-id="75cc0-354">Każde pole produktu znajduje się nowy, edytowanie i usuwanie przycisków u dołu.</span><span class="sxs-lookup"><span data-stu-id="75cc0-354">Each product field is listed with the New, Edit, and Delete buttons at the bottom.</span></span>


<span data-ttu-id="75cc0-355">[![ItemTemplate Defaut FormView zawiera listę pól produktu oraz nowego, edytowanie i usuwanie przycisków](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-355">[![The Defaut FormView ItemTemplate Lists Each Product Field Along with New, Edit, and Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span></span>

<span data-ttu-id="75cc0-356">**Rysunek 22**: Defaut FormView `ItemTemplate` wymieniono każdego produktu pola wzdłuż z nowej, edytowanie i usuwanie przycisków ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-356">**Figure 22**: The Defaut FormView `ItemTemplate` Lists Each Product Field Along with New, Edit, and Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span></span>


<span data-ttu-id="75cc0-357">Z widoku GridView i widoku DetailsView, klikając przycisk Usuń lub dowolnego przycisku, LinkButton lub ImageButton, takich jak których `CommandName` właściwość jest ustawiona na Delete powoduje odświeżenie strony, wypełnienie przez element ObjectDataSource `DeleteParameters` oparte na FormView `DataKeyNames`wartość, a następnie wywołuje element ObjectDataSource `Delete()` metody.</span><span class="sxs-lookup"><span data-stu-id="75cc0-357">Like with the GridView and DetailsView, clicking the Delete button or any Button, LinkButton, or ImageButton whose `CommandName` property is set to Delete causes a postback, populates the ObjectDataSource's `DeleteParameters` based on the FormView's `DataKeyNames` value, and invokes the ObjectDataSource's `Delete()` method.</span></span>

<span data-ttu-id="75cc0-358">Po kliknięciu przycisku Edytuj ensues odświeżania strony i danych jest odbitych do `EditItemTemplate`, który jest odpowiedzialny za renderowania interfejsu edycji.</span><span class="sxs-lookup"><span data-stu-id="75cc0-358">When the Edit button is clicked a postback ensues and the data is rebound to the `EditItemTemplate`, which is responsible for rendering the editing interface.</span></span> <span data-ttu-id="75cc0-359">Ten interfejs zawiera formanty sieci Web do edytowania danych wraz z przycisków aktualizacji i Anuluj.</span><span class="sxs-lookup"><span data-stu-id="75cc0-359">This interface includes the Web controls for editing data along with the Update and Cancel buttons.</span></span> <span data-ttu-id="75cc0-360">Wartość domyślna `EditItemTemplate` generowane przez Visual Studio zawiera etykiety pól automatycznego przyrostu (`ProductID`), a pole tekstowe dla każdego pola innego typu oraz pola wyboru dla każdego pola wartość logiczna.</span><span class="sxs-lookup"><span data-stu-id="75cc0-360">The default `EditItemTemplate` generated by Visual Studio contains a Label for any auto-increment fields (`ProductID`), a TextBox for each non-Boolean value field, and a CheckBox for each Boolean value field.</span></span> <span data-ttu-id="75cc0-361">To zachowanie jest bardzo podobny do BoundFields automatycznie wygenerowany w formantach GridView i widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-361">This behavior is very similar to the auto-generated BoundFields in the GridView and DetailsView controls.</span></span>

> [!NOTE]
> <span data-ttu-id="75cc0-362">Jeden mały problem z FormView Autogenerowanie `EditItemTemplate` jest renderowania Web pola tekstowego kontrolki dla tych pól, które są tylko do odczytu, takich jak `CategoryName` i `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-362">One small issue with the FormView's auto-generation of the `EditItemTemplate` is that it renders TextBox Web controls for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="75cc0-363">Zajmiemy się tym, jak to uwzględniać wkrótce.</span><span class="sxs-lookup"><span data-stu-id="75cc0-363">We'll see how to account for this shortly.</span></span>


<span data-ttu-id="75cc0-364">Określa, w polu tekstowym `EditItemTemplate` ma ich `Text` właściwość powiązana do ich odpowiednich danych pola przy użyciu wartości *dwukierunkowego wiązania z danymi*.</span><span class="sxs-lookup"><span data-stu-id="75cc0-364">The TextBox controls in the `EditItemTemplate` have their `Text` property bound to the value of their corresponding data field using *two-way databinding*.</span></span> <span data-ttu-id="75cc0-365">Dwukierunkowego wiązania z danymi, wskazywane przez `<%# Bind("dataField") %>`, wykonuje wiązania danych zarówno podczas wiązania danych z szablonu i podczas wypełniania parametry ObjectDataSource wstawiania lub edytowania rekordów.</span><span class="sxs-lookup"><span data-stu-id="75cc0-365">Two-way databinding, denoted by `<%# Bind("dataField") %>`, performs databinding both when binding data to the template and when populating the ObjectDataSource's parameters for inserting or editing records.</span></span> <span data-ttu-id="75cc0-366">Oznacza to, kiedy użytkownik kliknie przycisk Edytuj z `ItemTemplate`, `Bind()` metoda zwraca wartość pola określone dane.</span><span class="sxs-lookup"><span data-stu-id="75cc0-366">That is, when the user clicks the Edit button from the `ItemTemplate`, the `Bind()` method returns the specified data field value.</span></span> <span data-ttu-id="75cc0-367">Po ich zmienia i klika aktualizacji wartości publikowanego Wstecz, który odpowiada pola danych, określić przy użyciu `Bind()` są stosowane do ObjectDataSource `UpdateParameters`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-367">After the user makes their changes and clicks Update, the values posted back that correspond to the data fields specified using `Bind()` are applied to the ObjectDataSource's `UpdateParameters`.</span></span> <span data-ttu-id="75cc0-368">Alternatywnie jednokierunkowe databinding wskazywane przez `<%# Eval("dataField") %>`, tylko pobiera wartości pola danych podczas wiązania danych z szablonu i jest *nie* zwraca wartości wprowadzonych przez użytkownika do parametrów źródła danych na ogłaszania zwrotnego.</span><span class="sxs-lookup"><span data-stu-id="75cc0-368">Alternatively, one-way databinding, denoted by `<%# Eval("dataField") %>`, only retrieves the data field values when binding data to the template and does *not* return the user-entered values to the data source's parameters on postback.</span></span>

<span data-ttu-id="75cc0-369">Następujący kod deklaratywne przedstawia FormView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-369">The following declarative markup shows the FormView's `EditItemTemplate`.</span></span> <span data-ttu-id="75cc0-370">Należy pamiętać, że `Bind()` metoda jest używana w tym miejscu składni wiązania z danymi i formanty aktualizacji i Web przycisku Anuluj mają ich `CommandName` odpowiednio ustawić właściwości.</span><span class="sxs-lookup"><span data-stu-id="75cc0-370">Note that the `Bind()` method is used in the databinding syntax here and that the Update and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample9.aspx)]

<span data-ttu-id="75cc0-371">Nasze `EditItemTemplate`, dla tego punktu, spowoduje, że wyjątek zostanie wygenerowany, firma Microsoft podejmie próbę użycia go.</span><span class="sxs-lookup"><span data-stu-id="75cc0-371">Our `EditItemTemplate`, at this point, will cause an exception to be thrown if we attempt to use it.</span></span> <span data-ttu-id="75cc0-372">Jest to problem, że `CategoryName` i `SupplierName` pola mają być renderowane jako kontrolki TextBox w sieci Web w `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-372">The problem is that the `CategoryName` and `SupplierName` fields are rendered as TextBox Web controls in the `EditItemTemplate`.</span></span> <span data-ttu-id="75cc0-373">Musimy albo zmień tych pól tekstowych etykiety lub usunąć je całkowicie.</span><span class="sxs-lookup"><span data-stu-id="75cc0-373">We either need to change these TextBoxes to Labels or remove them altogether.</span></span> <span data-ttu-id="75cc0-374">Teraz wystarczy usunąć je całkowicie z `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-374">Let's simply delete them entirely from the `EditItemTemplate`.</span></span>

<span data-ttu-id="75cc0-375">23 rysunek przedstawia FormView w przeglądarce po kliknięciu przycisku Edytuj dla Chai.</span><span class="sxs-lookup"><span data-stu-id="75cc0-375">Figure 23 shows the FormView in a browser after the Edit button has been clicked for Chai.</span></span> <span data-ttu-id="75cc0-376">Należy pamiętać, że `SupplierName` i `CategoryName` wyświetlanych w polach `ItemTemplate` nie są już dostępne, ponieważ właśnie usunęliśmy je z `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-376">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them from the `EditItemTemplate`.</span></span> <span data-ttu-id="75cc0-377">Po kliknięciu przycisku Aktualizuj FormView będzie kontynuowana przy użyciu takiej samej kolejności kroków uruchamiających GridView i widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-377">When the Update button is clicked the FormView proceeds through the same sequence of steps as the GridView and DetailsView controls.</span></span>


<span data-ttu-id="75cc0-378">[![Domyślnie EditItemTemplate przedstawia każdego produktu można edytować pola jako pola tekstowego lub pola wyboru](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-378">[![By Default the EditItemTemplate Shows Each Editable Product Field as a TextBox or CheckBox](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span></span>

<span data-ttu-id="75cc0-379">**Rysunek 23**: Domyślnie `EditItemTemplate` pokazuje każdą edycji produktu pole jako pole tekstowe lub wyboru ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-379">**Figure 23**: By Default the `EditItemTemplate` Shows Each Editable Product Field as a TextBox or CheckBox ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span></span>


<span data-ttu-id="75cc0-380">Po kliknięciu przycisku Wstaw FormView `ItemTemplate` ensues odświeżania strony.</span><span class="sxs-lookup"><span data-stu-id="75cc0-380">When the Insert button is clicked the FormView's `ItemTemplate` a postback ensues.</span></span> <span data-ttu-id="75cc0-381">Jednak żadne dane nie jest powiązany z FormView, ponieważ jest dodawany nowy rekord.</span><span class="sxs-lookup"><span data-stu-id="75cc0-381">However, no data is bound to the FormView because a new record is being added.</span></span> <span data-ttu-id="75cc0-382">`InsertItemTemplate` Interfejs zawiera formanty sieci Web do dodawania nowego rekordu wraz z przycisków Insert i Anuluj.</span><span class="sxs-lookup"><span data-stu-id="75cc0-382">The `InsertItemTemplate` interface includes the Web controls for adding a new record along with the Insert and Cancel buttons.</span></span> <span data-ttu-id="75cc0-383">Wartość domyślna `InsertItemTemplate` generowane przez Visual Studio zawiera pole tekstowe dla każdego pola wartości inne niż logiczne i pole wyboru dla każdego pola wartość logiczna, podobny do automatycznego generowania `EditItemTemplate`interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="75cc0-383">The default `InsertItemTemplate` generated by Visual Studio contains a TextBox for each non-Boolean value field and a CheckBox for each Boolean value field, similar to the auto-generated `EditItemTemplate`'s interface.</span></span> <span data-ttu-id="75cc0-384">Formanty pole tekstowe mają ich `Text` właściwość powiązana wartość ich odpowiednich pól danych przy użyciu dwukierunkowego wiązania z danymi.</span><span class="sxs-lookup"><span data-stu-id="75cc0-384">The TextBox controls have their `Text` property bound to the value of their corresponding data field using two-way databinding.</span></span>

<span data-ttu-id="75cc0-385">Następujący kod deklaratywne przedstawia FormView `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-385">The following declarative markup shows the FormView's `InsertItemTemplate`.</span></span> <span data-ttu-id="75cc0-386">Należy pamiętać, że `Bind()` metoda jest używana w tym miejscu składni wiązania z danymi i formanty Insert i Web przycisku Anuluj mają ich `CommandName` odpowiednio ustawić właściwości.</span><span class="sxs-lookup"><span data-stu-id="75cc0-386">Note that the `Bind()` method is used in the databinding syntax here and that the Insert and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample10.aspx)]

<span data-ttu-id="75cc0-387">Brak subtlety z FormView Autogenerowanie `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-387">There's a subtlety with the FormView's auto-generation of the `InsertItemTemplate`.</span></span> <span data-ttu-id="75cc0-388">W szczególności kontrolki TextBox w sieci Web są tworzone nawet dla tych pól, które są tylko do odczytu, takich jak `CategoryName` i `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-388">Specifically, the TextBox Web controls are created even for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="75cc0-389">Jak `EditItemTemplate`, należy usunąć te pola tekstowe z `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="75cc0-389">Like with the `EditItemTemplate`, we need to remove these TextBoxes from the `InsertItemTemplate`.</span></span>

<span data-ttu-id="75cc0-390">24 rysunek przedstawia FormView w przeglądarce podczas dodawania nowego produktu xyz kawy.</span><span class="sxs-lookup"><span data-stu-id="75cc0-390">Figure 24 shows the FormView in a browser when adding a new product, Acme Coffee.</span></span> <span data-ttu-id="75cc0-391">Należy pamiętać, że `SupplierName` i `CategoryName` wyświetlanych w polach `ItemTemplate` nie są już dostępne, ponieważ właśnie usunęliśmy je.</span><span class="sxs-lookup"><span data-stu-id="75cc0-391">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them.</span></span> <span data-ttu-id="75cc0-392">Po kliknięciu przycisku Wstaw przychody FormView za pomocą tej samej sekwencji kroki jako formant widoku DetailsView dodawania nowego rekordu do `Products` tabeli.</span><span class="sxs-lookup"><span data-stu-id="75cc0-392">When the Insert button is clicked the FormView proceeds through the same sequence of steps as the DetailsView control, adding a new record to the `Products` table.</span></span> <span data-ttu-id="75cc0-393">25 rysunek przedstawia kawy xyz szczegółowe w widoku FormView po został wstawiony.</span><span class="sxs-lookup"><span data-stu-id="75cc0-393">Figure 25 shows Acme Coffee product's details in the FormView after it has been inserted.</span></span>


<span data-ttu-id="75cc0-394">[![InsertItemTemplate nakazują interfejsu Wstawianie FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-394">[![The InsertItemTemplate Dictates the FormView's Inserting Interface](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span></span>

<span data-ttu-id="75cc0-395">**Rysunek 24**: `InsertItemTemplate` nakazują FormView Wstawianie interfejsu ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-395">**Figure 24**: The `InsertItemTemplate` Dictates the FormView's Inserting Interface ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span></span>


<span data-ttu-id="75cc0-396">[![Szczegóły dotyczące nowego produktu, XYZ kawy, są wyświetlane w widoku FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="75cc0-396">[![The Details for New Product, Acme Coffee, are Displayed in the FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span></span>

<span data-ttu-id="75cc0-397">**Rysunek 25**: w widoku FormView wyświetlane są szczegóły dotyczące nowego produktu, kawa xyz ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span><span class="sxs-lookup"><span data-stu-id="75cc0-397">**Figure 25**: The Details for New Product, Acme Coffee, are Displayed in the FormView ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span></span>


<span data-ttu-id="75cc0-398">Oddzielając się tylko do odczytu, edytowanie i wstawianie interfejsy do trzech osobnych szablonów, FormView umożliwia dokładniejszą kontrolę nad te interfejsy niż widoku DetailsView i widoku GridView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-398">By separating out the read-only, editing, and inserting interfaces into three separate templates, the FormView allows for a finer degree of control over these interfaces than the DetailsView and GridView.</span></span>

> [!NOTE]
> <span data-ttu-id="75cc0-399">DetailsView, FormView, takich jak `CurrentMode` właściwość wskazuje interfejs wyświetlane i jego `DefaultMode` właściwość wskazuje tryb zwraca FormView do po modyfikacji lub Wstaw została ukończona.</span><span class="sxs-lookup"><span data-stu-id="75cc0-399">Like the DetailsView, the FormView's `CurrentMode` property indicates the interface being displayed and its `DefaultMode` property indicates the mode the FormView returns to after an edit or insert has been completed.</span></span>


## <a name="summary"></a><span data-ttu-id="75cc0-400">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="75cc0-400">Summary</span></span>

<span data-ttu-id="75cc0-401">W tym samouczku będziemy zbadać podstawy Wstawianie, edytowanie i usuwanie danych przy użyciu widoku GridView widoku DetailsView i FormView.</span><span class="sxs-lookup"><span data-stu-id="75cc0-401">In this tutorial we examined the basics of inserting, editing, and deleting data using the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="75cc0-402">Wszystkie trzy formanty Podaj pewnego poziomu możliwości modyfikacji danych wbudowanych, które mogą zostać użyte bez pisania pojedynczy wiersz kodu na stronie platformy ASP.NET dzięki użyciu formantów sieci Web danych i ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="75cc0-402">All three of these controls provide some level of built-in data modification capabilities that can be utilized without writing a single line of code in the ASP.NET page thanks to the data Web controls and the ObjectDataSource.</span></span> <span data-ttu-id="75cc0-403">Jednak prosty i kliknij opcję dość frail renderowania technik i interfejs użytkownika modyfikacji danych prosty.</span><span class="sxs-lookup"><span data-stu-id="75cc0-403">However, the simple point and click techniques render a fairly frail and naïve data modification user interface.</span></span> <span data-ttu-id="75cc0-404">W celu udostępnienia weryfikacji, wstrzyknąć programowe wartości, obsługiwać wyjątki dostosowania interfejsu użytkownika i itd., potrzebujemy polegać na bevy technik, które zostaną dokładniej omówione w następnym samouczki kilka.</span><span class="sxs-lookup"><span data-stu-id="75cc0-404">To provide validation, inject programmatic values, gracefully handle exceptions, customize the user interface, and so on, we'll need to rely on a bevy of techniques that will be discussed over the next several tutorials.</span></span>

<span data-ttu-id="75cc0-405">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="75cc0-405">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="75cc0-406">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="75cc0-406">About the Author</span></span>

<span data-ttu-id="75cc0-407">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="75cc0-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="75cc0-408">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="75cc0-408">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="75cc0-409">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="75cc0-409">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="75cc0-410">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="75cc0-410">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="75cc0-411">Next</span><span class="sxs-lookup"><span data-stu-id="75cc0-411">Next</span></span>](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)
