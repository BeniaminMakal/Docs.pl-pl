---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
title: "Tworzenie aplikacji bazy danych filmu w ciągu 15 minut z platformą ASP.NET MVC (C#) | Dokumentacja firmy Microsoft"
author: StephenWalther
description: "Stephen Walther kompilacje całego opartej na bazie danych aplikacji ASP.NET MVC od początku do zakończenia. W tym samouczku jest doskonałym wprowadzenie dla osób, które są nowe..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/27/2009
ms.topic: article
ms.assetid: dd1be137-91c5-47a8-8137-fecf0789c7f5
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
msc.type: authoredcontent
ms.openlocfilehash: 8294b5a8824c6a27e958e1ea78b7909a134447d2
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/10/2017
---
<a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-c"></a><span data-ttu-id="10a1f-104">Tworzenie aplikacji bazy danych filmu w ciągu 15 minut z platformą ASP.NET MVC (C#)</span><span class="sxs-lookup"><span data-stu-id="10a1f-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (C#)</span></span>
====================
<span data-ttu-id="10a1f-105">przez [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="10a1f-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="10a1f-106">Pobierz kod</span><span class="sxs-lookup"><span data-stu-id="10a1f-106">Download Code</span></span>](http://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_CS.zip)

> <span data-ttu-id="10a1f-107">Stephen Walther kompilacje całego opartej na bazie danych aplikacji ASP.NET MVC od początku do zakończenia.</span><span class="sxs-lookup"><span data-stu-id="10a1f-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="10a1f-108">W tym samouczku jest doskonałym wprowadzenie dla użytkowników, którzy dopiero zaczynasz korzystać z struktura MVC ASP.NET i którzy potrzebują się procesu tworzenia aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>


<span data-ttu-id="10a1f-109">Ten samouczek ma na celu zapewniają w pewnym sensie "co to jest przykład" do tworzenia aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="10a1f-110">W tym samouczku I wielkich za pośrednictwem tworzenia całej aplikacji ASP.NET MVC od początku do zakończenia.</span><span class="sxs-lookup"><span data-stu-id="10a1f-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="10a1f-111">I opisano sposób tworzenia prostej aplikacji opartej na bazie danych, która ilustruje sposób można wyświetlić listę, tworzenia i edytowania rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="10a1f-112">W celu uproszczenia procesu tworzenia aplikacji, firma Microsoft będzie korzystać z funkcji szkieletów programu Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="10a1f-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="10a1f-113">Powiadomimy Visual Studio generowania kodu początkowej i zawartości dla naszych kontrolerów, modeli i widoków.</span><span class="sxs-lookup"><span data-stu-id="10a1f-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="10a1f-114">Użytkownicy mający doświadczenie z Active Server Pages lub ASP.NET, następnie należy odnaleźć platformy ASP.NET MVC bardzo znanych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="10a1f-115">Widoki ASP.NET MVC są bardzo podobne stron w aplikacji Active Server Pages.</span><span class="sxs-lookup"><span data-stu-id="10a1f-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="10a1f-116">I, podobnie jak tradycyjnych aplikacji składnika ASP.NET Web Forms, ASP.NET MVC zapewnia pełny dostęp do bogatego zestawu języków i klas dostarczonych przez program .NET framework.</span><span class="sxs-lookup"><span data-stu-id="10a1f-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="10a1f-117">Mamy nadzieję, że moje jest, że w tym samouczku zapewni zorientować się, jak środowisko tworzenia aplikacji platformy ASP.NET MVC jest podobne i inne niż środowisko tworzenia aplikacji Active Server Pages lub formularzy sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="10a1f-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="10a1f-118">Omówienie filmu aplikacji bazy danych</span><span class="sxs-lookup"><span data-stu-id="10a1f-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="10a1f-119">Ponieważ naszym celem jest zapewnić proste, budujemy bardzo prostą aplikację filmu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="10a1f-120">Nasze prostą aplikację filmu bazy danych pozwoli nam wykonać trzy czynności:</span><span class="sxs-lookup"><span data-stu-id="10a1f-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="10a1f-121">Zestaw rekordów bazy danych film</span><span class="sxs-lookup"><span data-stu-id="10a1f-121">List a set of movie database records</span></span>
2. <span data-ttu-id="10a1f-122">Tworzenie nowego rekordu bazy danych film</span><span class="sxs-lookup"><span data-stu-id="10a1f-122">Create a new movie database record</span></span>
3. <span data-ttu-id="10a1f-123">Edytowanie istniejącego rekordu bazy danych film</span><span class="sxs-lookup"><span data-stu-id="10a1f-123">Edit an existing movie database record</span></span>

<span data-ttu-id="10a1f-124">Ponownie ponieważ chcemy zapewnić proste, firma Microsoft będzie korzystać z minimalną liczbę funkcji niezbędnych do tworzenia aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="10a1f-125">Na przykład firma Microsoft nie będą mogły skorzystać z Test-Driven programowanie.</span><span class="sxs-lookup"><span data-stu-id="10a1f-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="10a1f-126">Aby można było utworzyć naszej aplikacji, musimy wykonać wszystkie z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="10a1f-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="10a1f-127">Utwórz projekt aplikacji sieci Web platformy ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="10a1f-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="10a1f-128">Utwórz bazę danych</span><span class="sxs-lookup"><span data-stu-id="10a1f-128">Create the database</span></span>
3. <span data-ttu-id="10a1f-129">Tworzenie modelu bazy danych</span><span class="sxs-lookup"><span data-stu-id="10a1f-129">Create the database model</span></span>
4. <span data-ttu-id="10a1f-130">Tworzenie kontrolera ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="10a1f-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="10a1f-131">Utwórz widoki ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="10a1f-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="10a1f-132">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="10a1f-132">Preliminaries</span></span>

<span data-ttu-id="10a1f-133">Potrzebujesz programu Visual Studio 2008 lub Visual Web Developer 2008 Express, do tworzenia aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="10a1f-134">Należy również pobrać platformę ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="10a1f-135">Jeśli nie masz programu Visual Studio 2008, można pobrać 90-dniowa wersja próbna programu Visual Studio 2008 z tej witryny sieci Web:</span><span class="sxs-lookup"><span data-stu-id="10a1f-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[<span data-ttu-id="10a1f-136">https://msdn.microsoft.com/en-us/VS2008/Products/cc268305.aspx</span><span class="sxs-lookup"><span data-stu-id="10a1f-136">https://msdn.microsoft.com/en-us/vs2008/products/cc268305.aspx</span></span>](https://msdn.microsoft.com/en-us/vs2008/products/cc268305.aspx)

<span data-ttu-id="10a1f-137">Alternatywnie można tworzyć ASP.NET MVC aplikacji z programu Visual Web Developer Express 2008.</span><span class="sxs-lookup"><span data-stu-id="10a1f-137">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="10a1f-138">Jeśli zdecydujesz się używać programu Visual Web Developer Express musi mieć dodatku Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="10a1f-138">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="10a1f-139">Visual Web Developer 2008 Express z dodatkiem Service Pack 1 można pobrać z tej witryny sieci Web:</span><span class="sxs-lookup"><span data-stu-id="10a1f-139">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="10a1f-140">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang = en</span><span class="sxs-lookup"><span data-stu-id="10a1f-140">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="10a1f-141">Po zainstalowaniu programu Visual Studio 2008 lub Visual Web Developer 2008, musisz zainstalować platformę ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-141">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="10a1f-142">Platforma ASP.NET MVC można pobrać z następującej stronie internetowej:</span><span class="sxs-lookup"><span data-stu-id="10a1f-142">You can download the ASP.NET MVC framework from the following website:</span></span>

[<span data-ttu-id="10a1f-143">https://www.asp.NET/MVC/</span><span class="sxs-lookup"><span data-stu-id="10a1f-143">https://www.asp.net/mvc/</span></span>](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="10a1f-144">Zamiast struktury programu ASP.NET i platforma ASP.NET MVC oddzielnie, można korzystać z Instalatora platformy sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10a1f-144">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="10a1f-145">Instalator platformy sieci Web jest aplikacja, która umożliwia łatwe zarządzanie zainstalowanych aplikacji komputera:</span><span class="sxs-lookup"><span data-stu-id="10a1f-145">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [<span data-ttu-id="10a1f-146">https://www.microsoft.com/Web/Gallery/Install.aspx</span><span class="sxs-lookup"><span data-stu-id="10a1f-146">https://www.microsoft.com/web/gallery/Install.aspx</span></span>](https://www.microsoft.com/web/gallery/Install.aspx)


## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="10a1f-147">Tworzenie projektu aplikacji sieci Web platformy ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="10a1f-147">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="10a1f-148">Zacznijmy od utworzenia nowego projektu aplikacji sieci Web platformy ASP.NET MVC w programie Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="10a1f-148">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="10a1f-149">Wybierz opcję menu **plik, nowy projekt** i pojawi się okno dialogowe nowego projektu na rysunku 1.</span><span class="sxs-lookup"><span data-stu-id="10a1f-149">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="10a1f-150">Wybierz C# jako języka programowania, a następnie wybierz szablon projektu aplikacji sieci Web platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-150">Select C# as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="10a1f-151">Nadaj nazwę MovieApp projekt i kliknij przycisk OK.</span><span class="sxs-lookup"><span data-stu-id="10a1f-151">Give your project the name MovieApp and click the OK button.</span></span>


<span data-ttu-id="10a1f-152">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-152">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span></span>

<span data-ttu-id="10a1f-153">**Rysunek 01**: okno dialogowe Nowy projekt ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-153">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span></span>


<span data-ttu-id="10a1f-154">Upewnij się, że program .NET Framework 3.5 należy wybrać z listy rozwijanej w górnej części okna dialogowego Nowy projekt lub szablonu projektu aplikacji sieci Web platformy ASP.NET MVC, nie będą wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="10a1f-154">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>


<span data-ttu-id="10a1f-155">Podczas tworzenia nowego projektu aplikacji sieci Web MVC programu Visual Studio wyświetli monit o utworzenie oddzielnych jednostkowy projekt testowy.</span><span class="sxs-lookup"><span data-stu-id="10a1f-155">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="10a1f-156">Wyświetli się okno dialogowe na rysunku 2.</span><span class="sxs-lookup"><span data-stu-id="10a1f-156">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="10a1f-157">Ponieważ firma Microsoft nie będzie można tworzenie testów w tym samouczku z powodu ograniczeń czasowych (i tak, powinien uważamy nieco winny na ten temat) wybierz **nr** opcję i kliknij przycisk **OK** przycisku.</span><span class="sxs-lookup"><span data-stu-id="10a1f-157">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="10a1f-158">Visual Web Developer nie wspiera projekty testowe.</span><span class="sxs-lookup"><span data-stu-id="10a1f-158">Visual Web Developer does not support test projects.</span></span>


<span data-ttu-id="10a1f-159">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-159">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span></span>

<span data-ttu-id="10a1f-160">**Rysunek 02**: okna dialogowego Utwórz jednostkowy projekt testowy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-160">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span></span>


<span data-ttu-id="10a1f-161">Aplikacji platformy ASP.NET MVC zawiera standardowy zestaw folderów: folder modele, widoki i kontrolery.</span><span class="sxs-lookup"><span data-stu-id="10a1f-161">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="10a1f-162">Spowoduje to standardowy zestaw folderów w oknie Eksploratora rozwiązań.</span><span class="sxs-lookup"><span data-stu-id="10a1f-162">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="10a1f-163">Potrzebujemy dodać pliki do każdego z folderów modele, widoki i kontrolery do zbudowania aplikacji filmu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-163">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="10a1f-164">Podczas tworzenia nowej aplikacji MVC za pomocą programu Visual Studio, możesz uzyskać przykładowej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="10a1f-164">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="10a1f-165">Ponieważ chcemy rozpocząć od początku, należy usunąć zawartość dla tej aplikacji przykładowej.</span><span class="sxs-lookup"><span data-stu-id="10a1f-165">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="10a1f-166">Należy usunąć następujący plik i następujący folder:</span><span class="sxs-lookup"><span data-stu-id="10a1f-166">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="10a1f-167">Controllers\HomeController.CS</span><span class="sxs-lookup"><span data-stu-id="10a1f-167">Controllers\HomeController.cs</span></span>
- <span data-ttu-id="10a1f-168">Views\Home</span><span class="sxs-lookup"><span data-stu-id="10a1f-168">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="10a1f-169">Tworzenie bazy danych</span><span class="sxs-lookup"><span data-stu-id="10a1f-169">Creating the Database</span></span>

<span data-ttu-id="10a1f-170">Należy utworzyć bazę danych do przechowywania naszych filmu rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-170">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="10a1f-171">Szczęście program Visual Studio obejmuje bezpłatna baza danych o nazwie SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="10a1f-171">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="10a1f-172">Wykonaj następujące kroki, aby utworzyć bazę danych:</span><span class="sxs-lookup"><span data-stu-id="10a1f-172">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="10a1f-173">Kliknij prawym przyciskiem myszy aplikację\_folderu danych w oknie Eksploratora rozwiązań i wybierz opcję menu **Dodaj, nowy element**.</span><span class="sxs-lookup"><span data-stu-id="10a1f-173">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="10a1f-174">Wybierz **danych** kategorii i wybierz **bazy danych programu SQL Server** szablonu (patrz rysunek 3).</span><span class="sxs-lookup"><span data-stu-id="10a1f-174">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="10a1f-175">Nazwa nowej bazy danych *MoviesDB.mdf* i kliknij przycisk **Dodaj** przycisku.</span><span class="sxs-lookup"><span data-stu-id="10a1f-175">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="10a1f-176">Po utworzeniu bazy danych można połączyć do bazy danych, klikając dwukrotnie plik MoviesDB.mdf znajdujący się w aplikacji\_folderem danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-176">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="10a1f-177">Dwukrotne kliknięcie pliku MoviesDB.mdf powoduje otwarcie okna Eksploratora serwera.</span><span class="sxs-lookup"><span data-stu-id="10a1f-177">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="10a1f-178">Okno Eksploratora serwera nosi nazwę okna Eksploratora bazy danych w przypadku programu Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="10a1f-178">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>


<span data-ttu-id="10a1f-179">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-179">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span></span>

<span data-ttu-id="10a1f-180">**Rysunek 03**: tworzenie bazy danych programu Microsoft SQL Server ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-180">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span></span>


<span data-ttu-id="10a1f-181">Następnie należy utworzyć nową tabelę bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-181">Next, we need to create a new database table.</span></span> <span data-ttu-id="10a1f-182">W oknie Eksploratora serwera, kliknij prawym przyciskiem folder Tabele i wybierz opcję menu **Dodaj nową tabelę**.</span><span class="sxs-lookup"><span data-stu-id="10a1f-182">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="10a1f-183">Wybranie tej opcji menu otwiera projektanta tabel bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-183">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="10a1f-184">Utwórz następujące kolumny bazy danych:</span><span class="sxs-lookup"><span data-stu-id="10a1f-184">Create the following database columns:</span></span>

<a id="0.1_table01"></a>


| <span data-ttu-id="10a1f-185">**Nazwa kolumny**</span><span class="sxs-lookup"><span data-stu-id="10a1f-185">**Column Name**</span></span> | <span data-ttu-id="10a1f-186">**Typ danych**</span><span class="sxs-lookup"><span data-stu-id="10a1f-186">**Data Type**</span></span> | <span data-ttu-id="10a1f-187">**Dopuszcza wartości null**</span><span class="sxs-lookup"><span data-stu-id="10a1f-187">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="10a1f-188">Identyfikator</span><span class="sxs-lookup"><span data-stu-id="10a1f-188">Id</span></span> | <span data-ttu-id="10a1f-189">int</span><span class="sxs-lookup"><span data-stu-id="10a1f-189">Int</span></span> | <span data-ttu-id="10a1f-190">False</span><span class="sxs-lookup"><span data-stu-id="10a1f-190">False</span></span> |
| <span data-ttu-id="10a1f-191">Tytuł</span><span class="sxs-lookup"><span data-stu-id="10a1f-191">Title</span></span> | <span data-ttu-id="10a1f-192">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="10a1f-192">Nvarchar(100)</span></span> | <span data-ttu-id="10a1f-193">False</span><span class="sxs-lookup"><span data-stu-id="10a1f-193">False</span></span> |
| <span data-ttu-id="10a1f-194">Dyrektor</span><span class="sxs-lookup"><span data-stu-id="10a1f-194">Director</span></span> | <span data-ttu-id="10a1f-195">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="10a1f-195">Nvarchar(100)</span></span> | <span data-ttu-id="10a1f-196">False</span><span class="sxs-lookup"><span data-stu-id="10a1f-196">False</span></span> |
| <span data-ttu-id="10a1f-197">DateReleased</span><span class="sxs-lookup"><span data-stu-id="10a1f-197">DateReleased</span></span> | <span data-ttu-id="10a1f-198">DataGodzina</span><span class="sxs-lookup"><span data-stu-id="10a1f-198">DateTime</span></span> | <span data-ttu-id="10a1f-199">False</span><span class="sxs-lookup"><span data-stu-id="10a1f-199">False</span></span> |


<span data-ttu-id="10a1f-200">Pierwsza kolumna, w kolumnie identyfikator ma dwie właściwości specjalnych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-200">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="10a1f-201">Najpierw należy oznaczyć jako kolumna klucza podstawowego w kolumnie identyfikator.</span><span class="sxs-lookup"><span data-stu-id="10a1f-201">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="10a1f-202">Po wybraniu w kolumnie identyfikator, kliknij przycisk **klucz podstawowy** przycisk (jest ikonę, która wygląda jak klucz).</span><span class="sxs-lookup"><span data-stu-id="10a1f-202">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="10a1f-203">Po drugie należy oznaczyć jako kolumnę tożsamości w kolumnie identyfikator.</span><span class="sxs-lookup"><span data-stu-id="10a1f-203">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="10a1f-204">W oknie właściwości kolumny przewiń w dół do sekcji specyfikacji tożsamości i rozwiń go.</span><span class="sxs-lookup"><span data-stu-id="10a1f-204">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="10a1f-205">Zmień **tożsamości jest** na wartość **tak**.</span><span class="sxs-lookup"><span data-stu-id="10a1f-205">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="10a1f-206">Po ukończeniu tabeli powinien wyglądać na rysunku 4.</span><span class="sxs-lookup"><span data-stu-id="10a1f-206">When you are finished, the table should look like Figure 4.</span></span>


<span data-ttu-id="10a1f-207">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-207">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span></span>

<span data-ttu-id="10a1f-208">**Rysunek 04**: filmy tabeli bazy danych ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-208">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span></span>


<span data-ttu-id="10a1f-209">Ostatnim krokiem jest, aby zapisać nową tabelę.</span><span class="sxs-lookup"><span data-stu-id="10a1f-209">The final step is to save the new table.</span></span> <span data-ttu-id="10a1f-210">Kliknij przycisk Zapisz (ikona dyskietek) i nadaj nowej tabeli filmy nazwy.</span><span class="sxs-lookup"><span data-stu-id="10a1f-210">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="10a1f-211">Po utworzeniu tabeli należy dodać niektóre rekordy filmu do tabeli.</span><span class="sxs-lookup"><span data-stu-id="10a1f-211">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="10a1f-212">Kliknij prawym przyciskiem myszy tabelę filmów w oknie Eksploratora serwera i wybierz opcję menu **Pokaż dane tabeli**.</span><span class="sxs-lookup"><span data-stu-id="10a1f-212">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="10a1f-213">Wprowadź listę ulubionych filmów (patrz rysunek 5).</span><span class="sxs-lookup"><span data-stu-id="10a1f-213">Enter a list of your favorite movies (see Figure 5).</span></span>


<span data-ttu-id="10a1f-214">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-214">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span></span>

<span data-ttu-id="10a1f-215">**Rysunek 05**: wprowadzanie rekordów movie ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-215">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span></span>


## <a name="creating-the-model"></a><span data-ttu-id="10a1f-216">Tworzenie modelu</span><span class="sxs-lookup"><span data-stu-id="10a1f-216">Creating the Model</span></span>

<span data-ttu-id="10a1f-217">Następnie należy utworzyć zestaw klas do reprezentowania naszej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-217">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="10a1f-218">Należy utworzyć model bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-218">We need to create a database model.</span></span> <span data-ttu-id="10a1f-219">Firma Microsoft będzie korzystać z programu Microsoft Entity Framework, można automatycznie wygenerować klasy dla modelu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-219">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="10a1f-220">Platforma ASP.NET MVC nie jest związana z programu Entity Framework firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="10a1f-220">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="10a1f-221">Można utworzyć bazy danych modelu klasy dzięki wykorzystaniu różnych obiektów relacyjnych mapowania (lub / M) narzędzia w tym składniku LINQ to SQL, Subsonic i NHibernate.</span><span class="sxs-lookup"><span data-stu-id="10a1f-221">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>


<span data-ttu-id="10a1f-222">Wykonaj następujące kroki, aby uruchomić Kreatora modelu danych jednostki:</span><span class="sxs-lookup"><span data-stu-id="10a1f-222">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="10a1f-223">Kliknij prawym przyciskiem myszy folder modeli w oknie Eksploratora rozwiązań i wybierz opcję menu **Dodaj, nowy element**.</span><span class="sxs-lookup"><span data-stu-id="10a1f-223">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="10a1f-224">Wybierz **danych** kategorii i wybierz **modelu danych jednostki ADO.NET** szablonu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-224">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="10a1f-225">Nadaj nazwę modelu danych *MoviesDBModel.edmx* i kliknij przycisk **Dodaj** przycisku.</span><span class="sxs-lookup"><span data-stu-id="10a1f-225">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="10a1f-226">Po kliknięciu przycisku Dodaj zostanie wyświetlony Kreator modelu danych jednostki (patrz rysunek 6).</span><span class="sxs-lookup"><span data-stu-id="10a1f-226">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="10a1f-227">Wykonaj następujące kroki, aby zakończyć działanie kreatora:</span><span class="sxs-lookup"><span data-stu-id="10a1f-227">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="10a1f-228">W **wybierz zawartość modelu** krok, wybierz opcję **generowania z bazy danych** opcji.</span><span class="sxs-lookup"><span data-stu-id="10a1f-228">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="10a1f-229">W **wybierz połączenie danych** krok, użyj *MoviesDB.mdf* połączenie danych i nazwy *MoviesDBEntities* dla ustawień połączenia.</span><span class="sxs-lookup"><span data-stu-id="10a1f-229">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="10a1f-230">Kliknij przycisk **dalej** przycisku.</span><span class="sxs-lookup"><span data-stu-id="10a1f-230">Click the **Next** button.</span></span>
3. <span data-ttu-id="10a1f-231">W **wybierz obiekty bazy danych użytkownika** krok, rozwiń węzeł tabel, zaznacz tabelę filmów.</span><span class="sxs-lookup"><span data-stu-id="10a1f-231">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="10a1f-232">Wprowadź przestrzeń nazw *MovieApp.Models* i kliknij przycisk **Zakończ** przycisku.</span><span class="sxs-lookup"><span data-stu-id="10a1f-232">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>


<span data-ttu-id="10a1f-233">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-233">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span></span>

<span data-ttu-id="10a1f-234">**Rysunek 06**: generowania modelu bazy danych przy użyciu Kreatora modelu danych jednostki ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-234">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span></span>


<span data-ttu-id="10a1f-235">Po zakończeniu pracy Kreatora modelu danych jednostki, zostanie otwarty projektant modelu danych jednostki.</span><span class="sxs-lookup"><span data-stu-id="10a1f-235">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="10a1f-236">Projektant powinien być wyświetlany w tabeli bazy danych filmów (patrz rysunek 7).</span><span class="sxs-lookup"><span data-stu-id="10a1f-236">The Designer should display the Movies database table (see Figure 7).</span></span>


<span data-ttu-id="10a1f-237">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-237">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span></span>

<span data-ttu-id="10a1f-238">**Rysunek 07**: Projektant modelu danych jednostki ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-238">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span></span>


<span data-ttu-id="10a1f-239">Musimy upewnić jednej zmiany przed kontynuowaniem.</span><span class="sxs-lookup"><span data-stu-id="10a1f-239">We need to make one change before we continue.</span></span> <span data-ttu-id="10a1f-240">Kreator danych jednostek generuje klasę modelu o nazwie *filmy* reprezentujący filmy tabeli bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-240">The Entity Data Wizard generates a model class named *Movies* that represents the Movies database table.</span></span> <span data-ttu-id="10a1f-241">Ponieważ użyjemy klasy filmów do reprezentowania określonego filmu, należy zmodyfikować nazwę klasy, która ma być *film* zamiast *filmy* (pojedynczej zamiast mnogiej).</span><span class="sxs-lookup"><span data-stu-id="10a1f-241">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="10a1f-242">Kliknij dwukrotnie nazwę klasy na powierzchni projektanta i Zmień nazwę klasy z filmów filmu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-242">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="10a1f-243">Po wprowadzeniu tej zmiany, kliknij przycisk **zapisać** przycisk (ikona dyskietki) do generowania klasy filmu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-243">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="10a1f-244">Tworzenie kontrolera ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="10a1f-244">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="10a1f-245">Następnym krokiem jest utworzenie kontrolera ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-245">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="10a1f-246">Kontroler jest odpowiedzialny za kontrolowanie sposobu użytkownik korzysta z aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-246">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="10a1f-247">Wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="10a1f-247">Follow these steps:</span></span>

1. <span data-ttu-id="10a1f-248">W oknie Eksploratora rozwiązań kliknij prawym przyciskiem myszy folder kontrolery, a następnie wybierz opcję menu **Dodaj, kontrolera**.</span><span class="sxs-lookup"><span data-stu-id="10a1f-248">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="10a1f-249">W oknie dialogowym Dodaj kontroler, wprowadź nazwę *HomeController* i zaznacz pole wyboru z etykietą **Dodaj metody akcji dla scenariuszy tworzenia, aktualizacji i szczegółów** (patrz rysunek 8).</span><span class="sxs-lookup"><span data-stu-id="10a1f-249">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="10a1f-250">Kliknij przycisk **Dodaj** przycisk, aby dodać nowy kontroler do projektu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-250">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="10a1f-251">Po wykonaniu tych kroków jest tworzony kontrolera 1 wyświetlania.</span><span class="sxs-lookup"><span data-stu-id="10a1f-251">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="10a1f-252">Zwróć uwagę, że zawiera on metody o nazwie indeksu, uzyskać szczegółowe informacje, Utwórz i edytowania.</span><span class="sxs-lookup"><span data-stu-id="10a1f-252">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="10a1f-253">W poniższych sekcjach dodamy niezbędne kod w celu uzyskania tych metod do pracy.</span><span class="sxs-lookup"><span data-stu-id="10a1f-253">In the following sections, we'll add the necessary code to get these methods to work.</span></span>


<span data-ttu-id="10a1f-254">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-254">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span></span>

<span data-ttu-id="10a1f-255">**Rysunek 08**: dodawania nowego kontrolera ASP.NET MVC ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-255">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span></span>


<span data-ttu-id="10a1f-256">**Wyświetlanie listy 1 – Controllers\HomeController.cs**</span><span class="sxs-lookup"><span data-stu-id="10a1f-256">**Listing 1 – Controllers\HomeController.cs**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample1.cs)]

## <a name="listing-database-records"></a><span data-ttu-id="10a1f-257">Lista rekordów bazy danych</span><span class="sxs-lookup"><span data-stu-id="10a1f-257">Listing Database Records</span></span>

<span data-ttu-id="10a1f-258">Metoda indeks() kontrolera głównej jest domyślną metodą aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-258">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="10a1f-259">Po uruchomieniu aplikacji platformy ASP.NET MVC, metoda indeks() jest pierwszy wywoływanej metody kontrolera.</span><span class="sxs-lookup"><span data-stu-id="10a1f-259">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="10a1f-260">Aby wyświetlić listę rekordów z tabeli bazy danych filmy użyjemy metody indeks().</span><span class="sxs-lookup"><span data-stu-id="10a1f-260">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="10a1f-261">Firma Microsoft będzie korzystać z bazy danych modelu klasy, które utworzony wcześniej można pobrać za pomocą metody indeks() filmu rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-261">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="10a1f-262">Tak, aby zawierał prywatnej nowe pole o nazwie zostały jest zmodyfikowane klasy HomeController wyświetlania 2 \_bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-262">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="10a1f-263">Klasa MoviesDBEntities reprezentuje nasz model bazy danych i użyjemy tej klasy do komunikowania się z naszej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-263">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="10a1f-264">Po zmodyfikowaniu również metoda indeks() wyświetlania 2.</span><span class="sxs-lookup"><span data-stu-id="10a1f-264">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="10a1f-265">Metoda indeks() używa klasy MoviesDBEntities pobrać wszystkie rekordy film filmy tabeli bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-265">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="10a1f-266">Wyrażenie  *\_bazy danych. MovieSet.ToList()* zwraca listę wszystkich rekordów film z filmów tabeli bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-266">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="10a1f-267">Lista filmów są przekazywane do widoku.</span><span class="sxs-lookup"><span data-stu-id="10a1f-267">The list of movies is passed to the view.</span></span> <span data-ttu-id="10a1f-268">Wszystko, co jest przekazywane do metody View() jest przekazywane do widoku danych widoku.</span><span class="sxs-lookup"><span data-stu-id="10a1f-268">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="10a1f-269">**Lista 2 — Controllers/HomeController.cs (metoda modyfikacji indeksu)**</span><span class="sxs-lookup"><span data-stu-id="10a1f-269">**Listing 2 – Controllers/HomeController.cs (modified Index method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample2.cs)]

<span data-ttu-id="10a1f-270">Metoda indeks() zwraca widok o nazwie indeksu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-270">The Index() method returns a view named Index.</span></span> <span data-ttu-id="10a1f-271">Należy utworzyć ten widok, aby wyświetlić listę filmu rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-271">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="10a1f-272">Wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="10a1f-272">Follow these steps:</span></span>


<span data-ttu-id="10a1f-273">Należy skompilować projekt (wybierz opcję menu **kompilacji Kompiluj rozwiązanie**) przed otwarciem **Dodaj widok** okna dialogowego lub klasy nie będą wyświetlane w **wyświetlić klasy danych** Lista rozwijana.</span><span class="sxs-lookup"><span data-stu-id="10a1f-273">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>


1. <span data-ttu-id="10a1f-274">Kliknij prawym przyciskiem myszy w edytorze kodu metody indeks() i wybierz opcję menu **Dodaj widok** (patrz rysunek 9).</span><span class="sxs-lookup"><span data-stu-id="10a1f-274">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="10a1f-275">W oknie dialogowym Dodaj widok, sprawdź, czy pole wyboru z etykietą **utworzyć widok jednoznacznie** jest zaznaczony.</span><span class="sxs-lookup"><span data-stu-id="10a1f-275">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="10a1f-276">Z **wyświetlania zawartości** listy rozwijanej wybierz wartość *listy*.</span><span class="sxs-lookup"><span data-stu-id="10a1f-276">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="10a1f-277">Z **wyświetlić klasy danych** listy rozwijanej wybierz wartość *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="10a1f-277">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="10a1f-278">Kliknij przycisk Dodaj, aby utworzyć nowy wyświetlania (patrz rysunek 10).</span><span class="sxs-lookup"><span data-stu-id="10a1f-278">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="10a1f-279">Po wykonaniu tych kroków nowy widok o nazwie Index.aspx jest dodawana do Views\Home folder.</span><span class="sxs-lookup"><span data-stu-id="10a1f-279">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="10a1f-280">Zawartość widoku indeksu są uwzględnione w wersji 3 wyświetlania.</span><span class="sxs-lookup"><span data-stu-id="10a1f-280">The contents of the Index view are included in Listing 3.</span></span>


<span data-ttu-id="10a1f-281">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-281">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span></span>

<span data-ttu-id="10a1f-282">**Rysunek 09**: Dodawanie widoku z akcji kontrolera ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-282">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span></span>


<span data-ttu-id="10a1f-283">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-283">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span></span>

<span data-ttu-id="10a1f-284">**Na rysunku nr 10**: Tworzenie nowego widoku w oknie dialogowym Dodawanie widoku ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-284">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span></span>


<span data-ttu-id="10a1f-285">**Wyświetlanie listy 3 — Views\Home\Index.aspx**</span><span class="sxs-lookup"><span data-stu-id="10a1f-285">**Listing 3 – Views\Home\Index.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample3.aspx)]

<span data-ttu-id="10a1f-286">Widok indeksu Wyświetla wszystkie rekordy film z filmów tabeli bazy danych w tabeli HTML.</span><span class="sxs-lookup"><span data-stu-id="10a1f-286">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="10a1f-287">Widok zawiera pętli foreach, który iteruje po każdej filmu reprezentowany przez właściwość ViewData.Model.</span><span class="sxs-lookup"><span data-stu-id="10a1f-287">The view contains a foreach loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="10a1f-288">Jeśli aplikacja jest uruchamiane za naciskać klawisz F5, zostanie wyświetlone strony sieci web w rysunek 11.</span><span class="sxs-lookup"><span data-stu-id="10a1f-288">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>


<span data-ttu-id="10a1f-289">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-289">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span></span>

<span data-ttu-id="10a1f-290">**Rysunek 11**: widok Index ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-290">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span></span>


## <a name="creating-new-database-records"></a><span data-ttu-id="10a1f-291">Tworzenie nowych rekordów bazy danych</span><span class="sxs-lookup"><span data-stu-id="10a1f-291">Creating New Database Records</span></span>

<span data-ttu-id="10a1f-292">Widok indeksu utworzony w poprzedniej sekcji zawiera łącze do tworzenia nowych rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-292">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="10a1f-293">Spróbuj teraz i implementują logikę i tworzenie widoku niezbędne do tworzenia nowych rekordów bazy danych filmu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-293">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="10a1f-294">Kontroler główna zawiera dwie metody o nazwie Create().</span><span class="sxs-lookup"><span data-stu-id="10a1f-294">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="10a1f-295">Pierwsza metoda Create() nie ma parametrów.</span><span class="sxs-lookup"><span data-stu-id="10a1f-295">The first Create() method has no parameters.</span></span> <span data-ttu-id="10a1f-296">To przeciążenie metody Create() służy do wyświetlania formularza HTML do tworzenia nowego rekordu bazy danych filmu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-296">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="10a1f-297">Druga metoda Create() ma parametr FormCollection.</span><span class="sxs-lookup"><span data-stu-id="10a1f-297">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="10a1f-298">To przeciążenie metody Create() jest wywoływana, gdy formularz HTML do tworzenia nowych film jest przesyłana do serwera.</span><span class="sxs-lookup"><span data-stu-id="10a1f-298">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="10a1f-299">Należy zauważyć, że ta druga metoda Create() ma atrybut AcceptVerbs, który uniemożliwia metoda wywoływana, chyba że operacji POST protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="10a1f-299">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP POST operation is performed.</span></span>

<span data-ttu-id="10a1f-300">Ta druga metoda Create() został zmodyfikowany w klasie HomeController zaktualizowane w listę 4.</span><span class="sxs-lookup"><span data-stu-id="10a1f-300">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="10a1f-301">Nowa wersja metody Create() przyjmuje parametr filmu i zawiera logikę wstawianie nowych filmu do filmy tabeli bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-301">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="10a1f-302">Zwróć uwagę, atrybut wiązania.</span><span class="sxs-lookup"><span data-stu-id="10a1f-302">Notice the Bind attribute.</span></span> <span data-ttu-id="10a1f-303">Ponieważ nie chcemy zaktualizować właściwości Id film z formularza HTML, potrzebujemy jawnie wykluczyć tę właściwość.</span><span class="sxs-lookup"><span data-stu-id="10a1f-303">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>


<span data-ttu-id="10a1f-304">**Wyświetlanie 4 — Controllers\HomeController.cs (zmodyfikowane metody Create)**</span><span class="sxs-lookup"><span data-stu-id="10a1f-304">**Listing 4 – Controllers\HomeController.cs (modified Create method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample4.cs)]

<span data-ttu-id="10a1f-305">Visual Studio można łatwo utworzyć formularz służący do tworzenia nowej bazy danych filmu rekordów (patrz rysunek 12).</span><span class="sxs-lookup"><span data-stu-id="10a1f-305">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="10a1f-306">Wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="10a1f-306">Follow these steps:</span></span>

1. <span data-ttu-id="10a1f-307">Kliknij prawym przyciskiem myszy metodę Create() w edytorze kodu i wybierz opcję menu **Dodaj widok**.</span><span class="sxs-lookup"><span data-stu-id="10a1f-307">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="10a1f-308">Sprawdź, czy pole wyboru z etykietą **utworzyć widok jednoznacznie** jest zaznaczony.</span><span class="sxs-lookup"><span data-stu-id="10a1f-308">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="10a1f-309">Z **wyświetlania zawartości** listy rozwijanej wybierz wartość *Utwórz*.</span><span class="sxs-lookup"><span data-stu-id="10a1f-309">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="10a1f-310">Z **wyświetlić klasy danych** listy rozwijanej wybierz wartość *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="10a1f-310">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="10a1f-311">Kliknij przycisk **Dodaj** przycisk, aby utworzyć nowy widok.</span><span class="sxs-lookup"><span data-stu-id="10a1f-311">Click the **Add** button to create the new view.</span></span>


<span data-ttu-id="10a1f-312">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-312">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span></span>

<span data-ttu-id="10a1f-313">**Rysunek 12**: Dodawanie widoku Create ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-313">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span></span>


<span data-ttu-id="10a1f-314">Visual Studio automatycznie generuje widok w listę 5.</span><span class="sxs-lookup"><span data-stu-id="10a1f-314">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="10a1f-315">Ten widok zawiera formularza HTML, który zawiera pola, które odpowiadają każdej z właściwości klasy filmu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-315">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="10a1f-316">**Wyświetlanie listy 5 — Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="10a1f-316">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="10a1f-317">Formularza HTML, wygenerowane za pomocą okna dialogowego Dodawanie widoku generuje identyfikator pola formularza.</span><span class="sxs-lookup"><span data-stu-id="10a1f-317">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="10a1f-318">Ponieważ w kolumnie Identyfikator kolumny tożsamości, nie należy tego pola formularza i można bezpiecznie usunąć go.</span><span class="sxs-lookup"><span data-stu-id="10a1f-318">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>


<span data-ttu-id="10a1f-319">Po dodaniu widoku tworzenie nowych rekordów filmu można dodać do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-319">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="10a1f-320">Uruchom aplikację, naciskając klawisz F5, a następnie kliknij polecenie Utwórz nowy linku umożliwia wyświetlenie formularza na rysunku 13.</span><span class="sxs-lookup"><span data-stu-id="10a1f-320">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="10a1f-321">Jeśli zakończyć i Prześlij formularz, zostanie utworzony nowy rekord filmu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-321">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="10a1f-322">Zwróć uwagę, automatyczne pobieranie walidacji formularza.</span><span class="sxs-lookup"><span data-stu-id="10a1f-322">Notice that you get form validation automatically.</span></span> <span data-ttu-id="10a1f-323">Jeśli udzielisz wprowadź datę wersji filmu lub wprowadź Data wydania nieprawidłowy, formularza zostanie wyświetlony ponownie i zostanie wyróżniona pola Data wydania.</span><span class="sxs-lookup"><span data-stu-id="10a1f-323">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>


<span data-ttu-id="10a1f-324">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-324">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span></span>

<span data-ttu-id="10a1f-325">**Rysunek 13**: Tworzenie nowego rekordu bazy danych movie ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-325">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span></span>


## <a name="editing-existing-database-records"></a><span data-ttu-id="10a1f-326">Edytowanie istniejących rekordów bazy danych</span><span class="sxs-lookup"><span data-stu-id="10a1f-326">Editing Existing Database Records</span></span>

<span data-ttu-id="10a1f-327">W poprzednich sekcjach omówiono sposób listy i tworzenia nowych rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-327">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="10a1f-328">W tej sekcji końcowego omówiono sposób edycji istniejących rekordów bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-328">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="10a1f-329">Najpierw należy wygenerować formularza edycji.</span><span class="sxs-lookup"><span data-stu-id="10a1f-329">First, we need to generate the Edit form.</span></span> <span data-ttu-id="10a1f-330">Ten krok jest proste, ponieważ program Visual Studio wygeneruje formularzu edytowania firmie Microsoft w automatycznie.</span><span class="sxs-lookup"><span data-stu-id="10a1f-330">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="10a1f-331">Otwórz klasy HomeController.cs w edytorze kodu programu Visual Studio i wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="10a1f-331">Open the HomeController.cs class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="10a1f-332">Kliknij prawym przyciskiem myszy metodę Edit() w edytorze kodu i wybierz opcję menu **Dodaj widok** (patrz rysunek 14).</span><span class="sxs-lookup"><span data-stu-id="10a1f-332">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="10a1f-333">Zaznacz pole wyboru z etykietą **utworzyć widok jednoznacznie**.</span><span class="sxs-lookup"><span data-stu-id="10a1f-333">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="10a1f-334">Z **wyświetlania zawartości** listy rozwijanej wybierz wartość *Edytuj*.</span><span class="sxs-lookup"><span data-stu-id="10a1f-334">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="10a1f-335">Z **wyświetlić klasy danych** listy rozwijanej wybierz wartość *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="10a1f-335">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="10a1f-336">Kliknij przycisk **Dodaj** przycisk, aby utworzyć nowy widok.</span><span class="sxs-lookup"><span data-stu-id="10a1f-336">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="10a1f-337">Wykonanie tych kroków dodaje nowy widok o nazwie Edit.aspx Views\Home folder.</span><span class="sxs-lookup"><span data-stu-id="10a1f-337">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="10a1f-338">Ten widok zawiera formularza HTML do edytowania rekordu filmu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-338">This view contains an HTML form for editing a movie record.</span></span>


<span data-ttu-id="10a1f-339">[![Okno dialogowe nowego projektu](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="10a1f-339">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span></span>

<span data-ttu-id="10a1f-340">**Rysunek 14**: Dodawanie widoku edycji ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="10a1f-340">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span></span>


> [!NOTE] 
> 
> <span data-ttu-id="10a1f-341">Widok edycji zawiera pola formularza HTML, który odpowiada właściwości Id filmu.</span><span class="sxs-lookup"><span data-stu-id="10a1f-341">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="10a1f-342">Ponieważ nie mają edycji wartość właściwości identyfikator osoby, należy usunąć to pole formularza.</span><span class="sxs-lookup"><span data-stu-id="10a1f-342">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>


<span data-ttu-id="10a1f-343">Na koniec należy zmodyfikować kontrolera głównej, tak aby obsługuje edytowania rekordu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-343">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="10a1f-344">Zaktualizowano klasy HomeController znajduje się w 6 wyświetlania.</span><span class="sxs-lookup"><span data-stu-id="10a1f-344">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="10a1f-345">**Wyświetlanie listy 6 — Controllers\HomeController.cs (Edycja metody)**</span><span class="sxs-lookup"><span data-stu-id="10a1f-345">**Listing 6 – Controllers\HomeController.cs (Edit methods)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample6.cs)]

<span data-ttu-id="10a1f-346">Dodatkową logikę do obu przeciążenia metody Edit() zostały dodane w wyświetlania 6.</span><span class="sxs-lookup"><span data-stu-id="10a1f-346">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="10a1f-347">Pierwsza metoda Edit() zwraca filmu rekordu bazy danych, który odpowiada na parametr identyfikatora przekazany do metody.</span><span class="sxs-lookup"><span data-stu-id="10a1f-347">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="10a1f-348">Drugi przeciążenia wykonuje aktualizacje do rekordu filmu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-348">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="10a1f-349">Zwróć uwagę, że należy pobrać oryginalnego film, a następnie wywołać ApplyPropertyChanges(), aby zaktualizować filmu istniejących w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="10a1f-349">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="10a1f-350">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="10a1f-350">Summary</span></span>

<span data-ttu-id="10a1f-351">Celem tego samouczka było pozwalają zorientować się proces tworzenia aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-351">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="10a1f-352">Mam nadzieję, że wykryte, że tworzenie aplikacji sieci web platformy ASP.NET MVC jest bardzo podobny do obsługi tworzenia aplikacji Active Server Pages ani program ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="10a1f-352">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="10a1f-353">W tym samouczku będziemy zbadać tylko najbardziej podstawowe funkcje platformę ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="10a1f-353">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="10a1f-354">W przyszłości samouczki możemy Poznaj głębiej tematy, takimi jak kontrolery, akcji kontrolera, widoki, dane widoku i pomocników HTML.</span><span class="sxs-lookup"><span data-stu-id="10a1f-354">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="10a1f-355">Dalej</span><span class="sxs-lookup"><span data-stu-id="10a1f-355">Next</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb.md)
