---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
title: Wzorzec/szczegół filtrowanie z dwóch DropDownLists (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: W tym samouczku rozszerza relacji wzorzec/szczegół, aby dodać warstwę trzeci, za pomocą dwóch formantów DropDownList, aby wybrać żądaną recor nadrzędne i ponadnadrzędny...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: ac4b0d77-4816-4ded-afd0-88dab667aedd
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
msc.type: authoredcontent
ms.openlocfilehash: d971dcb3814dc088202c3a3e4addb03375049ca0
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-with-two-dropdownlists-c"></a><span data-ttu-id="8ebb0-103">Wzorzec/szczegół filtrowanie z dwóch DropDownLists (C#)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-103">Master/Detail Filtering With Two DropDownLists (C#)</span></span>
====================
<span data-ttu-id="8ebb0-104">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="8ebb0-105">[Pobierz przykładową aplikację](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) lub [pobierania plików PDF](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) or [Download PDF](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span></span>

> <span data-ttu-id="8ebb0-106">W tym samouczku rozszerza relacji wzorzec/szczegół, aby dodać warstwę trzeci, za pomocą dwóch formantów DropDownList, aby wybrać odpowiednie rekordy nadrzędne i ponadnadrzędny.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-106">This tutorial expands the master/detail relationship to add a third layer, using two DropDownList controls to select the desired parent and grandparent records.</span></span>


## <a name="introduction"></a><span data-ttu-id="8ebb0-107">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="8ebb0-107">Introduction</span></span>

<span data-ttu-id="8ebb0-108">W [poprzedniego samouczek](master-detail-filtering-with-a-dropdownlist-cs.md) możemy zbadać sposób wyświetlania raportu proste głównych/szczegółów za pomocą pojedynczego DropDownList wypełniane przy użyciu kategorie i GridView, przedstawiający tych produktów, które należą do wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-108">In the [previous tutorial](master-detail-filtering-with-a-dropdownlist-cs.md) we examined how to display a simple master/details report using a single DropDownList populated with the categories and a GridView showing those products that belong to the selected category.</span></span> <span data-ttu-id="8ebb0-109">Ten wzorzec raportu dobrze działa w przypadku wyświetlania rekordów relacji jeden do wielu, które można z łatwością rozszerzyć działać w przypadku scenariuszy obejmujących wiele relacji jeden do wielu.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-109">This report pattern works well when displaying records that have a one-to-many relationship and can easily be extended to work for scenarios that include multiple one-to-many relationships.</span></span> <span data-ttu-id="8ebb0-110">Na przykład system kolejność wprowadzania musi tabel, które odpowiadają klientami, zamówienia i kolejność pozycji.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-110">For example, an order entry system would have tables that correspond to customers, orders, and order line items.</span></span> <span data-ttu-id="8ebb0-111">Dany klient może mieć wielu zamówień z każdej kolejności składające się z wielu elementów.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-111">A given customer may have multiple orders with each order consisting of multiple items.</span></span> <span data-ttu-id="8ebb0-112">Takie dane widoczne dla użytkowników z dwóch DropDownLists i Element GridView.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-112">Such data can be presented to the user with two DropDownLists and a GridView.</span></span> <span data-ttu-id="8ebb0-113">Pierwszy DropDownList byłyby elementu dla każdego klienta w bazie danych, drugi osoby zawartości jest zamówień dla wybranego odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-113">The first DropDownList would have a list item for each customer in the database with the second one's contents being the orders placed by the selected customer.</span></span> <span data-ttu-id="8ebb0-114">Element GridView listę pozycji z wybranego zamówienia.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-114">A GridView would list the line items from the selected order.</span></span>

<span data-ttu-id="8ebb0-115">Chociaż baza danych Northwind zawiera informacje canonical szczegóły klienta/zamówienia w jego `Customers`, `Orders`, i `Order Details` tabele, te tabele nie są przechwytywane w naszej architektury.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-115">While the Northwind database include the canonical customer/order/order details information in its `Customers`, `Orders`, and `Order Details` tables, these tables aren't captured in our architecture.</span></span> <span data-ttu-id="8ebb0-116">Niemniej jednak firma Microsoft może nadal ilustrują przy użyciu dwóch DropDownLists zależnych.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-116">Nonetheless, we can still illustrate using two dependent DropDownLists.</span></span> <span data-ttu-id="8ebb0-117">Pierwszy DropDownList spowoduje wyświetlenie listy Kategorie, a drugi produktów należących do wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-117">The first DropDownList will list the categories and the second the products belonging to the selected category.</span></span> <span data-ttu-id="8ebb0-118">Element DetailsView zostanie wyświetlona lista szczegółów wybranego produktu.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-118">A DetailsView will then list the details of the selected product.</span></span>

## <a name="step-1-creating-and-populating-the-categories-dropdownlist"></a><span data-ttu-id="8ebb0-119">Krok 1: Tworzenie i wypełnianie DropDownList kategorii</span><span class="sxs-lookup"><span data-stu-id="8ebb0-119">Step 1: Creating and Populating the Categories DropDownList</span></span>

<span data-ttu-id="8ebb0-120">Naszym celem pierwszego jest dodać DropDownList, który zawiera listę kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-120">Our first goal is to add the DropDownList that lists the categories.</span></span> <span data-ttu-id="8ebb0-121">Te kroki zostały zbadane szczegółowo w poprzednim samouczek, ale są podsumowywane w tym miejscu, aby informacje były kompletne.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-121">These steps were examined in detail in the preceding tutorial, but are summarized here for completeness.</span></span>

<span data-ttu-id="8ebb0-122">Otwórz `MasterDetailsDetails.aspx` strony `Filtering` folder, na stronie, Dodaj DropDownList ustawiony jego `ID` właściwości `Categories`, a następnie kliknij łącze Konfiguruj źródło danych w jego tagów inteligentnych.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-122">Open the `MasterDetailsDetails.aspx` page in the `Filtering` folder, add a DropDownList to the page, set its `ID` property to `Categories`, and then click the Configure Data Source link in its smart tag.</span></span> <span data-ttu-id="8ebb0-123">W Kreatorze konfiguracji źródła danych wybierz można dodać nowego źródła danych.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-123">From the Data Source Configuration Wizard choose to add a new data source.</span></span>


<span data-ttu-id="8ebb0-124">[![Dodaj nowe źródło danych dla DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-124">[![Add a New Data Source for the DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span></span>

<span data-ttu-id="8ebb0-125">**Rysunek 1**: Dodaj nowe źródło danych dla DropDownList ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-125">**Figure 1**: Add a New Data Source for the DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span></span>


<span data-ttu-id="8ebb0-126">Oczywiście nowego źródła danych należy ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-126">The new data source should, naturally, be an ObjectDataSource.</span></span> <span data-ttu-id="8ebb0-127">Nazwa tego nowego elementu ObjectDataSource `CategoriesDataSource` i wywołać `CategoriesBLL` obiektu `GetCategories()` metody.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-127">Name this new ObjectDataSource `CategoriesDataSource` and have it invoke the `CategoriesBLL` object's `GetCategories()` method.</span></span>


<span data-ttu-id="8ebb0-128">[![Wybierz klasy CategoriesBLL](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span></span>

<span data-ttu-id="8ebb0-129">**Rysunek 2**: wybierz opcję do użycia `CategoriesBLL` klasy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-129">**Figure 2**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span></span>


<span data-ttu-id="8ebb0-130">[![Skonfiguruj element ObjectDataSource przy użyciu metody GetCategories()](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span></span>

<span data-ttu-id="8ebb0-131">**Rysunek 3**: Konfigurowanie ObjectDataSource użyć `GetCategories()` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-131">**Figure 3**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span></span>


<span data-ttu-id="8ebb0-132">Po skonfigurowaniu ObjectDataSource nadal trzeba określić pole źródła danych, które mają być wyświetlane w `Categories` DropDownList i które z nich powinna być skonfigurowana jako wartość dla elementu listy.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-132">After configuring the ObjectDataSource we still need to specify which data source field should be displayed in the `Categories` DropDownList and which one should be configured as the value for the list item.</span></span> <span data-ttu-id="8ebb0-133">Ustaw `CategoryName` pole jako ekran i `CategoryID` jako wartość dla każdego elementu listy.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-133">Set the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="8ebb0-134">[![Ma pole CategoryName i użyj CategoryID wyświetlana lista DropDownList jako wartość](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span></span>

<span data-ttu-id="8ebb0-135">**Rysunek 4**: wyświetlone DropDownList `CategoryName` pola i użyj `CategoryID` jako wartość ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-135">**Figure 4**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span></span>


<span data-ttu-id="8ebb0-136">W tym momencie mamy formantu DropDownList (`Categories`) który został wypełniony rekordy z `Categories` tabeli.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-136">At this point we have a DropDownList control (`Categories`) that's populated with the records from the `Categories` table.</span></span> <span data-ttu-id="8ebb0-137">Gdy użytkownik wybierze nową kategorię z DropDownList chcemy odświeżania strony wystąpić, aby można było odświeżyć produktu DropDownList, który zamierzamy utworzyć w kroku 2.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-137">When the user chooses a new category from the DropDownList we'll want a postback to occur in order to refresh the product DropDownList that we're going to create in Step 2.</span></span> <span data-ttu-id="8ebb0-138">W związku z tym, zaznacz opcję Włącz AutoPostBack z `categories` lista DropDownList na tagów inteligentnych.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-138">Therefore, check the Enable AutoPostBack option from the `categories` DropDownList's smart tag.</span></span>


<span data-ttu-id="8ebb0-139">[![Włącz AutoPostBack dla DropDownList kategorii](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-139">[![Enable AutoPostBack for the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span></span>

<span data-ttu-id="8ebb0-140">**Rysunek 5**: Włącz AutoPostBack dla `Categories` DropDownList ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-140">**Figure 5**: Enable AutoPostBack for the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span></span>


## <a name="step-2-displaying-the-selected-categorys-products-in-a-second-dropdownlist"></a><span data-ttu-id="8ebb0-141">Krok 2: Wyświetlanie wybranej kategorii produktów w drugim DropDownList</span><span class="sxs-lookup"><span data-stu-id="8ebb0-141">Step 2: Displaying the Selected Category's Products in a Second DropDownList</span></span>

<span data-ttu-id="8ebb0-142">Z `Categories` DropDownList została zakończona, naszych następnym krokiem jest do wyświetlenia DropDownList produktów należących do wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-142">With the `Categories` DropDownList completed, our next step is to display a DropDownList of products belonging to the selected category.</span></span> <span data-ttu-id="8ebb0-143">W tym celu na stronie o nazwie Dodaj inny DropDownList `ProductsByCategory`.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-143">To accomplish this, add another DropDownList to the page named `ProductsByCategory`.</span></span> <span data-ttu-id="8ebb0-144">Jak `Categories` DropDownList, Utwórz nowy element ObjectDataSource dla `ProductsByCategory` DropDownList o nazwie `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-144">As with the `Categories` DropDownList, create a new ObjectDataSource for the `ProductsByCategory` DropDownList named `ProductsByCategoryDataSource`.</span></span>


<span data-ttu-id="8ebb0-145">[![Dodaj nowe źródło danych dla ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-145">[![Add a New Data Source for the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span></span>

<span data-ttu-id="8ebb0-146">**Rysunek 6**: Dodaj nowe źródło danych dla `ProductsByCategory` DropDownList ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-146">**Figure 6**: Add a New Data Source for the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span></span>


<span data-ttu-id="8ebb0-147">[![Utwórz nowy element ObjectDataSource o nazwie ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-147">[![Create a New ObjectDataSource Named ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span></span>

<span data-ttu-id="8ebb0-148">**Rysunek 7**: Utwórz nowy składnik o nazwie ObjectDataSource `ProductsByCategoryDataSource` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-148">**Figure 7**: Create a New ObjectDataSource Named `ProductsByCategoryDataSource` ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span></span>


<span data-ttu-id="8ebb0-149">Ponieważ `ProductsByCategory` potrzeb DropDownList do wyświetlenia tylko te produkty należące do wybranej kategorii ma ObjectDataSource wywołania `GetProductsByCategoryID(categoryID)` metody `ProductsBLL` obiektu.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-149">Since the `ProductsByCategory` DropDownList needs to display just those products belonging to the selected category, have the ObjectDataSource invoke the `GetProductsByCategoryID(categoryID)` method from the `ProductsBLL` object.</span></span>


<span data-ttu-id="8ebb0-150">[![Wybierz klasy ProductsBLL](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-150">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span></span>

<span data-ttu-id="8ebb0-151">**Rysunek 8**: wybierz opcję do użycia `ProductsBLL` klasy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-151">**Figure 8**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span></span>


<span data-ttu-id="8ebb0-152">[![Skonfiguruj element ObjectDataSource przy użyciu metody GetProductsByCategoryID(categoryID)](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-152">[![Configure the ObjectDataSource to Use the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span></span>

<span data-ttu-id="8ebb0-153">**Rysunek 9**: Konfigurowanie ObjectDataSource użyć `GetProductsByCategoryID(categoryID)` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-153">**Figure 9**: Configure the ObjectDataSource to Use the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span></span>


<span data-ttu-id="8ebb0-154">W ostatnim kroku kreatora należy określić wartość *`categoryID`* parametru.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-154">In the final step of the wizard we need to specify the value of the *`categoryID`* parameter.</span></span> <span data-ttu-id="8ebb0-155">Ten parametr należy przypisać wybrany element z `Categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-155">Assign this parameter to the selected item from the `Categories` DropDownList.</span></span>


<span data-ttu-id="8ebb0-156">[![Ściąganie categoryID wartość parametru z DropDownList kategorii](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-156">[![Pull the categoryID Parameter Value from the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span></span>

<span data-ttu-id="8ebb0-157">**Na rysunku nr 10**: ściągnięcia *`categoryID`* wartości parametru z `Categories` DropDownList ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-157">**Figure 10**: Pull the *`categoryID`* Parameter Value from the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span></span>


<span data-ttu-id="8ebb0-158">Z elementu ObjectDataSource skonfigurowane wszystkie te pozostaje jest do określenia, jakie pola źródła danych służą do wyświetlania i wartość DropDownList elementów.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-158">With the ObjectDataSource configured, all that remains is to specify what data source fields are used for the display and value of the DropDownList's items.</span></span> <span data-ttu-id="8ebb0-159">Wyświetl `ProductName` pól i użyj `ProductID` pole jako wartość.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-159">Display the `ProductName` field and use the `ProductID` field as the value.</span></span>


<span data-ttu-id="8ebb0-160">[![Określ elementy ListItems DropDownList tekstu i wartość właściwości pola źródła danych](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-160">[![Specify the Data Source Fields Used for the DropDownList's ListItems' Text and Value Properties](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span></span>

<span data-ttu-id="8ebb0-161">**Rysunek 11**: Określ użyć pola źródła danych dla DropDownList `ListItem` s " `Text` i `Value` właściwości ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-161">**Figure 11**: Specify the Data Source Fields Used for the DropDownList's `ListItem` s' `Text` and `Value` Properties ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span></span>


<span data-ttu-id="8ebb0-162">Z elementu ObjectDataSource i `ProductsByCategory` DropDownList skonfigurowane strony zostaną wyświetlone dwa DropDownLists: pierwszy będzie zawierała listę wszystkich kategorii, podczas gdy druga wyświetla tych produktów należących do wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-162">With the ObjectDataSource and `ProductsByCategory` DropDownList configured our page will display two DropDownLists: the first will list all of the categories while the second will list those products belonging to the selected category.</span></span> <span data-ttu-id="8ebb0-163">Gdy użytkownik wybierze nową kategorię z pierwszego DropDownList, nastąpi odświeżenie strony i być odbitych druga lista DropDownList, przedstawiający tych produktów, które należą do nowo wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-163">When the user selects a new category from the first DropDownList, a postback will ensue and the second DropDownList will be rebound, showing those products that belong to the newly selected category.</span></span> <span data-ttu-id="8ebb0-164">Rysunki 12 i 13 Pokaż `MasterDetailsDetails.aspx` w akcji podczas wyświetlania za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-164">Figures 12 and 13 show `MasterDetailsDetails.aspx` in action when viewed through a browser.</span></span>


<span data-ttu-id="8ebb0-165">[![Podczas odwiedzania najpierw strony, wybrano należące do tej kategorii](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-165">[![When First Visiting the Page, the Beverages Category is Selected](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span></span>

<span data-ttu-id="8ebb0-166">**Rysunek 12**: podczas odwiedzania najpierw strony, wybrano należące do tej kategorii ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-166">**Figure 12**: When First Visiting the Page, the Beverages Category is Selected ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span></span>


<span data-ttu-id="8ebb0-167">[![Wybieranie różnych kategorii wyświetla nowej kategorii produktów](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-167">[![Choosing a Different Category Displays the New Category's Products](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span></span>

<span data-ttu-id="8ebb0-168">**Rysunek 13**: wybór różnych ekranów kategorii produktów nową kategorię ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-168">**Figure 13**: Choosing a Different Category Displays the New Category's Products ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span></span>


<span data-ttu-id="8ebb0-169">Obecnie `productsByCategory` jest lista DropDownList po zmianie *nie* powoduje odświeżenie strony.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-169">Currently the `productsByCategory` DropDownList, when changed, does *not* cause a postback.</span></span> <span data-ttu-id="8ebb0-170">Jednak należy odświeżania strony wystąpić po dodamy DetailsView, aby wyświetlić szczegóły wybranego produktu (krok 3).</span><span class="sxs-lookup"><span data-stu-id="8ebb0-170">However, we will want a postback to occur once we add a DetailsView to display the selected product's details (Step 3).</span></span> <span data-ttu-id="8ebb0-171">W związku z tym, zaznacz pole wyboru Włącz AutoPostBack z `productsByCategory` lista DropDownList na tagów inteligentnych.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-171">Therefore, check the Enable AutoPostBack checkbox from the `productsByCategory` DropDownList's smart tag.</span></span>


<span data-ttu-id="8ebb0-172">[![Włącz funkcję AutoPostBack dla productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-172">[![Enable the AutoPostBack Feature for the productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span></span>

<span data-ttu-id="8ebb0-173">**Rysunek 14**: Włączanie funkcji AutoPostBack dla `productsByCategory` DropDownList ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-173">**Figure 14**: Enable the AutoPostBack Feature for the `productsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span></span>


## <a name="step-3-using-a-detailsview-to-display-details-for-the-selected-product"></a><span data-ttu-id="8ebb0-174">Krok 3: Element DetailsView przy użyciu Aby wyświetlić szczegóły wybranego produktu</span><span class="sxs-lookup"><span data-stu-id="8ebb0-174">Step 3: Using a DetailsView to Display Details for the Selected Product</span></span>

<span data-ttu-id="8ebb0-175">Ostatnim krokiem jest można wyświetlić szczegółów wybranego produktu w widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-175">The final step is to display the details for the selected product in a DetailsView.</span></span> <span data-ttu-id="8ebb0-176">Aby to osiągnąć, należy dodać element DetailsView do strony, ustaw jej `ID` właściwości `ProductDetails`i Utwórz nowy element ObjectDataSource dla niego.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-176">To accomplish this, add a DetailsView to the page, set its `ID` property to `ProductDetails`, and create a new ObjectDataSource for it.</span></span> <span data-ttu-id="8ebb0-177">Skonfiguruj ten element ObjectDataSource jego dane z `ProductsBLL` klasy `GetProductByProductID(productID)` metodę przy użyciu wybranej wartości `ProductsByCategory` DropDownList dla wartości *`productID`* parametru.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-177">Configure this ObjectDataSource to pull its data from the `ProductsBLL` class's `GetProductByProductID(productID)` method using the selected value of the `ProductsByCategory` DropDownList for the value of the *`productID`* parameter.</span></span>


<span data-ttu-id="8ebb0-178">[![Wybierz klasy ProductsBLL](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-178">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span></span>

<span data-ttu-id="8ebb0-179">**Rysunek 15**: wybierz opcję do użycia `ProductsBLL` klasy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-179">**Figure 15**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span></span>


<span data-ttu-id="8ebb0-180">[![Skonfiguruj element ObjectDataSource przy użyciu metody GetProductByProductID(productID)](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-180">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span></span>

<span data-ttu-id="8ebb0-181">**Rysunek 16**: Konfigurowanie ObjectDataSource użyć `GetProductByProductID(productID)` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-181">**Figure 16**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span></span>


<span data-ttu-id="8ebb0-182">[![Ściąganie danych z ProductsByCategory DropDownList productID wartość parametru](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-182">[![Pull the productID Parameter Value from the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span></span>

<span data-ttu-id="8ebb0-183">**Rysunek 17**: ściągnięcia *`productID`* wartości parametru z `ProductsByCategory` DropDownList ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-183">**Figure 17**: Pull the *`productID`* Parameter Value from the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span></span>


<span data-ttu-id="8ebb0-184">Istnieje możliwość wyświetlenia dowolnej z dostępnych pól w widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-184">You can choose to display any of the available fields in the DetailsView.</span></span> <span data-ttu-id="8ebb0-185">I została wybrana opcja usunąć `ProductID`, `SupplierID`, i `CategoryID` pól i kolejności i sformatowany pozostałe pola.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-185">I've opted to remove the `ProductID`, `SupplierID`, and `CategoryID` fields and reordered and formatted the remaining fields.</span></span> <span data-ttu-id="8ebb0-186">Ponadto wyczyścić limit DetailsView `Height` i `Width` właściwości, dzięki czemu do rozszerzenia szerokość niezbędne do wyświetlania najważniejsze dane zamiast go ograniczone do określonego rozmiaru widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-186">In addition, I cleared out the DetailsView's `Height` and `Width` properties, allowing the DetailsView to expand to the width needed to best display its data rather than having it constrained to a specified size.</span></span> <span data-ttu-id="8ebb0-187">Pełny kod znaczników pojawia się poniżej:</span><span class="sxs-lookup"><span data-stu-id="8ebb0-187">The full markup appears below:</span></span>


[!code-aspx[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample1.aspx)]

<span data-ttu-id="8ebb0-188">Poświęć chwilę, aby wypróbować `MasterDetailsDetails.aspx` strony w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-188">Take a moment to try out the `MasterDetailsDetails.aspx` page in a browser.</span></span> <span data-ttu-id="8ebb0-189">Na pierwszy rzut oka może występować, że wszystko działa zgodnie z potrzebami, ale występuje niewielkie problem.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-189">At first glance it may appear that everything is working as desired, but there's a subtle problem.</span></span> <span data-ttu-id="8ebb0-190">Po wybraniu nowej kategorii `ProductsByCategory` DropDownList została zaktualizowana do tych produktów dla wybranej kategorii, ale `ProductDetails` widoku DetailsView nadal Pokaż poprzednie informacji o produkcie.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-190">When you choose a new category the `ProductsByCategory` DropDownList is updated to include those products for the selected category, but the `ProductDetails` DetailsView continued to show the previous product information.</span></span> <span data-ttu-id="8ebb0-191">Widoku DetailsView jest aktualizowany w przypadku wybrania innego produktu dla wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-191">The DetailsView is updated when choosing a different product for the selected category.</span></span> <span data-ttu-id="8ebb0-192">Ponadto w przypadku testowania wystarczająco dokładnie, będzie stwierdzisz, że jeśli wybierzesz stale nowych kategorii (np. wybranie napoje z `Categories` DropDownList, a następnie przyprawy, następnie Confections) co inne wybór kategorii spowoduje, że `ProductDetails`Widoku DetailsView jest odświeżenie.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-192">Furthermore, if you test thoroughly enough, you'll find that if you continually choose new categories (such as choosing Beverages from the `Categories` DropDownList, then Condiments, then Confections) every other category selection causes the `ProductDetails` DetailsView to be refreshed.</span></span>

<span data-ttu-id="8ebb0-193">Aby ułatwić skonkretyzować ten problem, Oto przykład określone.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-193">To help concretize this problem, let's look at a specific example.</span></span> <span data-ttu-id="8ebb0-194">Po pierwsze odwiedź stronę należące do tej kategorii jest zaznaczone i pokrewnych produktów są ładowane w `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-194">When you first visit the page the Beverages category is selected and the related products are loaded in the `ProductsByCategory` DropDownList.</span></span> <span data-ttu-id="8ebb0-195">Chai jest wybrany produktu i jego szczegóły są wyświetlane w `ProductDetails` widoku DetailsView, jak pokazano na rysunku 18.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-195">Chai is the selected product and its details are displayed in the `ProductDetails` DetailsView, as shown in Figure 18.</span></span>


<span data-ttu-id="8ebb0-196">[![Szczegółowe informacje o produkcie wybrane są wyświetlane w widoku DetailsView](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-196">[![The Selected Product's Details are Displayed in a DetailsView](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span></span>

<span data-ttu-id="8ebb0-197">**Rysunek 18**: wybrane produktu szczegóły są wyświetlane w widoku DetailsView ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-197">**Figure 18**: The Selected Product's Details are Displayed in a DetailsView ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span></span>


<span data-ttu-id="8ebb0-198">Jeśli zmienisz zaznaczenie kategorii z napoje przyprawy, występuje odświeżania strony i `ProductsByCategory` DropDownList jest odpowiednio aktualizowany, ale nadal wyświetla szczegóły dla Chai w widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-198">If you change the category selection from Beverages to Condiments, a postback occurs and the `ProductsByCategory` DropDownList is updated accordingly, but the DetailsView still displays details for Chai.</span></span>


<span data-ttu-id="8ebb0-199">[![Poprzednio wybrane produktu szczegóły są nadal wyświetlane](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-199">[![The Previously Selected Product's Details are Still Displayed](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span></span>

<span data-ttu-id="8ebb0-200">**Rysunek 19**: szczegóły wcześniej wybrane produktu są nadal wyświetlane ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-200">**Figure 19**: The Previously Selected Product's Details are Still Displayed ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span></span>


<span data-ttu-id="8ebb0-201">Pobrania nowego produktu z listy odświeża widoku DetailsView, zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-201">Picking a new product from the list refreshes the DetailsView as expected.</span></span> <span data-ttu-id="8ebb0-202">W przypadku wybrania nowej kategorii po zmianie produktu widoku DetailsView ponownie nie odświeżania.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-202">If you pick a new category after changing the product, the DetailsView again won't refresh.</span></span> <span data-ttu-id="8ebb0-203">Jednak jeśli zamiast nowego produktu wybrano nową kategorię, czy odświeżyć widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-203">However, if instead of choosing a new product you selected a new category, the DetailsView would refresh.</span></span> <span data-ttu-id="8ebb0-204">Co w świecie dzieje się w tym miejscu?</span><span class="sxs-lookup"><span data-stu-id="8ebb0-204">What in the world is going on here?</span></span>

<span data-ttu-id="8ebb0-205">Problem jest czasu w cyklu życia strony.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-205">The problem is a timing issue in the page's lifecycle.</span></span> <span data-ttu-id="8ebb0-206">Zawsze, gdy strona jest zażądał obejmującego kilka kroków, jako jego renderowania.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-206">Whenever a page is requested it proceeds through a number of steps as its rendering.</span></span> <span data-ttu-id="8ebb0-207">W jednym z tych kroków ObjectDataSource steruje Sprawdź, czy ich `SelectParameters` wartości zostały zmienione.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-207">In one of these steps the ObjectDataSource controls check to see if any of their `SelectParameters` values have changed.</span></span> <span data-ttu-id="8ebb0-208">Jeśli tak, kontrolka sieci Web dane powiązane z ObjectDataSource wie, należy odświeżyć jego wyświetlania.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-208">If so, the data Web control bound to the ObjectDataSource knows that it needs to refresh its display.</span></span> <span data-ttu-id="8ebb0-209">Na przykład, gdy wybrano nową kategorię, `ProductsByCategoryDataSource` ObjectDataSource wykryje, że zmieniono jego wartości parametrów i `ProductsByCategory` DropDownList rebinds, uzyskiwanie produktów dla wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-209">For example, when a new category is selected, the `ProductsByCategoryDataSource` ObjectDataSource detects that its parameter values have changed and the `ProductsByCategory` DropDownList rebinds itself, getting the products for the selected category.</span></span>

<span data-ttu-id="8ebb0-210">Problem, który pojawia się w tej sytuacji jest, że dochodzi do punktu w cyklu życia strony, która ObjectDataSources Sprawdź, czy parametry zmienione *przed* ponownego skojarzone dane zawarte w formantach sieci Web.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-210">The problem that arises in this situation is that the point in the page lifecycle that the ObjectDataSources check for changed parameters occurs *before* the rebinding of the associated data Web controls.</span></span> <span data-ttu-id="8ebb0-211">W związku z tym wybierając nową kategorię `ProductsByCategoryDataSource` ObjectDataSource wykryje zmianę w wartość jego parametru.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-211">Therefore, when selecting a new category the `ProductsByCategoryDataSource` ObjectDataSource detects a change in its parameter's value.</span></span> <span data-ttu-id="8ebb0-212">Element ObjectDataSource, używany przez `ProductDetails` widoku DetailsView, jednak nie należy pamiętać, wszelkie zmiany ponieważ `ProductsByCategory` DropDownList jeszcze nie być odbitych.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-212">The ObjectDataSource used by the `ProductDetails` DetailsView, however, doesn't note any such changes because the `ProductsByCategory` DropDownList has yet to be rebound.</span></span> <span data-ttu-id="8ebb0-213">Nowsze w cyklu życia `ProductsByCategory` DropDownList rebinds do jego ObjectDataSource Przechwytywanie produktów dla nowo wybranej kategorii.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-213">Later in the lifecycle the `ProductsByCategory` DropDownList rebinds to its ObjectDataSource, grabbing the products for the newly selected category.</span></span> <span data-ttu-id="8ebb0-214">Gdy `ProductsByCategory` lista DropDownList na wartość została zmieniona, `ProductDetails` DetailsView ObjectDataSource już przeprowadził wyboru wartość jego parametru; w związku z tym wyświetla jego poprzednie wyniki w widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-214">While the `ProductsByCategory` DropDownList's value has changed, the `ProductDetails` DetailsView's ObjectDataSource has already done its parameter value check; therefore, the DetailsView displays its previous results.</span></span> <span data-ttu-id="8ebb0-215">Interakcji jest przedstawiona na rysunku 20.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-215">This interaction is depicted in Figure 20.</span></span>


<span data-ttu-id="8ebb0-216">[![Wartość ProductsByCategory DropDownList zmieni się po ObjectDataSource ProductDetails DetailsView sprawdza obecność zmian](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-216">[![The ProductsByCategory DropDownList Value Changes After the ProductDetails DetailsView's ObjectDataSource Checks for Changes](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span></span>

<span data-ttu-id="8ebb0-217">**Rysunek 20**: `ProductsByCategory` DropDownList wartość zmiany po `ProductDetails` DetailsView ObjectDataSource sprawdza obecność zmian ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-217">**Figure 20**: The `ProductsByCategory` DropDownList Value Changes After the `ProductDetails` DetailsView's ObjectDataSource Checks for Changes ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span></span>


<span data-ttu-id="8ebb0-218">Aby rozwiązać ten należy jawnie ponownie powiązać `ProductDetails` widoku DetailsView po `ProductsByCategory` powiązano DropDownList.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-218">To remedy this we need to explicitly rebind the `ProductDetails` DetailsView after the `ProductsByCategory` DropDownList has been bound.</span></span> <span data-ttu-id="8ebb0-219">Firma Microsoft można to zrobić przez wywołanie metody `ProductDetails` DetailsView `DataBind()` — metoda podczas `ProductsByCategory` lista DropDownList na `DataBound` generowane zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-219">We can accomplish this by calling the `ProductDetails` DetailsView's `DataBind()` method when the `ProductsByCategory` DropDownList's `DataBound` event fires.</span></span> <span data-ttu-id="8ebb0-220">Dodaj następujący kod obsługi zdarzeń do `MasterDetailsDetails.aspx` strony klasę kodu (odwoływać się do "[programowane Ustawianie wartości parametrów elementu ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" Aby uzyskać informacje na temat dodawania obsługi zdarzeń):</span><span class="sxs-lookup"><span data-stu-id="8ebb0-220">Add the following event handler code to the `MasterDetailsDetails.aspx` page's code-behind class (refer to the "[Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" for a discussion on how to add an event handler):</span></span>


[!code-csharp[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample2.cs)]

<span data-ttu-id="8ebb0-221">Po tym jawnym wywołaniem `ProductDetails` DetailsView `DataBind()` metody został dodany, samouczka działa zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-221">After this explicit call to the `ProductDetails` DetailsView's `DataBind()` method has been added, the tutorial works as expected.</span></span> <span data-ttu-id="8ebb0-222">Rysunek 21 prezentuje sposób zmienione zostaną usunięte naszych wcześniejszych problem.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-222">Figure 21 highlights how this changed remedied our earlier problem.</span></span>


<span data-ttu-id="8ebb0-223">[![Element ProductDetails DetailsView jest generowane zdarzenie z danymi jawnie odświeżane przy ProductsByCategory lista DropDownList na](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-223">[![The ProductDetails DetailsView is Explicitly Refreshed When the ProductsByCategory DropDownList's DataBound Event Fires](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span></span>

<span data-ttu-id="8ebb0-224">**Rysunek 21**: `ProductDetails` widoku DetailsView jest jawnie odświeżane przy `ProductsByCategory` lista DropDownList na `DataBound` generowane zdarzenie ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span><span class="sxs-lookup"><span data-stu-id="8ebb0-224">**Figure 21**: The `ProductDetails` DetailsView is Explicitly Refreshed When the `ProductsByCategory` DropDownList's `DataBound` Event Fires ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span></span>


## <a name="summary"></a><span data-ttu-id="8ebb0-225">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="8ebb0-225">Summary</span></span>

<span data-ttu-id="8ebb0-226">Lista DropDownList służy jako element interfejsu użytkownika nadaje się doskonale dla raportów wzorzec/szczegół przypadku relacji jeden do wielu między rekordy wzorca i szczegółów.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-226">The DropDownList serves as an ideal user interface element for master/detail reports where there is a one-to-many relationship between the master and detail records.</span></span> <span data-ttu-id="8ebb0-227">W poprzednim samouczek widzieliśmy jak używać jednego DropDownList do filtrowania wyświetlanych przez wybranej kategorii produktów.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-227">In the preceding tutorial we saw how to use a single DropDownList to filter the products displayed by the selected category.</span></span> <span data-ttu-id="8ebb0-228">W tym samouczku możemy zastąpione widoku GridView produktów DropDownList i umożliwia wyświetlenie szczegółów wybranego produktu w widoku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-228">In this tutorial we replaced the GridView of products with a DropDownList, and used a DetailsView to display the details of the selected product.</span></span> <span data-ttu-id="8ebb0-229">Kwestie omówione w tym samouczku można z łatwością rozszerzyć do modeli danych obejmujących wiele relacji jeden do wielu, takich jak klienci, zamówienia i kolejność elementów.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-229">The concepts discussed in this tutorial can easily be extended to data models involving multiple one-to-many relationships, such as customers, orders, and order items.</span></span> <span data-ttu-id="8ebb0-230">Ogólnie rzecz biorąc można dodać DropDownList dla każdej jednostki "jeden" w relacji jeden do wielu.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-230">In general, you can always add a DropDownList for each of the "one" entities in the one-to-many relationships.</span></span>

<span data-ttu-id="8ebb0-231">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="8ebb0-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="8ebb0-232">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="8ebb0-232">About the Author</span></span>

<span data-ttu-id="8ebb0-233">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="8ebb0-234">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="8ebb0-235">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="8ebb0-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="8ebb0-236">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="8ebb0-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="8ebb0-237">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="8ebb0-237">Special Thanks To</span></span>

<span data-ttu-id="8ebb0-238">Ten samouczek serii zostało sprawdzone przez wiele recenzentów przydatne.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-238">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="8ebb0-239">Recenzenta realizacji w tym samouczku został Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="8ebb0-239">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="8ebb0-240">Zainteresowani recenzowania Moje nadchodzących artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="8ebb0-240">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="8ebb0-241">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-241">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8ebb0-242">[Poprzednie](master-detail-filtering-with-a-dropdownlist-cs.md)
> [dalej](master-detail-filtering-across-two-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="8ebb0-242">[Previous](master-detail-filtering-with-a-dropdownlist-cs.md)
[Next](master-detail-filtering-across-two-pages-cs.md)</span></span>
