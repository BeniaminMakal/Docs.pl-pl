---
title: "Praca z wieloma środowiska w programie ASP.NET Core"
author: ardalis
description: "Dowiedz się, jak platformy ASP.NET Core umożliwia kontrolowanie zachowania aplikacji w wielu środowiskach."
keywords: "Platformy ASP.NET Core ustawienia środowiska, ASPNETCORE_ENVIRONMENT"
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.assetid: b5bba985-be12-4464-9a01-df3599b2a6f1
ms.technology: aspnet
ms.prod: asp.net-core
uid: fundamentals/environments
ms.openlocfilehash: 9127c3d7180422c0e3dbd813340dd485bf360c81
ms.sourcegitcommit: 12e5194936b7e820efc5505a2d5d4f84e88eb5ef
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/11/2018
---
# <a name="working-with-multiple-environments"></a><span data-ttu-id="446fc-104">Praca w środowiskach wielu</span><span class="sxs-lookup"><span data-stu-id="446fc-104">Working with multiple environments</span></span>

<span data-ttu-id="446fc-105">Przez [Steve Smith](https://ardalis.com/)</span><span class="sxs-lookup"><span data-stu-id="446fc-105">By [Steve Smith](https://ardalis.com/)</span></span>

<span data-ttu-id="446fc-106">Platformy ASP.NET Core umożliwia kontrolowanie zachowania aplikacji w wielu środowiskach, takich jak projektowanie, tymczasową i produkcyjną.</span><span class="sxs-lookup"><span data-stu-id="446fc-106">ASP.NET Core provides support for controlling app behavior across multiple environments, such as development, staging, and production.</span></span> <span data-ttu-id="446fc-107">Zmienne środowiskowe są używane do wskazywania środowisko uruchomieniowe, dzięki czemu aplikacja dla tego środowiska.</span><span class="sxs-lookup"><span data-stu-id="446fc-107">Environment variables are used to indicate the runtime environment, allowing the app to be configured for that environment.</span></span>

<span data-ttu-id="446fc-108">[Wyświetlić lub pobrać przykładowy kod](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/environments/sample) ([sposobu pobierania](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="446fc-108">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/environments/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="development-staging-production"></a><span data-ttu-id="446fc-109">Programowanie, przemieszczania, produkcji</span><span class="sxs-lookup"><span data-stu-id="446fc-109">Development, Staging, Production</span></span>

<span data-ttu-id="446fc-110">Platformy ASP.NET Core odwołuje się do danej zmiennej środowiskowej, `ASPNETCORE_ENVIRONMENT` do opisu aplikacji jest obecnie uruchomiony w środowisku.</span><span class="sxs-lookup"><span data-stu-id="446fc-110">ASP.NET Core references a particular environment variable, `ASPNETCORE_ENVIRONMENT` to describe the environment the application is currently running in.</span></span> <span data-ttu-id="446fc-111">Tę zmienną można ustawić dowolną wartość Ci się podoba, ale trzy wartości są używane przez Konwencję: `Development`, `Staging`, i `Production`.</span><span class="sxs-lookup"><span data-stu-id="446fc-111">This variable can be set to any value you like, but three values are used by convention: `Development`, `Staging`, and `Production`.</span></span> <span data-ttu-id="446fc-112">Dostępne są te wartości używane w przykładach i szablony dostarczane z platformy ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="446fc-112">You will find these values used in the samples and templates provided with ASP.NET Core.</span></span>

<span data-ttu-id="446fc-113">Bieżące ustawienie środowiska mogą być wykrywane programowo z wewnątrz aplikacji.</span><span class="sxs-lookup"><span data-stu-id="446fc-113">The current environment setting can be detected programmatically from within your application.</span></span> <span data-ttu-id="446fc-114">Ponadto można użyć środowiska [pomocnika tagów](../mvc/views/tag-helpers/index.md) do uwzględnienia niektórych części Twojego [widoku](../mvc/views/index.md) na podstawie bieżącego środowiska aplikacji.</span><span class="sxs-lookup"><span data-stu-id="446fc-114">In addition, you can use the Environment [tag helper](../mvc/views/tag-helpers/index.md) to include certain sections in your [view](../mvc/views/index.md) based on the current application environment.</span></span>

<span data-ttu-id="446fc-115">Uwaga: W systemach Windows i macOS nazwę określonego środowiska jest bez uwzględniania wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="446fc-115">Note: On Windows and macOS, the specified environment name is case insensitive.</span></span> <span data-ttu-id="446fc-116">Czy Ustaw zmienną na `Development` lub `development` lub `DEVELOPMENT` wyniki będą takie same.</span><span class="sxs-lookup"><span data-stu-id="446fc-116">Whether you set the variable to `Development` or `development` or `DEVELOPMENT` the results will be the same.</span></span> <span data-ttu-id="446fc-117">Jednak Linux jest **z uwzględnieniem wielkości liter** systemu operacyjnego domyślnie.</span><span class="sxs-lookup"><span data-stu-id="446fc-117">However, Linux is a **case sensitive** OS by default.</span></span> <span data-ttu-id="446fc-118">Zmienne środowiskowe, nazwy plików i ustawienia wymagają rozróżniania wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="446fc-118">Environment variables, file names and settings require case sensitivity.</span></span>

### <a name="development"></a><span data-ttu-id="446fc-119">Tworzenie</span><span class="sxs-lookup"><span data-stu-id="446fc-119">Development</span></span>

<span data-ttu-id="446fc-120">Powinno to być środowisko używany podczas tworzenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="446fc-120">This should be the environment used when developing an application.</span></span> <span data-ttu-id="446fc-121">Zwykle jest używana do włączenia funkcji, które nie mają być dostępne, gdy aplikacja jest uruchamiana w środowisku produkcyjnym, takich jak [developer wyjątku strony](xref:fundamentals/error-handling#the-developer-exception-page).</span><span class="sxs-lookup"><span data-stu-id="446fc-121">It is typically used to enable features that you wouldn't want to be available when the app runs in production, such as the [developer exception page](xref:fundamentals/error-handling#the-developer-exception-page).</span></span>

<span data-ttu-id="446fc-122">Jeśli używasz programu Visual Studio, można skonfigurować środowisko w profilach debugowania projektu.</span><span class="sxs-lookup"><span data-stu-id="446fc-122">If you're using Visual Studio, the environment can be configured in your project's debug profiles.</span></span> <span data-ttu-id="446fc-123">Debugowanie profilów określ [serwera](xref:fundamentals/servers/index) na potrzeby można ustawić podczas uruchamiania aplikacji i zmiennych środowiskowych.</span><span class="sxs-lookup"><span data-stu-id="446fc-123">Debug profiles specify the [server](xref:fundamentals/servers/index) to use when launching the application and any environment variables to be set.</span></span> <span data-ttu-id="446fc-124">Projekt może mieć wiele profilów debugowania, które ustawione inaczej dla zmiennych środowiskowych.</span><span class="sxs-lookup"><span data-stu-id="446fc-124">Your project can have multiple debug profiles that set environment variables differently.</span></span> <span data-ttu-id="446fc-125">Te profile są zarządzane za pomocą **debugowania** kartę projektu aplikacji sieci web **właściwości** menu.</span><span class="sxs-lookup"><span data-stu-id="446fc-125">You manage these profiles by using the **Debug** tab of your web application project's **Properties** menu.</span></span> <span data-ttu-id="446fc-126">Wartości ustawione we właściwościach projektu są zachowywane w *launchSettings.json* pliku, a także można skonfigurować profile bezpośrednio edytując ten plik.</span><span class="sxs-lookup"><span data-stu-id="446fc-126">The values you set in project properties are persisted in the *launchSettings.json* file, and you can also configure profiles by editing that file directly.</span></span>

<span data-ttu-id="446fc-127">Profil dla usług IIS Express jest następujący:</span><span class="sxs-lookup"><span data-stu-id="446fc-127">The profile for IIS Express is shown here:</span></span>

![Zmienne środowiskowe ustawienie właściwości projektu](environments/_static/project-properties-debug.png)

<span data-ttu-id="446fc-129">Oto `launchSettings.json` plik zawierający profilów `Development` i `Staging`:</span><span class="sxs-lookup"><span data-stu-id="446fc-129">Here is a `launchSettings.json` file that includes profiles for `Development` and `Staging`:</span></span>

[!code-json[Main](../fundamentals/environments/sample/src/Environments/Properties/launchSettings.json?highlight=15,22)]

<span data-ttu-id="446fc-130">Zmiany wprowadzone do profilów projektu mogą nie zostać zastosowane do czasu ponownego uruchomienia serwera sieci web, użyć (w szczególności Kestrel należy ponownie uruchomić przed wykryje zmiany wprowadzone w jego środowisku).</span><span class="sxs-lookup"><span data-stu-id="446fc-130">Changes made to project profiles may not take effect until the web server used is restarted (in particular, Kestrel must be restarted before it will detect changes made to its environment).</span></span>

>[!WARNING]
> <span data-ttu-id="446fc-131">Zmienne środowiskowe są przechowywane w *launchSettings.json* nie są już zabezpieczone w jakikolwiek sposób i będzie częścią repozytorium kodu źródłowego dla projektu, jeśli używany jest jeden.</span><span class="sxs-lookup"><span data-stu-id="446fc-131">Environment variables stored in *launchSettings.json* are not secured in any way and will be part of the source code repository for your project, if you use one.</span></span> <span data-ttu-id="446fc-132">**Nigdy nie przechowują poświadczeń lub inne poufne dane w tym pliku.**</span><span class="sxs-lookup"><span data-stu-id="446fc-132">**Never store credentials or other secret data in this file.**</span></span> <span data-ttu-id="446fc-133">Miejsce do przechowywania tych danych, należy użyć *Manager klucz tajny* narzędzia opisanego w [bezpiecznego magazynu kluczy tajnych aplikacji podczas tworzenia](xref:security/app-secrets).</span><span class="sxs-lookup"><span data-stu-id="446fc-133">If you need a place to store such data, use the *Secret Manager* tool described in [Safe storage of app secrets during development](xref:security/app-secrets).</span></span>

### <a name="staging"></a><span data-ttu-id="446fc-134">Przemieszczania</span><span class="sxs-lookup"><span data-stu-id="446fc-134">Staging</span></span>

<span data-ttu-id="446fc-135">Według konwencji `Staging` środowisko jest używane do testowania końcowego przed wdrożeniem w środowisku produkcyjnym w środowisku przedprodukcyjnym.</span><span class="sxs-lookup"><span data-stu-id="446fc-135">By convention, a `Staging` environment is a pre-production environment used for final testing before deployment to production.</span></span> <span data-ttu-id="446fc-136">Najlepiej, jeśli jego właściwości fizyczne duplikowany, który produkcji, tak, aby wszelkie problemy, które mogą wystąpić w środowisku produkcyjnym występować jako pierwsza w środowisku przemieszczania, w którym może zostać zlikwidowane bez wpływu na użytkowników.</span><span class="sxs-lookup"><span data-stu-id="446fc-136">Ideally, its physical characteristics should mirror that of production, so that any issues that may arise in production occur first in the staging environment, where they can be addressed without impact to users.</span></span>

### <a name="production"></a><span data-ttu-id="446fc-137">Produkcji</span><span class="sxs-lookup"><span data-stu-id="446fc-137">Production</span></span>

<span data-ttu-id="446fc-138">`Production` Środowiska to środowisko, w której aplikacja jest uruchamiana podczas działania i używane przez użytkowników końcowych.</span><span class="sxs-lookup"><span data-stu-id="446fc-138">The `Production` environment is the environment in which the application runs when it is live and being used by end users.</span></span> <span data-ttu-id="446fc-139">Tego środowiska należy skonfigurować w celu zwiększenia bezpieczeństwa, wydajności i niezawodności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="446fc-139">This environment should be configured to maximize security, performance, and application robustness.</span></span> <span data-ttu-id="446fc-140">Niektóre typowe ustawienia, które mogą mieć w środowisku produkcyjnym różniących od projektowania obejmują:</span><span class="sxs-lookup"><span data-stu-id="446fc-140">Some common settings that a production environment might have that would differ from development include:</span></span>

* <span data-ttu-id="446fc-141">Włącz buforowanie</span><span class="sxs-lookup"><span data-stu-id="446fc-141">Turn on caching</span></span>

* <span data-ttu-id="446fc-142">Upewnij się, wszystkie zasoby po stronie klienta są powiązane, zminimalizowane i potencjalnie pochodzący z sieci CDN</span><span class="sxs-lookup"><span data-stu-id="446fc-142">Ensure all client-side resources are bundled, minified, and potentially served from a CDN</span></span>

* <span data-ttu-id="446fc-143">Wyłącz ErrorPages diagnostycznych</span><span class="sxs-lookup"><span data-stu-id="446fc-143">Turn off diagnostic ErrorPages</span></span>

* <span data-ttu-id="446fc-144">Włącz stron błędów przyjazne</span><span class="sxs-lookup"><span data-stu-id="446fc-144">Turn on friendly error pages</span></span>

* <span data-ttu-id="446fc-145">Włącz produkcji rejestrowania i monitorowania (na przykład [usługi Application Insights](https://azure.microsoft.com/documentation/articles/app-insights-asp-net-five/))</span><span class="sxs-lookup"><span data-stu-id="446fc-145">Enable production logging and monitoring (for example, [Application Insights](https://azure.microsoft.com/documentation/articles/app-insights-asp-net-five/))</span></span>

<span data-ttu-id="446fc-146">To jest ale w żadnym wypadku nie można uzyskać pełną listę.</span><span class="sxs-lookup"><span data-stu-id="446fc-146">This is by no means meant to be a complete list.</span></span> <span data-ttu-id="446fc-147">Najlepiej uniknąć rozproszenia kontroli środowiska w wielu części aplikacji.</span><span class="sxs-lookup"><span data-stu-id="446fc-147">It's best to avoid scattering environment checks in many parts of your application.</span></span> <span data-ttu-id="446fc-148">Zamiast tego jest zalecane podejście do takiego sprawdzania w tej aplikacji `Startup` klasy tam gdzie to możliwe</span><span class="sxs-lookup"><span data-stu-id="446fc-148">Instead, the recommended approach is to perform such checks within the application's `Startup` class(es) wherever possible</span></span>

## <a name="setting-the-environment"></a><span data-ttu-id="446fc-149">Ustawienia środowiska</span><span class="sxs-lookup"><span data-stu-id="446fc-149">Setting the environment</span></span>

<span data-ttu-id="446fc-150">Metoda do ustawiania środowiska zależy od systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="446fc-150">The method for setting the environment depends on the operating system.</span></span>

### <a name="windows"></a><span data-ttu-id="446fc-151">Windows</span><span class="sxs-lookup"><span data-stu-id="446fc-151">Windows</span></span>
<span data-ttu-id="446fc-152">Aby ustawić `ASPNETCORE_ENVIRONMENT` dla bieżącej sesji, jeśli aplikacja zostanie uruchomiona przy użyciu `dotnet run`, są używane następujące polecenia</span><span class="sxs-lookup"><span data-stu-id="446fc-152">To set the `ASPNETCORE_ENVIRONMENT` for the current session, if the app is started using `dotnet run`, the following commands are used</span></span>

<span data-ttu-id="446fc-153">**Wiersz polecenia**</span><span class="sxs-lookup"><span data-stu-id="446fc-153">**Command line**</span></span>
```
set ASPNETCORE_ENVIRONMENT=Development
```
<span data-ttu-id="446fc-154">**Środowiska PowerShell**</span><span class="sxs-lookup"><span data-stu-id="446fc-154">**PowerShell**</span></span>
```
$Env:ASPNETCORE_ENVIRONMENT = "Development"
```

<span data-ttu-id="446fc-155">Te polecenia brane pod uwagę tylko dla bieżącego okna.</span><span class="sxs-lookup"><span data-stu-id="446fc-155">These commands take effect only for the current window.</span></span> <span data-ttu-id="446fc-156">Po zamknięciu okna ustawienie ASPNETCORE_ENVIRONMENT Przywraca wartości domyślne ustawienie lub komputera.</span><span class="sxs-lookup"><span data-stu-id="446fc-156">When the window is closed, the ASPNETCORE_ENVIRONMENT setting reverts to the default setting or machine value.</span></span> <span data-ttu-id="446fc-157">Aby można było ustawić wartość globalnie dla systemu Windows otwórz **Panelu sterowania** > **systemu** > **Zaawansowane ustawienia systemu** i Dodaj lub Edytuj `ASPNETCORE_ENVIRONMENT` wartość.</span><span class="sxs-lookup"><span data-stu-id="446fc-157">In order to set the value globally on Windows open the **Control Panel** > **System** > **Advanced system settings** and add or edit the `ASPNETCORE_ENVIRONMENT` value.</span></span>

![Zaawansowane właściwości systemu](environments/_static/systemsetting_environment.png)

![Zmienna środowiskowa Core ASPNET](environments/_static/windows_aspnetcore_environment.png) 

<span data-ttu-id="446fc-160">**plik Web.config**</span><span class="sxs-lookup"><span data-stu-id="446fc-160">**web.config**</span></span>

<span data-ttu-id="446fc-161">Zobacz *ustawienia zmiennych środowiskowych* sekcji [odwołania konfiguracji platformy ASP.NET Core modułu](xref:host-and-deploy/aspnet-core-module#setting-environment-variables) tematu.</span><span class="sxs-lookup"><span data-stu-id="446fc-161">See the *Setting environment variables* section of the [ASP.NET Core Module configuration reference](xref:host-and-deploy/aspnet-core-module#setting-environment-variables) topic.</span></span>

<span data-ttu-id="446fc-162">**Dla każdej puli aplikacji usług IIS**</span><span class="sxs-lookup"><span data-stu-id="446fc-162">**Per IIS Application Pool**</span></span>

<span data-ttu-id="446fc-163">Jeśli musisz ustawić zmienne środowiskowe dla poszczególnych aplikacji uruchomionych w pulach aplikacji izolowanych (obsługiwane w usługach IIS 10.0 +), zobacz *polecenia AppCmd.exe* sekcji [zmiennych środowiskowych \< environmentVariables >](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) dokumentacji odwołania tematu w usługach IIS.</span><span class="sxs-lookup"><span data-stu-id="446fc-163">If you need to set environment variables for individual apps running in isolated Application Pools (supported on IIS 10.0+), see the *AppCmd.exe command* section of the [Environment Variables \<environmentVariables>](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) topic in the IIS reference documentation.</span></span>

### <a name="macos"></a><span data-ttu-id="446fc-164">System macOS</span><span class="sxs-lookup"><span data-stu-id="446fc-164">macOS</span></span>
<span data-ttu-id="446fc-165">Ustawianie bieżącego środowiska pod kątem macOS może odbywać się w wierszu przy uruchamianiu aplikacji;</span><span class="sxs-lookup"><span data-stu-id="446fc-165">Setting the current environment for macOS can be done in-line when running the application;</span></span>

```bash
ASPNETCORE_ENVIRONMENT=Development dotnet run
```
<span data-ttu-id="446fc-166">lub przy użyciu `export` ustaw go przed uruchomieniem aplikacji.</span><span class="sxs-lookup"><span data-stu-id="446fc-166">or using `export` to set it prior to running the app.</span></span>

```bash
export ASPNETCORE_ENVIRONMENT=Development
``` 
<span data-ttu-id="446fc-167">Zmienne środowiskowe poziomu są ustawiane w *.bashrc* lub *.bash_profile* pliku.</span><span class="sxs-lookup"><span data-stu-id="446fc-167">Machine level environment variables are set in the *.bashrc*  or *.bash_profile* file.</span></span> <span data-ttu-id="446fc-168">Przeprowadź edycję pliku za pomocą dowolnego edytora tekstu, a następnie dodaj następującą instrukcję.</span><span class="sxs-lookup"><span data-stu-id="446fc-168">Edit the file using any text editor and add the following statment.</span></span>

```
export ASPNETCORE_ENVIRONMENT=Development
```  

### <a name="linux"></a><span data-ttu-id="446fc-169">Linux</span><span class="sxs-lookup"><span data-stu-id="446fc-169">Linux</span></span>
<span data-ttu-id="446fc-170">Dystrybucjach systemu Linux, można użyć `export` polecenie w wierszu polecenia dla zmiennej ustawieniami opartymi na sesji i *bash_profile* w pliku ustawień z poziomu środowiska maszyny.</span><span class="sxs-lookup"><span data-stu-id="446fc-170">For Linux distros, use the `export` command at the command line for session based variable settings and *bash_profile* file for machine level environment settings.</span></span>

## <a name="determining-the-environment-at-runtime"></a><span data-ttu-id="446fc-171">Określanie środowiska w czasie wykonywania</span><span class="sxs-lookup"><span data-stu-id="446fc-171">Determining the environment at runtime</span></span>

<span data-ttu-id="446fc-172">`IHostingEnvironment` Usługa udostępnia abstrakcję core Praca w środowiskach.</span><span class="sxs-lookup"><span data-stu-id="446fc-172">The `IHostingEnvironment` service provides the core abstraction for working with environments.</span></span> <span data-ttu-id="446fc-173">Ta usługa jest dostarczane przez platformę ASP.NET hosting warstwy i mogą zostać dodane do Logika uruchamiania za pomocą [iniekcji zależności](dependency-injection.md).</span><span class="sxs-lookup"><span data-stu-id="446fc-173">This service is provided by the ASP.NET hosting layer, and can be injected into your startup logic via [Dependency Injection](dependency-injection.md).</span></span> <span data-ttu-id="446fc-174">Szablon witryny sieci web platformy ASP.NET Core w programie Visual Studio korzysta z tej metody można załadować plików konfiguracyjnych środowiska (jeśli istnieje) i dostosować ustawienia postępowania z błędami instalacji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="446fc-174">The ASP.NET Core web site template in Visual Studio uses this approach to load environment-specific configuration files (if present) and to customize the app's error handling settings.</span></span> <span data-ttu-id="446fc-175">W obu przypadkach to zachowanie jest to osiągane przez odwołanie do aktualnie określonego środowiska przez wywołanie metody `EnvironmentName` lub `IsEnvironment` w wystąpieniu `IHostingEnvironment` przekazany do odpowiedniej metody.</span><span class="sxs-lookup"><span data-stu-id="446fc-175">In both cases, this behavior is achieved by referring to the currently specified environment by calling `EnvironmentName` or `IsEnvironment` on the instance of `IHostingEnvironment` passed into the appropriate method.</span></span>

> [!NOTE]
> <span data-ttu-id="446fc-176">Jeśli należy sprawdzić, czy aplikacja jest uruchomiona w określonym środowisku użyj `env.IsEnvironment("environmentname")` ponieważ poprawnie zignoruje przypadku (zamiast sprawdzania, czy `env.EnvironmentName == "Development"` na przykład).</span><span class="sxs-lookup"><span data-stu-id="446fc-176">If you need to check whether the application is running in a particular environment, use `env.IsEnvironment("environmentname")` since it will correctly ignore case (instead of checking if `env.EnvironmentName == "Development"` for example).</span></span>

<span data-ttu-id="446fc-177">Na przykład można użyć następujących kodu w metodę Konfiguruj można skonfigurować środowisko obsługi błędu:</span><span class="sxs-lookup"><span data-stu-id="446fc-177">For example, you can use the following code in your Configure method to setup environment specific error handling:</span></span>

[!code-csharp[Main](environments/sample/src/Environments/Startup.cs?range=19-30)]

<span data-ttu-id="446fc-178">Jeśli aplikacja jest uruchomiona `Development` środowiska, a następnie go włącza Obsługa środowiska uruchomieniowego koniecznych do używania tej funkcji "BrowserLink" w programie Visual Studio, stron z błędem specyficznym dla rozwoju, (które zwykle nie powinna być uruchamiana w środowisku produkcyjnym) i błąd specjalne bazy danych strony (które umożliwiają zastosowanie migracji i w związku z tym można używać tylko w rozwoju).</span><span class="sxs-lookup"><span data-stu-id="446fc-178">If the app is running in a `Development` environment, then it enables the runtime support necessary to use the "BrowserLink" feature in Visual Studio, development-specific error pages (which typically should not be run in production) and special database error pages (which provide a way to apply migrations and should therefore only be used in development).</span></span> <span data-ttu-id="446fc-179">W przeciwnym razie jeśli aplikacja nie jest uruchomiony w środowisku projektowania, strony obsługi błędów skonfigurowano mają być wyświetlane w odpowiedzi żadnych nieobsłużonych wyjątków.</span><span class="sxs-lookup"><span data-stu-id="446fc-179">Otherwise, if the app is not running in a development environment, a standard error handling page is configured to be displayed in response to any unhandled exceptions.</span></span>

<span data-ttu-id="446fc-180">Należy określić, którego zawartość do wysłania do klienta w czasie wykonywania, w zależności od bieżącego środowiska.</span><span class="sxs-lookup"><span data-stu-id="446fc-180">You may need to determine which content to send to the client at runtime, depending on the current environment.</span></span> <span data-ttu-id="446fc-181">Na przykład w środowisku projektowym można zwykle służą-zminimalizowane skrypty i arkusze stylów, dzięki czemu ułatwia debugowanie.</span><span class="sxs-lookup"><span data-stu-id="446fc-181">For example, in a development environment you generally serve non-minimized scripts and style sheets, which makes debugging easier.</span></span> <span data-ttu-id="446fc-182">Środowisk produkcyjnych i testowych powinien służyć zminimalizowany wersji i zwykle z sieci CDN.</span><span class="sxs-lookup"><span data-stu-id="446fc-182">Production and test environments should serve the minified versions and generally from a CDN.</span></span> <span data-ttu-id="446fc-183">Można to zrobić przy użyciu środowiska [pomocnika tagów](../mvc/views/tag-helpers/intro.md).</span><span class="sxs-lookup"><span data-stu-id="446fc-183">You can do this using the Environment [tag helper](../mvc/views/tag-helpers/intro.md).</span></span> <span data-ttu-id="446fc-184">Pomocnik tag środowiska tylko renderowania jego zawartość, jeśli bieżącego środowiska pasuje do jednej z tych środowisk, określić przy użyciu `names` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="446fc-184">The Environment tag helper will only render its contents if the current environment matches one of the environments specified using the `names` attribute.</span></span>

[!code-html[Main](environments/sample/src/Environments/Views/Shared/_Layout.cshtml?range=13-22)]

<span data-ttu-id="446fc-185">Aby rozpocząć używanie pomocników tagów w Twojej aplikacji można znaleźć [wprowadzenie do pomocników tagów](../mvc/views/tag-helpers/intro.md).</span><span class="sxs-lookup"><span data-stu-id="446fc-185">To get started with using tag helpers in your application see [Introduction to Tag Helpers](../mvc/views/tag-helpers/intro.md).</span></span>

## <a name="startup-conventions"></a><span data-ttu-id="446fc-186">Konwencje uruchamiania</span><span class="sxs-lookup"><span data-stu-id="446fc-186">Startup conventions</span></span>

<span data-ttu-id="446fc-187">Platformy ASP.NET Core obsługuje podejście opartych na konwencjach skonfigurowanie uruchamiania aplikacji na podstawie bieżącego środowiska.</span><span class="sxs-lookup"><span data-stu-id="446fc-187">ASP.NET Core supports a convention-based approach to configuring an application's startup based on the current environment.</span></span> <span data-ttu-id="446fc-188">Można również programowe sterowanie, jak aplikacja ma zachowywać się zgodnie z poszczególnych środowisk jest, co umożliwia tworzenie i zarządzanie nimi własne konwencje.</span><span class="sxs-lookup"><span data-stu-id="446fc-188">You can also programmatically control how your application behaves according to which environment it is in, allowing you to create and manage your own conventions.</span></span>

<span data-ttu-id="446fc-189">Po uruchomieniu aplikacji platformy ASP.NET Core `Startup` klasa jest używana do ładowania początkowego aplikacji, załadowanie jego ustawienia konfiguracji, itp. ([Dowiedz się więcej na temat uruchamiania ASP.NET](startup.md)).</span><span class="sxs-lookup"><span data-stu-id="446fc-189">When an ASP.NET Core application starts, the `Startup` class is used to bootstrap the application, load its configuration settings, etc. ([learn more about ASP.NET startup](startup.md)).</span></span> <span data-ttu-id="446fc-190">Jednak jeśli istnieje klasa o nazwie `Startup{EnvironmentName}` (na przykład `StartupDevelopment`) i `ASPNETCORE_ENVIRONMENT` odpowiada zmiennej środowiskowej tej nazwy, następnie `Startup` klasa jest używana zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="446fc-190">However, if a class exists named `Startup{EnvironmentName}` (for example `StartupDevelopment`), and the `ASPNETCORE_ENVIRONMENT` environment variable matches that name, then that `Startup` class is used instead.</span></span> <span data-ttu-id="446fc-191">W związku z tym można skonfigurować `Startup` do tworzenia aplikacji, ale ma oddzielnej `StartupProduction` który będzie używany, gdy aplikacja jest uruchamiana w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="446fc-191">Thus, you could configure `Startup` for development, but have a separate `StartupProduction` that would be used when the app is run in production.</span></span> <span data-ttu-id="446fc-192">Lub na odwrót.</span><span class="sxs-lookup"><span data-stu-id="446fc-192">Or vice versa.</span></span>

> [!NOTE]
> <span data-ttu-id="446fc-193">Wywoływanie `WebHostBuilder.UseStartup<TStartup>()` zastępuje sekcji konfiguracyjnych.</span><span class="sxs-lookup"><span data-stu-id="446fc-193">Calling `WebHostBuilder.UseStartup<TStartup>()` overrides configuration sections.</span></span>

<span data-ttu-id="446fc-194">Oprócz przy użyciu w pełni odrębnych `Startup` MFC opartą na bieżącym środowisku, można także dokonać zmian w konfiguracji aplikacji w ramach `Startup` klasy.</span><span class="sxs-lookup"><span data-stu-id="446fc-194">In addition to using an entirely separate `Startup` class based on the current environment, you can also make adjustments to how the application is configured within a `Startup` class.</span></span> <span data-ttu-id="446fc-195">`Configure()` i `ConfigureServices()` metody obsługuje wersji określonego środowiska podobny do `Startup` klasy samego formularza `Configure{EnvironmentName}()` i `Configure{EnvironmentName}Services()`.</span><span class="sxs-lookup"><span data-stu-id="446fc-195">The `Configure()` and `ConfigureServices()` methods support environment-specific versions similar to the `Startup` class itself, of the form `Configure{EnvironmentName}()` and `Configure{EnvironmentName}Services()`.</span></span> <span data-ttu-id="446fc-196">W przypadku definiowania metody `ConfigureDevelopment()` będzie ona wywoływana zamiast `Configure()` gdy środowisko jest ustawiona na programowanie.</span><span class="sxs-lookup"><span data-stu-id="446fc-196">If you define a method `ConfigureDevelopment()` it will be called instead of `Configure()` when the environment is set to development.</span></span> <span data-ttu-id="446fc-197">Podobnie `ConfigureDevelopmentServices()` może być wywoływana zamiast `ConfigureServices()` w tym samym środowisku.</span><span class="sxs-lookup"><span data-stu-id="446fc-197">Likewise, `ConfigureDevelopmentServices()` would be called instead of `ConfigureServices()` in the same environment.</span></span>

## <a name="summary"></a><span data-ttu-id="446fc-198">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="446fc-198">Summary</span></span>

<span data-ttu-id="446fc-199">Platformy ASP.NET Core oferuje następujące funkcje i konwencje, które umożliwiają deweloperom łatwe kontrolować zachowanie ich aplikacji w różnych środowiskach.</span><span class="sxs-lookup"><span data-stu-id="446fc-199">ASP.NET Core provides a number of features and conventions that allow developers to easily control how their applications behave in different environments.</span></span> <span data-ttu-id="446fc-200">Podczas publikowania aplikacji od projektowania do etapu przemieszczania do środowiska produkcyjnego, zestaw zmiennych środowiska odpowiednio dla środowiska umożliwiają optymalizacji aplikacji do użycia debugowania, testowania lub zastosowania, zależnie od potrzeb.</span><span class="sxs-lookup"><span data-stu-id="446fc-200">When publishing an application from development to staging to production, environment variables set appropriately for the environment allow for optimization of the application for debugging, testing, or production use, as appropriate.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="446fc-201">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="446fc-201">Additional Resources</span></span>

* [<span data-ttu-id="446fc-202">Konfiguracja</span><span class="sxs-lookup"><span data-stu-id="446fc-202">Configuration</span></span>](xref:fundamentals/configuration/index)

* [<span data-ttu-id="446fc-203">Wprowadzenie do pomocników tagów</span><span class="sxs-lookup"><span data-stu-id="446fc-203">Introduction to Tag Helpers</span></span>](../mvc/views/tag-helpers/intro.md)
