---
title: "Wiązanie modelu"
author: rick-anderson
description: 
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/models/model-binding
ms.openlocfilehash: 84b9c5dc3a87b739affaeaecaa180d1b01f49b8e
ms.sourcegitcommit: 3e303620a125325bb9abd4b2d315c106fb8c47fd
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/19/2018
---
# <a name="model-binding"></a><span data-ttu-id="fe968-102">Wiązanie modelu</span><span class="sxs-lookup"><span data-stu-id="fe968-102">Model Binding</span></span>

<span data-ttu-id="fe968-103">Przez [Rachel Appel](https://github.com/rachelappel)</span><span class="sxs-lookup"><span data-stu-id="fe968-103">By [Rachel Appel](https://github.com/rachelappel)</span></span>

## <a name="introduction-to-model-binding"></a><span data-ttu-id="fe968-104">Wprowadzenie do modelu powiązania</span><span class="sxs-lookup"><span data-stu-id="fe968-104">Introduction to model binding</span></span>

<span data-ttu-id="fe968-105">Wiązania modelu w programie ASP.NET MVC Core mapuje dane z żądania HTTP do parametrów metody akcji.</span><span class="sxs-lookup"><span data-stu-id="fe968-105">Model binding in ASP.NET Core MVC maps data from HTTP requests to action method parameters.</span></span> <span data-ttu-id="fe968-106">Parametry mogą być typu prostego przykład ciągów, liczb całkowitych lub elementów przestawnych lub mogą być typy złożone.</span><span class="sxs-lookup"><span data-stu-id="fe968-106">The parameters may be simple types such as strings, integers, or floats, or they may be complex types.</span></span> <span data-ttu-id="fe968-107">Jest funkcją dużą MVC, ponieważ mapowanie danych przychodzących z odpowiednikiem jest często powtarzane scenariusz, niezależnie od tego, czy rozmiar lub złożoność elementu danych.</span><span class="sxs-lookup"><span data-stu-id="fe968-107">This is a great feature of MVC because mapping incoming data to a counterpart is an often repeated scenario, regardless of size or complexity of the data.</span></span> <span data-ttu-id="fe968-108">MVC rozwiązuje ten problem, optymalizacji abstrakcyjność powiązanie tak programiści nie muszą zachować ponowne zapisywanie nieco inna wersja tego samego kodu, w każdej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fe968-108">MVC solves this problem by abstracting binding away so developers don't have to keep rewriting a slightly different version of that same code in every app.</span></span> <span data-ttu-id="fe968-109">Zapisywanie tekstu do typu konwertera kodu jest niewygodny i błąd podatnych na błędy.</span><span class="sxs-lookup"><span data-stu-id="fe968-109">Writing your own text to type converter code is tedious, and error prone.</span></span>

## <a name="how-model-binding-works"></a><span data-ttu-id="fe968-110">Jak działa wiązania modelu</span><span class="sxs-lookup"><span data-stu-id="fe968-110">How model binding works</span></span>

<span data-ttu-id="fe968-111">Gdy MVC odbiera żądanie HTTP, kieruje go do metody określonej akcji kontrolera.</span><span class="sxs-lookup"><span data-stu-id="fe968-111">When MVC receives an HTTP request, it routes it to a specific action method of a controller.</span></span> <span data-ttu-id="fe968-112">Określa, która metoda akcji do uruchomienia w oparciu o nowościach w danych trasy, a następnie wiąże wartości z żądania HTTP do parametrów tej metody akcji.</span><span class="sxs-lookup"><span data-stu-id="fe968-112">It determines which action method to run based on what is in the route data, then it binds values from the HTTP request to that action method's parameters.</span></span> <span data-ttu-id="fe968-113">Rozważmy na przykład następujący adres URL:</span><span class="sxs-lookup"><span data-stu-id="fe968-113">For example, consider the following URL:</span></span>

`http://contoso.com/movies/edit/2`

<span data-ttu-id="fe968-114">Ponieważ szablon trasy wygląda tak, `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` kieruje do `Movies` kontrolera, a jego `Edit` metody akcji.</span><span class="sxs-lookup"><span data-stu-id="fe968-114">Since the route template looks like this, `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` routes to the `Movies` controller, and its `Edit` action method.</span></span> <span data-ttu-id="fe968-115">Przyjmuje opcjonalny parametr o nazwie `id`.</span><span class="sxs-lookup"><span data-stu-id="fe968-115">It also accepts an optional parameter called `id`.</span></span> <span data-ttu-id="fe968-116">Kod dla metody akcji powinna wyglądać mniej więcej tak:</span><span class="sxs-lookup"><span data-stu-id="fe968-116">The code for the action method should look something like this:</span></span>

```csharp
public IActionResult Edit(int? id)
   ```

<span data-ttu-id="fe968-117">Uwaga: Ciągów w trasy adresu URL nie jest uwzględniana.</span><span class="sxs-lookup"><span data-stu-id="fe968-117">Note: The strings in the URL route are not case sensitive.</span></span>

<span data-ttu-id="fe968-118">MVC spróbuje powiązać dane żądania z parametrami akcji według nazwy.</span><span class="sxs-lookup"><span data-stu-id="fe968-118">MVC will try to bind request data to the action parameters by name.</span></span> <span data-ttu-id="fe968-119">MVC sprawdza wartości dla każdego parametru przy użyciu nazwy parametru i nazwy jej do ustawienia właściwości publiczne.</span><span class="sxs-lookup"><span data-stu-id="fe968-119">MVC will look for values for each parameter using the parameter name and the names of its public settable properties.</span></span> <span data-ttu-id="fe968-120">W powyższym przykładzie parametr akcji tylko o nazwie `id`, który MVC wiąże wartość z tej samej nazwie w wartości trasy.</span><span class="sxs-lookup"><span data-stu-id="fe968-120">In the above example, the only action parameter is named `id`, which MVC binds to the value with the same name in the route values.</span></span> <span data-ttu-id="fe968-121">Oprócz wartości trasy MVC zostanie wiązanie danych z różnych części żądania i kopiuje je w kolejności zestawu.</span><span class="sxs-lookup"><span data-stu-id="fe968-121">In addition to route values MVC will bind data from various parts of the request and it does so in a set order.</span></span> <span data-ttu-id="fe968-122">Poniżej znajduje się lista źródeł danych w kolejności wiązania modelu przegląda je:</span><span class="sxs-lookup"><span data-stu-id="fe968-122">Below is a list of the data sources in the order that model binding looks through them:</span></span>

1. <span data-ttu-id="fe968-123">`Form values`: Są to wartości formularza, które go w programie żądań HTTP używających metody POST.</span><span class="sxs-lookup"><span data-stu-id="fe968-123">`Form values`: These are form values that go in the HTTP request using the POST method.</span></span> <span data-ttu-id="fe968-124">(włącznie z żądaniami POST jQuery).</span><span class="sxs-lookup"><span data-stu-id="fe968-124">(including jQuery POST requests).</span></span>

2. <span data-ttu-id="fe968-125">`Route values`: Zestaw wartości trasy udostępniane przez [routingu](../../fundamentals/routing.md)</span><span class="sxs-lookup"><span data-stu-id="fe968-125">`Route values`: The set of route values provided by [Routing](../../fundamentals/routing.md)</span></span>

3. <span data-ttu-id="fe968-126">`Query strings`Części ciągu zapytania identyfikatora URI.</span><span class="sxs-lookup"><span data-stu-id="fe968-126">`Query strings`: The query string part of the URI.</span></span>

<!-- DocFX BUG
The link works but generates an error when building with DocFX
@fundamentals/routing
[Routing](xref:fundamentals/routing)
-->

<span data-ttu-id="fe968-127">Uwaga: Formularza, wartości, dane trasy i zapytania się, że parametry są przechowywane jako pary nazwa wartość.</span><span class="sxs-lookup"><span data-stu-id="fe968-127">Note: Form values, route data, and query strings are all stored as name-value pairs.</span></span>

<span data-ttu-id="fe968-128">Ponieważ wiązania modelu wyświetlony monit o podanie klucz o nazwie `id` i nie ma niczego o nazwie `id` w wartości formularza on przeniesiony wartości trasy wyszukiwania dla tego klucza.</span><span class="sxs-lookup"><span data-stu-id="fe968-128">Since model binding asked for a key named `id` and there is nothing named `id` in the form values, it moved on to the route values looking for that key.</span></span> <span data-ttu-id="fe968-129">W naszym przykładzie jest dopasowanie.</span><span class="sxs-lookup"><span data-stu-id="fe968-129">In our example, it's a match.</span></span> <span data-ttu-id="fe968-130">Powiązaniem, a wartość jest konwertowana na liczbę całkowitą 2.</span><span class="sxs-lookup"><span data-stu-id="fe968-130">Binding happens, and the value is converted to the integer 2.</span></span> <span data-ttu-id="fe968-131">Tym samym żądanie za pomocą edycji (identyfikator ciągu) czy przekonwertować na ciąg "2".</span><span class="sxs-lookup"><span data-stu-id="fe968-131">The same request using Edit(string id) would convert to the string "2".</span></span>

<span data-ttu-id="fe968-132">W przykładzie użyto do tej pory typów prostych.</span><span class="sxs-lookup"><span data-stu-id="fe968-132">So far the example uses simple types.</span></span> <span data-ttu-id="fe968-133">W nazwie wzorca MVC proste typy są dowolnego typu pierwotnego .NET lub typu dla konwertera typu ciąg.</span><span class="sxs-lookup"><span data-stu-id="fe968-133">In MVC simple types are any .NET primitive type or type with a string type converter.</span></span> <span data-ttu-id="fe968-134">Jeśli parametr metody akcji takich jak zostały klasy `Movie` typu, który zawiera zarówno proste i złożone typy właściwości, nadal będą powiązanie modelu MVC jego obsługa dobrze.</span><span class="sxs-lookup"><span data-stu-id="fe968-134">If the action method's parameter were a class such as the `Movie` type, which contains both simple and complex types as properties, MVC's model binding will still handle it nicely.</span></span> <span data-ttu-id="fe968-135">Przechodzenie właściwości typów złożonych wyszukiwanie dopasowań używa odbicia i rekursji.</span><span class="sxs-lookup"><span data-stu-id="fe968-135">It uses reflection and recursion to traverse the properties of complex types looking for matches.</span></span> <span data-ttu-id="fe968-136">Wiązanie modelu szuka wzorzec *parameter_name.property_name* powiązać wartości właściwości.</span><span class="sxs-lookup"><span data-stu-id="fe968-136">Model binding looks for the pattern *parameter_name.property_name* to bind values to properties.</span></span> <span data-ttu-id="fe968-137">Jeśli nie znajdzie pasujących wartości formularza, podejmie można powiązać, przy użyciu po prostu nazwę właściwości.</span><span class="sxs-lookup"><span data-stu-id="fe968-137">If it doesn't find matching values of this form, it will attempt to bind using just the property name.</span></span> <span data-ttu-id="fe968-138">Dla tych typów, takie jak `Collection` typów wiązania modelu szuka dopasowań, który ma *nazwa_parametru [Indeks]* lub po prostu *[Indeks]*.</span><span class="sxs-lookup"><span data-stu-id="fe968-138">For those types such as `Collection` types, model binding looks for matches to *parameter_name[index]* or just *[index]*.</span></span> <span data-ttu-id="fe968-139">Traktuje powiązanie modelu `Dictionary` podobnie typy pytania o *nazwa_parametru [klucz]* lub po prostu *[klucz]*, tak długo, jak klucze są typów prostych.</span><span class="sxs-lookup"><span data-stu-id="fe968-139">Model binding treats  `Dictionary` types similarly, asking for *parameter_name[key]* or just *[key]*, as long as the keys are simple types.</span></span> <span data-ttu-id="fe968-140">Klucze, które są obsługiwane zgodne, nazwy pola HTML i pomocników tagów wygenerowany dla tego samego typu modelu.</span><span class="sxs-lookup"><span data-stu-id="fe968-140">Keys that are supported match the field names HTML and tag helpers generated for the same model type.</span></span> <span data-ttu-id="fe968-141">Dzięki temu wartości dwustronną komunikację tak, aby pola formularza pozostają wypełniony przy użyciu danych wejściowych użytkownika udogodnienie, na przykład, gdy dane powiązane z Tworzenie lub edytowanie nie przeszedł sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="fe968-141">This enables round-tripping values so that the form fields remain filled with the user's input for their convenience, for example, when bound data from a create or edit did not pass validation.</span></span>

<span data-ttu-id="fe968-142">Aby powiązanie nastąpić klasy musi mieć publicznego konstruktora domyślnego i element członkowski może być powiązane musi być zapisywalny właściwości publiczne.</span><span class="sxs-lookup"><span data-stu-id="fe968-142">In order for binding to happen the class must have a public default constructor and member to be bound must be public writable properties.</span></span> <span data-ttu-id="fe968-143">W przypadku wiązania modelu się, że klasa będzie można wdrożyć tylko, przy użyciu domyślnego publicznego konstruktora właściwości można ustawić.</span><span class="sxs-lookup"><span data-stu-id="fe968-143">When model binding happens the class will only be instantiated using the public default constructor, then the properties can be set.</span></span>

<span data-ttu-id="fe968-144">Wiązania parametru wiązania modelu zatrzyma się wyszukiwanie wartości o takiej nazwie i powoduje przeniesienie powiązać parametr dalej.</span><span class="sxs-lookup"><span data-stu-id="fe968-144">When a parameter is bound, model binding stops looking for values with that name and it moves on to bind the next parameter.</span></span> <span data-ttu-id="fe968-145">W przeciwnym razie domyślne zachowanie wiązania modelu ustawia parametry z wartościami domyślnymi, w zależności od ich typu:</span><span class="sxs-lookup"><span data-stu-id="fe968-145">Otherwise, the default model binding behavior sets parameters to their default values depending on their type:</span></span>

* <span data-ttu-id="fe968-146">`T[]`: Z wyjątkiem produktów tablic typu `byte[]`, powiązanie ustawia parametry typu `T[]` do `Array.Empty<T>()`.</span><span class="sxs-lookup"><span data-stu-id="fe968-146">`T[]`: With the exception of arrays of type `byte[]`, binding sets parameters of type `T[]` to `Array.Empty<T>()`.</span></span> <span data-ttu-id="fe968-147">Tablice typu `byte[]` są ustawione na `null`.</span><span class="sxs-lookup"><span data-stu-id="fe968-147">Arrays of type `byte[]` are set to `null`.</span></span>

* <span data-ttu-id="fe968-148">Typy odwołań: Powiązanie tworzy wystąpienie klasy przy użyciu domyślnego konstruktora bez ustawienia właściwości.</span><span class="sxs-lookup"><span data-stu-id="fe968-148">Reference Types: Binding creates an instance of a class with the default constructor without setting properties.</span></span> <span data-ttu-id="fe968-149">Jednak model ustawia powiązanie `string` parametry `null`.</span><span class="sxs-lookup"><span data-stu-id="fe968-149">However, model binding sets `string` parameters to `null`.</span></span>

* <span data-ttu-id="fe968-150">Typy dopuszczające wartości zerowe: Typy dopuszczające wartości null są ustawione na `null`.</span><span class="sxs-lookup"><span data-stu-id="fe968-150">Nullable Types: Nullable types are set to `null`.</span></span> <span data-ttu-id="fe968-151">W powyższym przykładzie modelu powiązania zestawów `id` do `null` , ponieważ jest on typu `int?`.</span><span class="sxs-lookup"><span data-stu-id="fe968-151">In the above example, model binding sets `id` to `null` since it is of type `int?`.</span></span>

* <span data-ttu-id="fe968-152">Typy wartości: Wartości null typów wartości typu `T` są ustawione na `default(T)`.</span><span class="sxs-lookup"><span data-stu-id="fe968-152">Value Types: Non-nullable value types of type `T` are set to `default(T)`.</span></span> <span data-ttu-id="fe968-153">Na przykład powiązanie modelu spowoduje ustawienie parametru `int id` na 0.</span><span class="sxs-lookup"><span data-stu-id="fe968-153">For example, model binding will set a parameter `int id` to 0.</span></span> <span data-ttu-id="fe968-154">Należy wziąć pod uwagę przy użyciu weryfikacji modelu lub typ zerowalny zamiast polegania na wartości domyślne.</span><span class="sxs-lookup"><span data-stu-id="fe968-154">Consider using model validation or nullable types rather than relying on default values.</span></span>

<span data-ttu-id="fe968-155">Powiązanie kończy się niepowodzeniem, MVC nie zgłasza błąd.</span><span class="sxs-lookup"><span data-stu-id="fe968-155">If binding fails, MVC does not throw an error.</span></span> <span data-ttu-id="fe968-156">Należy sprawdzić wszystkie akcje, które akceptuje dane wejściowe użytkownika `ModelState.IsValid` właściwości.</span><span class="sxs-lookup"><span data-stu-id="fe968-156">Every action which accepts user input should check the `ModelState.IsValid` property.</span></span>

<span data-ttu-id="fe968-157">Uwaga: Każdy wpis na kontrolerze `ModelState` właściwość jest `ModelStateEntry` zawierający `Errors` właściwości.</span><span class="sxs-lookup"><span data-stu-id="fe968-157">Note: Each entry in the controller's `ModelState` property is a `ModelStateEntry` containing an `Errors` property.</span></span> <span data-ttu-id="fe968-158">Rzadko należy samodzielnie zapytania tej kolekcji.</span><span class="sxs-lookup"><span data-stu-id="fe968-158">It's rarely necessary to query this collection yourself.</span></span> <span data-ttu-id="fe968-159">Zamiast nich należy używać słów kluczowych `ModelState.IsValid`.</span><span class="sxs-lookup"><span data-stu-id="fe968-159">Use `ModelState.IsValid` instead.</span></span>

<span data-ttu-id="fe968-160">Istnieją ponadto niektóre typy specjalne danych, które MVC należy wziąć pod uwagę podczas tworzenia powiązania modelu:</span><span class="sxs-lookup"><span data-stu-id="fe968-160">Additionally, there are some special data types that MVC must consider when performing model binding:</span></span>

* <span data-ttu-id="fe968-161">`IFormFile`, `IEnumerable<IFormFile>`: Jeden lub więcej plików przekazanego, które są częścią żądania HTTP.</span><span class="sxs-lookup"><span data-stu-id="fe968-161">`IFormFile`, `IEnumerable<IFormFile>`: One or more uploaded files that are part of the HTTP request.</span></span>

* <span data-ttu-id="fe968-162">`CancellationToken`: Używany do anulowania działania w asynchronicznej kontrolerów.</span><span class="sxs-lookup"><span data-stu-id="fe968-162">`CancellationToken`: Used to cancel activity in asynchronous controllers.</span></span>

<span data-ttu-id="fe968-163">Te typy może być powiązana do parametrów akcji lub właściwości w typie klasy.</span><span class="sxs-lookup"><span data-stu-id="fe968-163">These types can be bound to action parameters or to properties on a class type.</span></span>

<span data-ttu-id="fe968-164">Po zakończeniu wiązania modelu [weryfikacji](validation.md) występuje.</span><span class="sxs-lookup"><span data-stu-id="fe968-164">Once model binding is complete, [Validation](validation.md) occurs.</span></span> <span data-ttu-id="fe968-165">Świetnie dla większość scenariuszy programowania sprawdza się w domyślnej wiązania modelu.</span><span class="sxs-lookup"><span data-stu-id="fe968-165">Default model binding works great for the vast majority of development scenarios.</span></span> <span data-ttu-id="fe968-166">Jest również rozszerzonego, więc mają unikatowe potrzeby można dostosować zachowanie wbudowanych.</span><span class="sxs-lookup"><span data-stu-id="fe968-166">It is also extensible so if you have unique needs you can customize the built-in behavior.</span></span>

## <a name="customize-model-binding-behavior-with-attributes"></a><span data-ttu-id="fe968-167">Dostosowywać zachowanie wiązania modelu z atrybutami</span><span class="sxs-lookup"><span data-stu-id="fe968-167">Customize model binding behavior with attributes</span></span>

<span data-ttu-id="fe968-168">MVC zawiera kilka atrybutów, które umożliwia bezpośrednie jego domyślne zachowanie wiązania modelu z innym źródłem.</span><span class="sxs-lookup"><span data-stu-id="fe968-168">MVC contains several attributes that you can use to direct its default model binding behavior to a different source.</span></span> <span data-ttu-id="fe968-169">Na przykład można określić, czy powiązanie jest wymagany dla właściwości Jeśli go powinno nigdy się wydarzyć w ogóle przy użyciu `[BindRequired]` lub `[BindNever]` atrybutów.</span><span class="sxs-lookup"><span data-stu-id="fe968-169">For example, you can specify whether binding is required for a property, or if it should never happen at all by using the `[BindRequired]` or `[BindNever]` attributes.</span></span> <span data-ttu-id="fe968-170">Alternatywnie można zastąpić domyślne źródło danych i określ źródło danych integratora modelu.</span><span class="sxs-lookup"><span data-stu-id="fe968-170">Alternatively, you can override the default data source, and specify the model binder's data source.</span></span> <span data-ttu-id="fe968-171">Poniżej przedstawiono listę atrybutów powiązanie modelu:</span><span class="sxs-lookup"><span data-stu-id="fe968-171">Below is a list of model binding attributes:</span></span>

* <span data-ttu-id="fe968-172">`[BindRequired]`: Ten atrybut dodaje błąd stanu modelu, jeśli nie można powiązać.</span><span class="sxs-lookup"><span data-stu-id="fe968-172">`[BindRequired]`: This attribute adds a model state error if binding cannot occur.</span></span>

* <span data-ttu-id="fe968-173">`[BindNever]`: Określa, że nigdy nie powiązać ten parametr integratora modelu.</span><span class="sxs-lookup"><span data-stu-id="fe968-173">`[BindNever]`: Tells the model binder to never bind to this parameter.</span></span>

* <span data-ttu-id="fe968-174">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Ich używać do określ źródło powiązania dokładne chcesz zastosować.</span><span class="sxs-lookup"><span data-stu-id="fe968-174">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Use these to specify the exact binding source you want to apply.</span></span>

* <span data-ttu-id="fe968-175">`[FromServices]`: Ten atrybut używa [iniekcji zależności](../../fundamentals/dependency-injection.md) by powiązać parametry z usług.</span><span class="sxs-lookup"><span data-stu-id="fe968-175">`[FromServices]`: This attribute uses [dependency injection](../../fundamentals/dependency-injection.md) to bind parameters from services.</span></span>

* <span data-ttu-id="fe968-176">`[FromBody]`: Użyj skonfigurowanych elementy formatujące wiązanie danych z treści żądania.</span><span class="sxs-lookup"><span data-stu-id="fe968-176">`[FromBody]`: Use the configured formatters to bind data from the request body.</span></span> <span data-ttu-id="fe968-177">Program formatujący jest zaznaczone, na podstawie typu zawartości żądania.</span><span class="sxs-lookup"><span data-stu-id="fe968-177">The formatter is selected based on content type of the request.</span></span>

* <span data-ttu-id="fe968-178">`[ModelBinder]`: Służy do zastępowania domyślnego integratora modelu, źródle powiązania i nazwę.</span><span class="sxs-lookup"><span data-stu-id="fe968-178">`[ModelBinder]`: Used to override the default model binder, binding source and name.</span></span>

<span data-ttu-id="fe968-179">Atrybuty są bardzo przydatne narzędzia, gdy chcesz zastąpić domyślne zachowanie wiązania modelu.</span><span class="sxs-lookup"><span data-stu-id="fe968-179">Attributes are very helpful tools when you need to override the default behavior of model binding.</span></span>

## <a name="binding-formatted-data-from-the-request-body"></a><span data-ttu-id="fe968-180">Powiązanie sformatowanych danych z treści żądania</span><span class="sxs-lookup"><span data-stu-id="fe968-180">Binding formatted data from the request body</span></span>

<span data-ttu-id="fe968-181">Dane żądania są dostępne w różnych formatach, w tym JSON, XML i wiele innych.</span><span class="sxs-lookup"><span data-stu-id="fe968-181">Request data can come in a variety of formats including JSON, XML and many others.</span></span> <span data-ttu-id="fe968-182">Użycie atrybutu [FromBody] Aby wskazać, że chcesz powiązać parametr z danymi w treści żądania, MVC używa skonfigurowany zestaw programów formatujących do obsługi danych żądania na podstawie jego typu zawartości.</span><span class="sxs-lookup"><span data-stu-id="fe968-182">When you use the [FromBody] attribute to indicate that you want to bind a parameter to data in the request body, MVC uses a configured set of formatters to handle the request data based on its content type.</span></span> <span data-ttu-id="fe968-183">Domyślnie platforma MVC zawiera `JsonInputFormatter` klasy do obsługi danych JSON, ale można dodać dodatkowe elementy formatujące obsługi XML i inne niestandardowe formaty.</span><span class="sxs-lookup"><span data-stu-id="fe968-183">By default MVC includes a `JsonInputFormatter` class for handling JSON data, but you can add additional formatters for handling XML and other custom formats.</span></span>

> [!NOTE]
> <span data-ttu-id="fe968-184">Może istnieć co najwyżej jeden parametr w każdej akcji ozdobione `[FromBody]`.</span><span class="sxs-lookup"><span data-stu-id="fe968-184">There can be at most one parameter per action decorated with `[FromBody]`.</span></span> <span data-ttu-id="fe968-185">Środowiska wykonawczego platformy ASP.NET Core MVC deleguje odpowiedzialność odczytywania strumienia żądania do elementu formatującego.</span><span class="sxs-lookup"><span data-stu-id="fe968-185">The ASP.NET Core MVC run-time delegates the responsibility of reading the request stream to the formatter.</span></span> <span data-ttu-id="fe968-186">Gdy dla parametru jest odczytać strumienia żądania, zwykle nie jest możliwe można odczytać strumienia żądania ponownie przez inne powiązanie `[FromBody]` parametrów.</span><span class="sxs-lookup"><span data-stu-id="fe968-186">Once the request stream is read for a parameter, it's generally not possible to read the request stream again for binding other `[FromBody]` parameters.</span></span>

> [!NOTE]
> <span data-ttu-id="fe968-187">`JsonInputFormatter` Jest domyślny element formatujący i jest oparty na [Json.NET](https://www.newtonsoft.com/json).</span><span class="sxs-lookup"><span data-stu-id="fe968-187">The `JsonInputFormatter` is the default formatter and is based on [Json.NET](https://www.newtonsoft.com/json).</span></span>

<span data-ttu-id="fe968-188">ASP.NET zaznacza programy formatujące wejściowych, na podstawie [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) nagłówka i typ parametru, chyba że jest atrybutem stosowanym do go przez określenie, w przeciwnym razie wartość.</span><span class="sxs-lookup"><span data-stu-id="fe968-188">ASP.NET selects input formatters based on the [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) header and the type of the parameter, unless there is an attribute applied to it specifying otherwise.</span></span> <span data-ttu-id="fe968-189">Jeśli chcesz użyć XML lub innego formatu należy skonfigurować je w *Startup.cs* pliku, ale najpierw trzeba uzyskać odwołania do `Microsoft.AspNetCore.Mvc.Formatters.Xml` przy użyciu narzędzia NuGet.</span><span class="sxs-lookup"><span data-stu-id="fe968-189">If you'd like to use XML or another format you must configure it in the *Startup.cs* file, but you may first have to obtain a reference to `Microsoft.AspNetCore.Mvc.Formatters.Xml` using NuGet.</span></span> <span data-ttu-id="fe968-190">Kod uruchomienia powinien wyglądać mniej więcej tak:</span><span class="sxs-lookup"><span data-stu-id="fe968-190">Your startup code should look something like this:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddXmlSerializerFormatters();
   }
```

<span data-ttu-id="fe968-191">Kod w *Startup.cs* plik zawiera `ConfigureServices` metody z `services` argumentu można użyć do tworzenia usług dla aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="fe968-191">Code in the *Startup.cs* file contains a `ConfigureServices` method with a `services` argument you can use to build up services for your ASP.NET app.</span></span> <span data-ttu-id="fe968-192">W przykładzie dodajemy formatujący XML jako usługa, która określi MVC dla tej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fe968-192">In the sample, we are adding an XML formatter as a service that MVC will provide for this app.</span></span> <span data-ttu-id="fe968-193">`options` Argument przekazany do `AddMvc` metoda pozwala na dodawanie i zarządzanie filtrów, elementy formatujące i inne opcje systemu z MVC podczas uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fe968-193">The `options` argument passed into the `AddMvc` method allows you to add and manage filters, formatters, and other system options from MVC upon app startup.</span></span> <span data-ttu-id="fe968-194">Następnie Zastosuj `Consumes` do klasy kontrolera lub metody akcji do pracy z formatem ma atrybut.</span><span class="sxs-lookup"><span data-stu-id="fe968-194">Then apply the `Consumes` attribute to controller classes or action methods to work with the format you want.</span></span>

### <a name="custom-model-binding"></a><span data-ttu-id="fe968-195">Wiązania niestandardowe modelu</span><span class="sxs-lookup"><span data-stu-id="fe968-195">Custom Model Binding</span></span>

<span data-ttu-id="fe968-196">Pisanie własnych integratorów modeli niestandardowych można rozszerzyć wiązania modelu.</span><span class="sxs-lookup"><span data-stu-id="fe968-196">You can extend model binding by writing your own custom model binders.</span></span> <span data-ttu-id="fe968-197">Dowiedz się więcej o [wiązania niestandardowego modelu](../advanced/custom-model-binding.md).</span><span class="sxs-lookup"><span data-stu-id="fe968-197">Learn more about [custom model binding](../advanced/custom-model-binding.md).</span></span>
