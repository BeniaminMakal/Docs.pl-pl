---
uid: mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part6
title: Dodawanie metody i tworzenie widoku | Dokumentacja firmy Microsoft
author: shanselman
description: "Jest to samouczek początkujących przedstawiający podstawowe informacje o platformie ASP.NET MVC. Utworzysz prostą aplikację sieci web odczytuje i zapisuje z bazy danych."
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/14/2010
ms.topic: article
ms.assetid: a3a90963-0286-4fa0-9b3d-c230cc18b0a3
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part6
msc.type: authoredcontent
ms.openlocfilehash: 4792689087ab85be25fe186b2ec97915af448ef9
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/10/2017
---
<a name="adding-a-create-method-and-create-view"></a><span data-ttu-id="bebaa-104">Dodawanie metody i tworzenie widoku</span><span class="sxs-lookup"><span data-stu-id="bebaa-104">Adding a Create Method and Create View</span></span>
====================
<span data-ttu-id="bebaa-105">przez [Scott Hanselman](https://github.com/shanselman)</span><span class="sxs-lookup"><span data-stu-id="bebaa-105">by [Scott Hanselman](https://github.com/shanselman)</span></span>

> <span data-ttu-id="bebaa-106">Jest to samouczek początkujących przedstawiający podstawowe informacje o platformie ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="bebaa-106">This is a beginner tutorial that introduces the basics of ASP.NET MVC.</span></span> <span data-ttu-id="bebaa-107">Utworzysz prostą aplikację sieci web odczytuje i zapisuje z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="bebaa-107">You'll create a simple web application that reads and writes from a database.</span></span> <span data-ttu-id="bebaa-108">Odwiedź stronę [Centrum szkoleniowe programu ASP.NET MVC](../../../index.md) można znaleźć inne platformy ASP.NET MVC, samouczki i przykłady.</span><span class="sxs-lookup"><span data-stu-id="bebaa-108">Visit the [ASP.NET MVC learning center](../../../index.md) to find other ASP.NET MVC tutorials and samples.</span></span>


<span data-ttu-id="bebaa-109">W tej sekcji zamierzamy Obsługa niezbędne umożliwić użytkownikom tworzenie nowości w naszej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="bebaa-109">In this section we are going to implement the support necessary to enable users to create new movies in our database.</span></span> <span data-ttu-id="bebaa-110">Firma Microsoft będzie w tym celu wykonania akcji filmów/Utwórz adres URL.</span><span class="sxs-lookup"><span data-stu-id="bebaa-110">We'll do this by implementing the /Movies/Create URL action.</span></span>

<span data-ttu-id="bebaa-111">Implementowanie filmów/Utwórz adres URL jest procesem dwóch kroku.</span><span class="sxs-lookup"><span data-stu-id="bebaa-111">Implementing the /Movies/Create URL is a two step process.</span></span> <span data-ttu-id="bebaa-112">Gdy użytkownik odwiedza najpierw filmów/Utwórz adres URL chcemy ich wyświetlania formularza HTML, który można wypełnić wprowadzenia nowych filmu.</span><span class="sxs-lookup"><span data-stu-id="bebaa-112">When a user first visits the /Movies/Create URL we want to show them an HTML form that they can fill out to enter a new movie.</span></span> <span data-ttu-id="bebaa-113">Następnie gdy użytkownik przesyła formularz i wpisów, które dane z powrotem do serwera, chcemy się pobrać oczekujących na opublikowanie zawartość i zapisz go w naszej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="bebaa-113">Then, when the user submits the form and posts the data back to the server, we want to retrieve the posted contents and save it into our database.</span></span>

<span data-ttu-id="bebaa-114">W naszym klasy MoviesController będzie wprowadzania tych dwóch kroków w ramach dwóch metod Create().</span><span class="sxs-lookup"><span data-stu-id="bebaa-114">We'll implement these two steps within two Create() methods within our MoviesController class.</span></span> <span data-ttu-id="bebaa-115">Przedstawia jedną metodę &lt;formularza&gt; czy użytkownik powinien wypełnić do utworzenia nowego filmu.</span><span class="sxs-lookup"><span data-stu-id="bebaa-115">One method will show the &lt;form&gt; that the user should fill out to create a new movie.</span></span> <span data-ttu-id="bebaa-116">Druga metoda obsługi przetwarzania przesłane dane, gdy użytkownik przesyła &lt;formularza&gt; z powrotem do serwera, a następnie zapisz nowy filmu w naszej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="bebaa-116">The second method will handle processing the posted data when the user submits the &lt;form&gt; back to the server, and save a new Movie within our database.</span></span>

<span data-ttu-id="bebaa-117">Poniżej znajduje się kod zostanie dodany do naszej klasy MoviesController implementacji:</span><span class="sxs-lookup"><span data-stu-id="bebaa-117">Below is the code we'll add to our MoviesController class to implement this:</span></span>

[!code-csharp[Main](getting-started-with-mvc-part6/samples/sample1.cs)]

<span data-ttu-id="bebaa-118">Powyższy kod zawiera wszystkie kodu, który będą potrzebne w ramach kontrolera.</span><span class="sxs-lookup"><span data-stu-id="bebaa-118">The above code contains all of the code that we'll need within our Controller.</span></span>

<span data-ttu-id="bebaa-119">Umożliwia teraz wdrożyć szablon tworzenia widoku, który zostanie użyta do wyświetlania formularza do użytkownika.</span><span class="sxs-lookup"><span data-stu-id="bebaa-119">Let's now implement the Create View template that we'll use to display a form to the user.</span></span> <span data-ttu-id="bebaa-120">Firma Microsoft będzie pierwszy metody Create kliknij prawym przyciskiem myszy i wybierz "Dodaj widok", aby utworzyć szablon widoku dla naszego formularza filmu.</span><span class="sxs-lookup"><span data-stu-id="bebaa-120">We'll right click in the first Create method and select "Add View" to create the view template for our Movie form.</span></span>

<span data-ttu-id="bebaa-121">Wybierzemy możemy są, przechodząc do przekazania Wyświetl szablon "Filmu" jak jego Klasa danych widoku, które wskazują, że chcemy "utworzyć szkielet" szablon "Utwórz".</span><span class="sxs-lookup"><span data-stu-id="bebaa-121">We'll select that we are going to pass the view template a "Movie" as its view data class, and indicate that we want to "scaffold" a "Create" template.</span></span>

<span data-ttu-id="bebaa-122">[![Dodaj widok](getting-started-with-mvc-part6/_static/image2.png)](getting-started-with-mvc-part6/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="bebaa-122">[![Add View](getting-started-with-mvc-part6/_static/image2.png)](getting-started-with-mvc-part6/_static/image1.png)</span></span>

<span data-ttu-id="bebaa-123">Po kliknięciu przycisku Dodaj \Movies\Create.aspx wyświetlanie szablonu zostaną utworzone automatycznie.</span><span class="sxs-lookup"><span data-stu-id="bebaa-123">After you click the Add button, \Movies\Create.aspx View template will be created for you.</span></span> <span data-ttu-id="bebaa-124">Ponieważ wybrano "Utwórz" z listy rozwijanej "Wyświetl zawartość", okno dialogowe dodawania widoku automatycznie "szkieletu" zawartość domyślne firmie Microsoft.</span><span class="sxs-lookup"><span data-stu-id="bebaa-124">Because we selected "Create" from the "view content" dropdown, the Add View dialog automatically "scaffolded" some default content for us.</span></span> <span data-ttu-id="bebaa-125">Rusztowania utworzone HTML &lt;formularza&gt;, miejsce na błąd sprawdzania poprawności komunikaty Przejdź, i ponieważ szkieletów obsługującemu filmów, dla każdej właściwości klasy Nasze utworzony etykiety i pola.</span><span class="sxs-lookup"><span data-stu-id="bebaa-125">The scaffolding created an HTML &lt;form&gt;, a place for validation error messages to go, and since scaffolding knows about Movies, it created Label and Fields for each property of our class.</span></span>

[!code-aspx[Main](getting-started-with-mvc-part6/samples/sample2.aspx)]

<span data-ttu-id="bebaa-126">Ponieważ naszej bazie danych jest automatycznie daje filmu Identyfikatora, umożliwia usunięcie tego modelu referencyjnego. Identyfikator z naszych tworzenia widoku.</span><span class="sxs-lookup"><span data-stu-id="bebaa-126">Since our database automatically gives a Movie an ID, let's remove those fields that reference model.Id from our Create View.</span></span> <span data-ttu-id="bebaa-127">Usuń 7 wierszy po &lt;legendy&gt;pola&lt;/legend&gt; zgodnie z ich pokazać w polu Identyfikatora firma Microsoft nie ma.</span><span class="sxs-lookup"><span data-stu-id="bebaa-127">Remove the 7 lines after &lt;legend&gt;Fields&lt;/legend&gt; as they show the ID field that we don't want.</span></span>

<span data-ttu-id="bebaa-128">Umożliwia teraz tworzenie nowych filmu i dodaj go do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="bebaa-128">Let's now create a new movie and add it to the database.</span></span> <span data-ttu-id="bebaa-129">Firma Microsoft będzie to zrobić, uruchamiając ponownie aplikację i odwiedź "/ filmy" adres URL i kliknij przycisk "Utwórz" łącze do dodawania nowych filmu.</span><span class="sxs-lookup"><span data-stu-id="bebaa-129">We'll do this by running the application again and visit the "/Movies" URL and click the "Create" link to add a new Movie.</span></span>

<span data-ttu-id="bebaa-130">[![Tworzenie - Windows Internet Explorer](getting-started-with-mvc-part6/_static/image4.png)](getting-started-with-mvc-part6/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="bebaa-130">[![Create - Windows Internet Explorer](getting-started-with-mvc-part6/_static/image4.png)](getting-started-with-mvc-part6/_static/image3.png)</span></span>

<span data-ttu-id="bebaa-131">Kliknięcie przycisku Utwórz, firma Microsoft będzie można zamieszczając Wstecz (za pośrednictwem protokołu HTTP POST) danych w tym formularzu do metody /Movies/Create, którą właśnie utworzyliśmy.</span><span class="sxs-lookup"><span data-stu-id="bebaa-131">When we click the Create button, we'll be posting back (via HTTP POST) the data on this form to the /Movies/Create method that we just created.</span></span> <span data-ttu-id="bebaa-132">Podobnie jak podczas system automatycznie trwało parametru "numTimes" i "name" poza adres URL i mechanizmowi parametry dla metody wcześniej system automatycznie pobrać pola formularza z ogłoszenie (POST) i mapować je do obiektu.</span><span class="sxs-lookup"><span data-stu-id="bebaa-132">Just like when the system automatically took the "numTimes" and "name " parameter out of the URL and mapped them to parameters on a method earlier, the system will automatically take the Form Fields from a POST and map them to an object.</span></span> <span data-ttu-id="bebaa-133">W tym przypadku wartości pól w formacie HTML, takie jak "ReleaseDate" i "Title", zostaną automatycznie wprowadzone w prawidłowe właściwości nowe wystąpienie klasy filmu.</span><span class="sxs-lookup"><span data-stu-id="bebaa-133">In this case, values from fields in HTML like "ReleaseDate" and "Title" will automatically be put into the correct properties of a new instance of a Movie.</span></span>

<span data-ttu-id="bebaa-134">Przyjrzyjmy się drugi metody Create z naszych MoviesController ponownie.</span><span class="sxs-lookup"><span data-stu-id="bebaa-134">Let's look at the second Create method from our MoviesController again.</span></span> <span data-ttu-id="bebaa-135">Zwróć uwagę, jak zajmuje obiektu "Filmu" jako argumentu:</span><span class="sxs-lookup"><span data-stu-id="bebaa-135">Notice how it takes a "Movie" object as an argument:</span></span>

[!code-csharp[Main](getting-started-with-mvc-part6/samples/sample3.cs)]

<span data-ttu-id="bebaa-136">Ten obiekt filmu następnie został przekazany do wersji [HttpPost] naszych Utwórz metody akcji i firma Microsoft zapisany w bazie danych, a następnie przekierowany użytkownika z powrotem do metody akcji indeks(), który będzie widoczny zapisane wyniki w listy filmów:</span><span class="sxs-lookup"><span data-stu-id="bebaa-136">This Movie object was then passed to the [HttpPost] version of our Create action method, and we saved it in the database and then redirected the user back to the Index() action method which will show the saved result in the movie list:</span></span>

<span data-ttu-id="bebaa-137">[![Listy filmów - Windows Internet Explorer](getting-started-with-mvc-part6/_static/image6.png)](getting-started-with-mvc-part6/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="bebaa-137">[![Movie List - Windows Internet Explorer](getting-started-with-mvc-part6/_static/image6.png)](getting-started-with-mvc-part6/_static/image5.png)</span></span>

<span data-ttu-id="bebaa-138">Firma Microsoft nie są sprawdzania, jeśli naszych filmów są poprawne, ale i bazy danych nie zezwalają na Zapisz film z bez tytułu.</span><span class="sxs-lookup"><span data-stu-id="bebaa-138">We aren't checking if our movies are correct, though, and the database won't allow us to save a movie with no Title.</span></span> <span data-ttu-id="bebaa-139">Byłoby nieuprzywilejowany możemy podać użytkownik, który wygenerował błąd przed bazy danych.</span><span class="sxs-lookup"><span data-stu-id="bebaa-139">It'd be nice if we could tell the user that before the database threw an error.</span></span> <span data-ttu-id="bebaa-140">Firma Microsoft zrobić dalej to przez dodanie obsługi sprawdzania poprawności do naszej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="bebaa-140">We'll do this next by adding validation support to our application.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="bebaa-141">[Poprzednie](getting-started-with-mvc-part5.md)
[dalej](getting-started-with-mvc-part7.md)</span><span class="sxs-lookup"><span data-stu-id="bebaa-141">[Previous](getting-started-with-mvc-part5.md)
[Next](getting-started-with-mvc-part7.md)</span></span>
