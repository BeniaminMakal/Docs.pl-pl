---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
title: "Zagnieżdżone danych sieci Web kontrolki (C#) | Dokumentacja firmy Microsoft"
author: rick-anderson
description: "W tym samouczku przeanalizujemy sposób użycia elementu powtarzanego zagnieżdżone wewnątrz innego elementu powtarzanego. Przykłady przedstawiają jak wypełnić wewnętrzny elementu powtarzanego zarówno d..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/13/2006
ms.topic: article
ms.assetid: ad3cb0ec-26cf-42d7-b81b-184a34ec9f86
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: 69fa0489ff8baed1423d29ee7bfaa3157d35a76b
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/10/2017
---
<a name="nested-data-web-controls-c"></a><span data-ttu-id="10e0f-104">Zagnieżdżone dane formantów sieci Web (C#)</span><span class="sxs-lookup"><span data-stu-id="10e0f-104">Nested Data Web Controls (C#)</span></span>
====================
<span data-ttu-id="10e0f-105">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="10e0f-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="10e0f-106">[Pobierz przykładową aplikację](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) lub [pobierania plików PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="10e0f-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) or [Download PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span></span>

> <span data-ttu-id="10e0f-107">W tym samouczku przeanalizujemy sposób użycia elementu powtarzanego zagnieżdżone wewnątrz innego elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="10e0f-107">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="10e0f-108">Przykłady przedstawiają sposób wypełnienia wewnętrzny elementu powtarzanego deklaratywnie i programowo.</span><span class="sxs-lookup"><span data-stu-id="10e0f-108">The examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>


## <a name="introduction"></a><span data-ttu-id="10e0f-109">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="10e0f-109">Introduction</span></span>

<span data-ttu-id="10e0f-110">Oprócz Statycznych i składnia wiązania z danymi szablony mogą również obejmować formanty sieci Web i użytkownika.</span><span class="sxs-lookup"><span data-stu-id="10e0f-110">In addition to static HTML and databinding syntax, templates can also include Web controls and User Controls.</span></span> <span data-ttu-id="10e0f-111">Te kontrolki sieci Web może mieć właściwości przypisane za pomocą składni deklaratywnej, wiązania z danymi, lub można uzyskać programistycznie w obsłudze odpowiednie zdarzenia po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="10e0f-111">These Web controls can have their properties assigned via declarative, databinding syntax, or can be accessed programmatically in the appropriate server-side event handlers.</span></span>

<span data-ttu-id="10e0f-112">Osadzanie formantów w ramach szablonu, można dostosować i ulepszania wygląd i środowisko użytkownika.</span><span class="sxs-lookup"><span data-stu-id="10e0f-112">By embedding controls within a template, the appearance and user experience can be customized and improved upon.</span></span> <span data-ttu-id="10e0f-113">Na przykład w [przy użyciu TemplateFields w kontrolce GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) samouczka widzieliśmy sposób dostosowywania widoku GridView wyświetlania s dodając kontrolkę kalendarza w TemplateField pokazanie pracownika Data zatrudnienia s; w [Dodawanie Formanty walidacji do edycji i wstawianie interfejsy](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) i [Dostosowywanie interfejs modyfikacji danych](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) samouczki, widzieliśmy sposobu dostosowywania edycji i wstawianie interfejsy przez dodawanie walidacji Formanty pól tekstowych, DropDownLists i innych formantów sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10e0f-113">For example, in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial, we saw how to customize the GridView s display by adding a Calendar control in a TemplateField to show an employee s hire date; in the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) and [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) tutorials, we saw how to customize the editing and inserting interfaces by adding validation controls, TextBoxes, DropDownLists, and other Web controls.</span></span>

<span data-ttu-id="10e0f-114">Szablony może także zawierać dane, inne formanty sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10e0f-114">Templates can also contain other data Web controls.</span></span> <span data-ttu-id="10e0f-115">Oznacza to, że firma Microsoft może mieć DataList, zawierający innego DataList (lub elementu powtarzanego lub widoku GridView lub widoku DetailsView i tak dalej) w swoich szablonach.</span><span class="sxs-lookup"><span data-stu-id="10e0f-115">That is, we can have a DataList that contains another DataList (or Repeater or GridView or DetailsView, and so on) within its templates.</span></span> <span data-ttu-id="10e0f-116">Wyzwanie z takiego interfejsu jest powiązanie odpowiednie dane wewnętrzne danych formantu sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10e0f-116">The challenge with such an interface is binding the appropriate data to the inner data Web control.</span></span> <span data-ttu-id="10e0f-117">Brak dostępnych kilka różnych metod, począwszy od deklaratywne opcje za pomocą elementu ObjectDataSource do programowego protokołów.</span><span class="sxs-lookup"><span data-stu-id="10e0f-117">There are a few different approaches available, ranging from declarative options using the ObjectDataSource to programmatic ones.</span></span>

<span data-ttu-id="10e0f-118">W tym samouczku przeanalizujemy sposób użycia elementu powtarzanego zagnieżdżone wewnątrz innego elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="10e0f-118">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="10e0f-119">Zewnętrzne powtarzanego zawiera element dla każdej kategorii w bazie danych, wyświetlanie kategorii s nazwę i opis.</span><span class="sxs-lookup"><span data-stu-id="10e0f-119">The outer Repeater will contain an item for each category in the database, displaying the category s name and description.</span></span> <span data-ttu-id="10e0f-120">Każdy element kategorii s wewnętrzny elementu powtarzanego wyświetlane są informacje dotyczące każdego produktu należące do tej kategorii (zobacz rysunek 1) na liście punktowanej.</span><span class="sxs-lookup"><span data-stu-id="10e0f-120">Each category item s inner Repeater will display information for each product belonging to that category (see Figure 1) in a bulleted list.</span></span> <span data-ttu-id="10e0f-121">Nasze przykłady przedstawiają sposób wypełnienia wewnętrzny elementu powtarzanego deklaratywnie i programowo.</span><span class="sxs-lookup"><span data-stu-id="10e0f-121">Our examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>


<span data-ttu-id="10e0f-122">[![Każdej kategorii, wraz z jego produktów, są wyświetlane.](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="10e0f-122">[![Each Category, Along with its Products, are Listed](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span></span>

<span data-ttu-id="10e0f-123">**Rysunek 1**: każdej kategorii, wraz z jego produktów, są wyświetlane ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](nested-data-web-controls-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="10e0f-123">**Figure 1**: Each Category, Along with its Products, are Listed ([Click to view full-size image](nested-data-web-controls-cs/_static/image3.png))</span></span>


## <a name="step-1-creating-the-category-listing"></a><span data-ttu-id="10e0f-124">Krok 1: Tworzenie listy kategorii</span><span class="sxs-lookup"><span data-stu-id="10e0f-124">Step 1: Creating the Category Listing</span></span>

<span data-ttu-id="10e0f-125">Podczas kompilowania strony, która używa zagnieżdżone formantów sieci Web danych, I przyda projektu, Utwórz i przetestowanie peryferyjnych danych formantu sieci Web, nie martwiąc się nawet o wewnętrzny zagnieżdżony formant.</span><span class="sxs-lookup"><span data-stu-id="10e0f-125">When building a page that uses nested data Web controls, I find it helpful to design, create, and test the outermost data Web control first, without even worrying about the inner nested control.</span></span> <span data-ttu-id="10e0f-126">W związku z tym umożliwiają s, Rozpocznij od przejście przez kroki niezbędne do dodania elementu powtarzanego do strony, która zawiera nazwę i opis dla każdej kategorii.</span><span class="sxs-lookup"><span data-stu-id="10e0f-126">Therefore, let s start by walking through the steps necessary to add a Repeater to the page that lists the name and description for each category.</span></span>

<span data-ttu-id="10e0f-127">Uruchamianie przez otwarcie `NestedControls.aspx` w obszarze `DataListRepeaterBasics` folderu i dodać kontrolce elementu powtarzanego do strony, ustawienie jej `ID` właściwości `CategoryList`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-127">Start by opening the `NestedControls.aspx` page in the `DataListRepeaterBasics` folder and add a Repeater control to the page, setting its `ID` property to `CategoryList`.</span></span> <span data-ttu-id="10e0f-128">Z tagów inteligentnych elementu powtarzanego s wybrać do utworzenia nowego elementu ObjectDataSource o nazwie `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-128">From the Repeater s smart tag, choose to create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="10e0f-129">[![Nazwa nowej ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="10e0f-129">[![Name the New ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span></span>

<span data-ttu-id="10e0f-130">**Rysunek 2**: Nazwa nowego elementu ObjectDataSource `CategoriesDataSource` ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](nested-data-web-controls-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="10e0f-130">**Figure 2**: Name the New ObjectDataSource `CategoriesDataSource` ([Click to view full-size image](nested-data-web-controls-cs/_static/image6.png))</span></span>


<span data-ttu-id="10e0f-131">Skonfiguruj ObjectDataSource, dzięki czemu ściągania danych z `CategoriesBLL` klasy s `GetCategories` metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-131">Configure the ObjectDataSource so that it pulls its data from the `CategoriesBLL` class s `GetCategories` method.</span></span>


<span data-ttu-id="10e0f-132">[![Skonfiguruj element ObjectDataSource przy użyciu metody GetCategories klasy CategoriesBLL s](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="10e0f-132">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories Method](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span></span>

<span data-ttu-id="10e0f-133">**Rysunek 3**: Konfigurowanie ObjectDataSource użyć `CategoriesBLL` klasy s `GetCategories` — metoda ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](nested-data-web-controls-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="10e0f-133">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories` Method ([Click to view full-size image](nested-data-web-controls-cs/_static/image9.png))</span></span>


<span data-ttu-id="10e0f-134">Aby określić szablon elementu powtarzanego s zawartości musimy przejdź do widoku źródłowego i ręcznie wprowadzić składni deklaratywnej.</span><span class="sxs-lookup"><span data-stu-id="10e0f-134">To specify the Repeater s template content we need to go to the Source view and manually enter the declarative syntax.</span></span> <span data-ttu-id="10e0f-135">Dodaj `ItemTemplate` który wyświetla nazwę kategorii s w `<h4>` elementu i opis kategorii s w elemencie akapitu (`<p>`).</span><span class="sxs-lookup"><span data-stu-id="10e0f-135">Add an `ItemTemplate` that displays the category s name in an `<h4>` element and the category s description in a paragraph element (`<p>`).</span></span> <span data-ttu-id="10e0f-136">Ponadto pozwalają s oddziel poszczególnych kategorii linia pozioma (`<hr>`).</span><span class="sxs-lookup"><span data-stu-id="10e0f-136">Furthermore, let s separate each category with a horizontal rule (`<hr>`).</span></span> <span data-ttu-id="10e0f-137">Po wprowadzeniu tych zmian strony powinny zawierać składni deklaratywnej dla elementu powtarzanego i ObjectDataSource, który jest podobny do następującego:</span><span class="sxs-lookup"><span data-stu-id="10e0f-137">After making these changes your page should contain declarative syntax for the Repeater and ObjectDataSource that is similar to the following:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample1.aspx)]

<span data-ttu-id="10e0f-138">Na rysunku 4 przedstawiono naszych postępu podczas wyświetlania za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="10e0f-138">Figure 4 shows our progress when viewed through a browser.</span></span>


<span data-ttu-id="10e0f-139">[![Każda kategoria s nazwę i opis jest wyświetlana, oddzielonych linia pozioma](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="10e0f-139">[![Each Category s Name and Description is Listed, Separated by a Horizontal Rule](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span></span>

<span data-ttu-id="10e0f-140">**Rysunek 4**: s kategorii każdą nazwę i opis jest wyświetlana, oddzielonych linia pozioma ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](nested-data-web-controls-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="10e0f-140">**Figure 4**: Each Category s Name and Description is Listed, Separated by a Horizontal Rule ([Click to view full-size image](nested-data-web-controls-cs/_static/image12.png))</span></span>


## <a name="step-2-adding-the-nested-product-repeater"></a><span data-ttu-id="10e0f-141">Krok 2: Dodawanie elementu powtarzanego zagnieżdżonych produktu</span><span class="sxs-lookup"><span data-stu-id="10e0f-141">Step 2: Adding the Nested Product Repeater</span></span>

<span data-ttu-id="10e0f-142">Kategorii wyświetlania ukończenia naszego następne zadanie jest dodanie elementu powtarzanego do `CategoryList` s `ItemTemplate` którym wyświetlane są informacje o tych produktów należących do odpowiedniej kategorii.</span><span class="sxs-lookup"><span data-stu-id="10e0f-142">With the category listing complete, our next task is to add a Repeater to the `CategoryList` s `ItemTemplate` that displays information about those products belonging to the appropriate category.</span></span> <span data-ttu-id="10e0f-143">Istnieją różne sposoby, można pobierać dane dla tego wewnętrzny elementu powtarzanego, dwóch, których firma Microsoft będzie Eksploruj wkrótce.</span><span class="sxs-lookup"><span data-stu-id="10e0f-143">There are a number of ways we can retrieve the data for this inner Repeater, two of which we'll explore shortly.</span></span> <span data-ttu-id="10e0f-144">Na razie let s wystarczy utworzyć produktów elementu powtarzanego w `CategoryList` elementu powtarzanego s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-144">For now, let s just create the products Repeater within the `CategoryList` Repeater s `ItemTemplate`.</span></span> <span data-ttu-id="10e0f-145">W szczególności umożliwiają s produkt każdego produktu w postaci listy punktowanej dla każdego elementu listy nazwy produktu s oraz cen wyświetlania elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="10e0f-145">Specifically, let s have the product Repeater display each product in a bulleted list with each list item including the product s name and price.</span></span>

<span data-ttu-id="10e0f-146">Do utworzenia tego elementu powtarzanego, należy ręcznie wprowadzić wewnętrzny elementu powtarzanego s składni deklaratywnej i szablony do `CategoryList` s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-146">To create this Repeater we need to manually enter the inner Repeater s declarative syntax and templates into the `CategoryList` s `ItemTemplate`.</span></span> <span data-ttu-id="10e0f-147">Dodaj następujący kod w `CategoryList` elementu powtarzanego s `ItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="10e0f-147">Add the following markup within the `CategoryList` Repeater s `ItemTemplate`:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample2.aspx)]

## <a name="step-3-binding-the-category-specific-products-to-the-productsbycategorylist-repeater"></a><span data-ttu-id="10e0f-148">Krok 3: Powiązanie powtarzanego ProductsByCategoryList specyficznego dla kategorii produktów</span><span class="sxs-lookup"><span data-stu-id="10e0f-148">Step 3: Binding the Category-Specific Products to the ProductsByCategoryList Repeater</span></span>

<span data-ttu-id="10e0f-149">W przypadku odwiedzenia strony za pośrednictwem przeglądarki w tym momencie ekranu wyglądają tak samo jak rysunek 4 ponieważ firma Microsoft kolejnych jeszcze powiązać żadnych danych z elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="10e0f-149">If you visit the page through a browser at this point, your screen will look the same as in Figure 4 because we ve yet to bind any data to the Repeater.</span></span> <span data-ttu-id="10e0f-150">Istnieje kilka sposobów czy możemy pobrania produktu odpowiednie rekordy i powiązać powtarzanego, niektóre bardziej wydajna niż innym.</span><span class="sxs-lookup"><span data-stu-id="10e0f-150">There are a few ways that we can grab the appropriate product records and bind them to the Repeater, some more efficient than others.</span></span> <span data-ttu-id="10e0f-151">W tym miejscu głównego żądania jest odzyskać odpowiednie produktów dla określonej kategorii.</span><span class="sxs-lookup"><span data-stu-id="10e0f-151">The main challenge here is getting back the appropriate products for the specified category.</span></span>

<span data-ttu-id="10e0f-152">Danych, aby powiązać wewnętrzny kontrolce elementu powtarzanego albo dostępne deklaratywnie, przez element ObjectDataSource w `CategoryList` elementu powtarzanego s `ItemTemplate`, lub programowo, na stronie CodeBehind strony ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="10e0f-152">The data to bind to the inner Repeater control can either be accessed declaratively, through an ObjectDataSource in the `CategoryList` Repeater s `ItemTemplate`, or programmatically, from the ASP.NET page s code-behind page.</span></span> <span data-ttu-id="10e0f-153">Podobnie, te dane mogą być powiązane z wewnętrzny elementu powtarzanego albo deklaratywnie — za pośrednictwem wewnętrzny elementu powtarzanego s `DataSourceID` właściwości lub za pomocą składni deklaratywnej wiązania z danymi lub programowo wewnętrzny elementu powtarzanego w `CategoryList` elementu powtarzanego s `ItemDataBound` program obsługi zdarzeń, programowane ustawianie jego `DataSource` właściwości i wywołania jego `DataBind()` metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-153">Similarly, this data can be bound to the inner Repeater either declaratively - through the inner Repeater s `DataSourceID` property or through declarative databinding syntax or programmatically by referencing the inner Repeater in the `CategoryList` Repeater s `ItemDataBound` event handler, programmatically setting its `DataSource` property, and calling its `DataBind()` method.</span></span> <span data-ttu-id="10e0f-154">Let s Eksplorowanie każdego z tych sposobów.</span><span class="sxs-lookup"><span data-stu-id="10e0f-154">Let s explore each of these approaches.</span></span>

## <a name="accessing-the-data-declaratively-with-an-objectdatasource-control-and-theitemdataboundevent-handler"></a><span data-ttu-id="10e0f-155">Uzyskiwanie dostępu do danych deklaratywnie z kontrolki ObjectDataSource i`ItemDataBound`obsługi zdarzeń</span><span class="sxs-lookup"><span data-stu-id="10e0f-155">Accessing the Data Declaratively with an ObjectDataSource Control and the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="10e0f-156">Ponieważ firma Microsoft był używany element ObjectDataSource często w tej serii samouczek wybór najbardziej fizyczne do uzyskiwania dostępu do danych, w tym przykładzie zostaje przestrzegaj ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="10e0f-156">Since we ve used the ObjectDataSource extensively throughout this tutorial series, the most natural choice for accessing data for this example is to stick with the ObjectDataSource.</span></span> <span data-ttu-id="10e0f-157">`ProductsBLL` Klasa ma `GetProductsByCategoryID(categoryID)` metodę, która zwraca informacje na temat tych produktów, które należą do określonej  *`categoryID`* .</span><span class="sxs-lookup"><span data-stu-id="10e0f-157">The `ProductsBLL` class has a `GetProductsByCategoryID(categoryID)` method that returns information about those products that belong to the specified *`categoryID`*.</span></span> <span data-ttu-id="10e0f-158">W związku z tym można dodać elementu ObjectDataSource do `CategoryList` elementu powtarzanego s `ItemTemplate` i skonfigurowanie dostępu do danych z tej metody klasy s.</span><span class="sxs-lookup"><span data-stu-id="10e0f-158">Therefore, we can add an ObjectDataSource to the `CategoryList` Repeater s `ItemTemplate` and configure it to access its data from this class s method.</span></span>

<span data-ttu-id="10e0f-159">Niestety elementu powtarzanego zezwala na jego szablonów można edytować za pomocą widoku Projekt, należy ręcznie dodać składni deklaratywnej dla tej kontrolki ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="10e0f-159">Unfortunately, the Repeater doesn t allow its templates to be edited through the Design view so we need to add the declarative syntax for this ObjectDataSource control by hand.</span></span> <span data-ttu-id="10e0f-160">Poniżej przedstawiono składnię `CategoryList` elementu powtarzanego s `ItemTemplate` po dodaniu tego nowego elementu ObjectDataSource (`ProductsByCategoryDataSource`):</span><span class="sxs-lookup"><span data-stu-id="10e0f-160">The following syntax shows the `CategoryList` Repeater s `ItemTemplate` after adding this new ObjectDataSource (`ProductsByCategoryDataSource`):</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample3.aspx)]

<span data-ttu-id="10e0f-161">Korzystając z metody ObjectDataSource musimy ustawić `ProductsByCategoryList` elementu powtarzanego s `DataSourceID` właściwości `ID` elementu ObjectDataSource (`ProductsByCategoryDataSource`).</span><span class="sxs-lookup"><span data-stu-id="10e0f-161">When using the ObjectDataSource approach we need to set the `ProductsByCategoryList` Repeater s `DataSourceID` property to the `ID` of the ObjectDataSource (`ProductsByCategoryDataSource`).</span></span> <span data-ttu-id="10e0f-162">Ponadto powiadomienia z naszych ObjectDataSource `<asp:Parameter>` element, który określa  *`categoryID`*  wartości, które zostaną przekazane do `GetProductsByCategoryID(categoryID)` — metoda.</span><span class="sxs-lookup"><span data-stu-id="10e0f-162">Also, notice that our ObjectDataSource has an `<asp:Parameter>` element that specifies the *`categoryID`* value that will be passed into the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="10e0f-163">Ale jak możemy podać tę wartość?</span><span class="sxs-lookup"><span data-stu-id="10e0f-163">But how do we specify this value?</span></span> <span data-ttu-id="10e0f-164">Najlepiej, możemy d można ustawić tylko `DefaultValue` właściwość `<asp:Parameter>` elementu za pomocą składni wiązania z danymi w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="10e0f-164">Ideally, we d be able to just set the `DefaultValue` property of the `<asp:Parameter>` element using databinding syntax, like so:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample4.aspx)]

<span data-ttu-id="10e0f-165">Niestety, składnia wiązania danych jest prawidłowy tylko w formantach, które mają `DataBinding` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="10e0f-165">Unfortunately, databinding syntax is only valid in controls that have a `DataBinding` event.</span></span> <span data-ttu-id="10e0f-166">`Parameter` Klasa nie ma takiego zdarzenia i w związku z tym powyższej składni jest niedozwolony i spowoduje błąd w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="10e0f-166">The `Parameter` class lacks such an event and therefore the above syntax is illegal and will result in a runtime error.</span></span>

<span data-ttu-id="10e0f-167">Aby ustawić tę wartość, należy utworzyć programu obsługi zdarzeń dla `CategoryList` elementu powtarzanego s `ItemDataBound` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="10e0f-167">To set this value, we need to create an event handler for the `CategoryList` Repeater s `ItemDataBound` event.</span></span> <span data-ttu-id="10e0f-168">Odwołania, który `ItemDataBound` zdarzenia generowane raz dla każdego elementu powiązany z elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="10e0f-168">Recall that the `ItemDataBound` event fires once for each item bound to the Repeater.</span></span> <span data-ttu-id="10e0f-169">W związku z tym zawsze to zdarzenie jest generowane dla zewnętrznego elementu powtarzanego możemy można przypisać bieżącego `CategoryID` do wartości `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parametru.</span><span class="sxs-lookup"><span data-stu-id="10e0f-169">Therefore, each time this event fires for the outer Repeater we can assign the current `CategoryID` value to the `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parameter.</span></span>

<span data-ttu-id="10e0f-170">Tworzenie procedury obsługi zdarzeń dla `CategoryList` elementu powtarzanego s `ItemDataBound` zdarzeń z następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="10e0f-170">Create an event handler for the `CategoryList` Repeater s `ItemDataBound` event with the following code:</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample5.cs)]

<span data-ttu-id="10e0f-171">Ten program obsługi zdarzeń rozpoczyna się przez zapewnienie, że firma Microsoft re postępowania z danymi elementu zamiast elementu nagłówka, stopki lub separatora.</span><span class="sxs-lookup"><span data-stu-id="10e0f-171">This event handler starts by ensuring that we re dealing with a data item rather than the header, footer, or separator item.</span></span> <span data-ttu-id="10e0f-172">Następnie możemy odwołania rzeczywiste `CategoriesRow` wystąpienia, która właśnie została powiązana z bieżącą `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-172">Next, we reference the actual `CategoriesRow` instance that has just been bound to the current `RepeaterItem`.</span></span> <span data-ttu-id="10e0f-173">Na koniec mamy odwołania ObjectDataSource w `ItemTemplate` i przypisz jej `CategoryID` wartości parametru `CategoryID` bieżącego `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-173">Finally, we reference the ObjectDataSource in the `ItemTemplate` and assign its `CategoryID` parameter value to the `CategoryID` of the current `RepeaterItem`.</span></span>

<span data-ttu-id="10e0f-174">Z tej obsługi zdarzeń `ProductsByCategoryList` elementu powtarzanego w każdym `RepeaterItem` jest powiązany z tych produktów w `RepeaterItem` kategorii s.</span><span class="sxs-lookup"><span data-stu-id="10e0f-174">With this event handler, the `ProductsByCategoryList` Repeater in each `RepeaterItem` is bound to those products in the `RepeaterItem` s category.</span></span> <span data-ttu-id="10e0f-175">Rysunek 5. pokazuje zrzut ekranu: dane wyjściowe.</span><span class="sxs-lookup"><span data-stu-id="10e0f-175">Figure 5 shows a screen shot of the resulting output.</span></span>


<span data-ttu-id="10e0f-176">[![Zewnętrzne powtarzanego zawiera listę poszczególnych kategorii; Jeden wewnętrzny zawiera listę produktów dla tej kategorii](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="10e0f-176">[![The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span></span>

<span data-ttu-id="10e0f-177">**Rysunek 5**: elementu powtarzanego wymieniono każdej kategorii zewnętrznej; list jeden wewnętrzny produktów dla tej kategorii ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](nested-data-web-controls-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="10e0f-177">**Figure 5**: The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category ([Click to view full-size image](nested-data-web-controls-cs/_static/image15.png))</span></span>


## <a name="accessing-the-products-by-category-data-programmatically"></a><span data-ttu-id="10e0f-178">Uzyskiwanie dostępu do produktów przez dane kategorii programowo</span><span class="sxs-lookup"><span data-stu-id="10e0f-178">Accessing the Products by Category Data Programmatically</span></span>

<span data-ttu-id="10e0f-179">Zamiast elementu ObjectDataSource do pobrania dla bieżącej kategorii produktów, można utworzyć metody w naszym klasie związanej z kodem strony ASP.NET (lub w `App_Code` folderu lub w oddzielnym projektu biblioteki klas) zwracająca odpowiedni zestaw produkty, gdy dane są przekazywane w `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-179">Instead of using an ObjectDataSource to retrieve the products for the current category, we could create a method in our ASP.NET page s code-behind class (or in the `App_Code` folder or in a separate Class Library project) that returns the appropriate set of products when passed in a `CategoryID`.</span></span> <span data-ttu-id="10e0f-180">Wyobraź sobie Musieliśmy taka metoda naszej klasy związane z kodem strony ASP.NET i że został on nazwę `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-180">Imagine that we had such a method in our ASP.NET page s code-behind class and that it was named `GetProductsInCategory(categoryID)`.</span></span> <span data-ttu-id="10e0f-181">Przy użyciu tej metody w miejscu możemy można powiązać produktów dla bieżącej kategorii wewnętrzny elementu powtarzanego, używając następującej składni deklaratywnej:</span><span class="sxs-lookup"><span data-stu-id="10e0f-181">With this method in place we could bind the products for the current category to the inner Repeater using the following declarative syntax:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample6.aspx)]

<span data-ttu-id="10e0f-182">Powtarzanego s `DataSource` właściwości używa składni wiązania z danymi, aby wskazać, że jego dane pochodzą z `GetProductsInCategory(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-182">The Repeater s `DataSource` property uses the databinding syntax to indicate that its data comes from the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="10e0f-183">Ponieważ `Eval("CategoryID")` zwraca wartość typu `Object`, możemy rzutowanie tego obiektu na `Integer` przed przekazaniem go do `GetProductsInCategory(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-183">Since `Eval("CategoryID")` returns a value of type `Object`, we cast the object to an `Integer` before passing it into the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="10e0f-184">Należy pamiętać, że `CategoryID` używanych w tym miejscu za pośrednictwem wiązania z danymi składnia jest `CategoryID` w *zewnętrzne* elementu powtarzanego (`CategoryList`), co tego s powiązane rekordy w `Categories` tabeli.</span><span class="sxs-lookup"><span data-stu-id="10e0f-184">Note that the `CategoryID` accessed here via the databinding syntax is the `CategoryID` in the *outer* Repeater (`CategoryList`), the one that s bound to the records in the `Categories` table.</span></span> <span data-ttu-id="10e0f-185">W związku z tym wiemy, że `CategoryID` nie może być bazy danych `NULL` wartości, dlatego firma Microsoft może ślepo rzutowania `Eval` metody bez sprawdzania, czy możemy re zajmowanie `DBNull`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-185">Therefore, we know that `CategoryID` cannot be a database `NULL` value, which is why we can blindly cast the `Eval` method without checking if we re dealing with a `DBNull`.</span></span>

<span data-ttu-id="10e0f-186">Z tej metody, należy utworzyć `GetProductsInCategory(categoryID)` — metoda i pobrać odpowiedni zestaw produktów, podana podane  *`categoryID`* .</span><span class="sxs-lookup"><span data-stu-id="10e0f-186">With this approach, we need to create the `GetProductsInCategory(categoryID)` method and have it retrieve the appropriate set of products given the supplied *`categoryID`*.</span></span> <span data-ttu-id="10e0f-187">Firma Microsoft można to zrobić, po prostu zwracanie `ProductsDataTable` zwrócony przez `ProductsBLL` klasy s `GetProductsByCategoryID(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-187">We can do this by simply returning the `ProductsDataTable` returned by the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="10e0f-188">Let s utworzyć `GetProductsInCategory(categoryID)` metody w klasie CodeBehind dla naszych `NestedControls.aspx` strony.</span><span class="sxs-lookup"><span data-stu-id="10e0f-188">Let s create the `GetProductsInCategory(categoryID)` method in the code-behind class for our `NestedControls.aspx` page.</span></span> <span data-ttu-id="10e0f-189">To zrobić przy użyciu następującego kodu:</span><span class="sxs-lookup"><span data-stu-id="10e0f-189">Do so using the following code:</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample7.cs)]

<span data-ttu-id="10e0f-190">Ta metoda po prostu tworzy wystąpienie `ProductsBLL` metodę i zwraca wyniki `GetProductsByCategoryID(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-190">This method simply creates an instance of the `ProductsBLL` method and returns the results of the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="10e0f-191">Należy pamiętać, że metoda muszą być oznaczone jako `Public` lub `Protected`; Jeśli metoda jest oznaczona jako `Private`, nie będzie dostępny z ASP.NET s deklaratywne znaczników.</span><span class="sxs-lookup"><span data-stu-id="10e0f-191">Note that the method must be marked `Public` or `Protected`; if the method is marked `Private`, it will not be accessible from the ASP.NET page s declarative markup.</span></span>

<span data-ttu-id="10e0f-192">Po wprowadzeniu tych zmian, aby użyć tej nowej metody, Poświęć chwilę, aby wyświetlić stronę za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="10e0f-192">After making these changes to use this new technique, take a moment to view the page through a browser.</span></span> <span data-ttu-id="10e0f-193">Dane wyjściowe powinny być identyczne dane wyjściowe, korzystając z elementu ObjectDataSource i `ItemDataBound` metoda obsługi zdarzeń (odwołują się do rysunek 5, aby zobaczyć zrzut ekranu).</span><span class="sxs-lookup"><span data-stu-id="10e0f-193">The output should be identical to the output when using the ObjectDataSource and `ItemDataBound` event handler approach (refer back to Figure 5 to see a screen shot).</span></span>

> [!NOTE]
> <span data-ttu-id="10e0f-194">Może się wydawać busywork, aby utworzyć `GetProductsInCategory(categoryID)` metody w klasie związanej z kodem strony ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="10e0f-194">It may seem like busywork to create the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="10e0f-195">Po wszystkich, ta metoda po prostu tworzy wystąpienie `ProductsBLL` klasy i zwraca wyniki jego `GetProductsByCategoryID(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-195">After all, this method simply creates an instance of the `ProductsBLL` class and returns the results of its `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="10e0f-196">Dlaczego nie tylko tę metodę należy wywołać bezpośrednio z składnia wiązania z danymi w elemencie powtarzanym wewnętrzne, takie jak: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span><span class="sxs-lookup"><span data-stu-id="10e0f-196">Why not just call this method directly from the databinding syntax in the inner Repeater, like: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span></span> <span data-ttu-id="10e0f-197">Mimo że ta składnia won działa z naszych bieżąca implementacja `ProductsBLL` klasy (ponieważ `GetProductsByCategoryID(categoryID)` metoda jest metodą wystąpienia), można zmodyfikować `ProductsBLL` uwzględnienie statycznego `GetProductsByCategoryID(categoryID)` — metoda lub klasa obejmują statycznego `Instance()` metodę, aby zwrócić nowe wystąpienie klasy `ProductsBLL` klasy.</span><span class="sxs-lookup"><span data-stu-id="10e0f-197">Although this syntax won t work with our current implementation of the `ProductsBLL` class (since the `GetProductsByCategoryID(categoryID)` method is an instance method), you could modify `ProductsBLL` to include a static `GetProductsByCategoryID(categoryID)` method or have the class include a static `Instance()` method to return a new instance of the `ProductsBLL` class.</span></span>


<span data-ttu-id="10e0f-198">Gdy takich modyfikacji wyeliminować potrzebę `GetProductsInCategory(categoryID)` metody w klasie związanej z kodem strony ASP.NET, metody klasy związane z kodem daje większą elastyczność podczas pracy z dane pobrane, jak zajmiemy się wkrótce.</span><span class="sxs-lookup"><span data-stu-id="10e0f-198">While such modifications would eliminate the need for the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class, the code-behind class method gives us more flexibility in working with the data retrieved, as we'll see shortly.</span></span>

## <a name="retrieving-all-of-the-product-information-at-once"></a><span data-ttu-id="10e0f-199">Pobieranie wszystkich informacji o produkcie jednocześnie</span><span class="sxs-lookup"><span data-stu-id="10e0f-199">Retrieving All of the Product Information at Once</span></span>

<span data-ttu-id="10e0f-200">Dwie metody poprzedniej możemy stawienia zbadać pobrania tych produktów dla bieżącej kategorii poprzez wywołanie `ProductsBLL` klasy s `GetProductsByCategoryID(categoryID)` — metoda (pierwszym sposobem dokonał tego za pośrednictwem ObjectDataSource drugiego do `GetProductsInCategory(categoryID)` metody w klasy związane z kodem).</span><span class="sxs-lookup"><span data-stu-id="10e0f-200">The two pervious techniques we ve examined grab those products for the current category by making a call to the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method (the first approach did so through an ObjectDataSource, the second through the `GetProductsInCategory(categoryID)` method in the code-behind class).</span></span> <span data-ttu-id="10e0f-201">Zawsze ta metoda jest wywoływana, wywołania warstwy logiki biznesowej do warstwy dostępu do danych, który wysyła zapytanie do bazy danych za pomocą instrukcji SQL, która zwraca wiersze z `Products` tabeli, którego `CategoryID` pole zgodne podany parametr wejściowy.</span><span class="sxs-lookup"><span data-stu-id="10e0f-201">Each time this method is invoked, the Business Logic Layer calls down to the Data Access Layer, which queries the database with a SQL statement that returns rows from the `Products` table whose `CategoryID` field matches the supplied input parameter.</span></span>

<span data-ttu-id="10e0f-202">Podane *N* kategorii w systemie, to rozwiązanie sieci *N* + 1 wywołań zapytanie bazy danych jedną bazę danych można pobrać wszystkich kategorii, a następnie *N* połączeń w celu pobrania produktów specyficzne dla każdej kategorii.</span><span class="sxs-lookup"><span data-stu-id="10e0f-202">Given *N* categories in the system, this approach nets *N* + 1 calls to the database one database query to get all of the categories and then *N* calls to get the products specific to each category.</span></span> <span data-ttu-id="10e0f-203">Można jednak pobrać wszystkich potrzebnych danych w jednym wywołaniu wywołania tylko dwie bazy danych można uzyskać wszystkie kategorie i drugiego do wszystkich produktów.</span><span class="sxs-lookup"><span data-stu-id="10e0f-203">We can, however, retrieve all the needed data in just two database calls one call to get all of the categories and another to get all of the products.</span></span> <span data-ttu-id="10e0f-204">Gdy mamy wszystkie produkty, firma Microsoft można filtrować tych produktów tak jedynie produkty dopasowania bieżącego `CategoryID` są powiązane z tej kategorii s wewnętrzny elementu powtarzanego.</span><span class="sxs-lookup"><span data-stu-id="10e0f-204">Once we have all of the products, we can filter those products so that only the products matching the current `CategoryID` are bound to that category s inner Repeater.</span></span>

<span data-ttu-id="10e0f-205">Do tej funkcji, tylko musimy upewnić nieznaczne modyfikację `GetProductsInCategory(categoryID)` metody w klasie CodeBehind strony s naszej platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="10e0f-205">To provide this functionality, we only need to make a slight modification to the `GetProductsInCategory(categoryID)` method in our ASP.NET page s code-behind class.</span></span> <span data-ttu-id="10e0f-206">Zamiast ślepo zwracania wyników z `ProductsBLL` klasy s `GetProductsByCategoryID(categoryID)` metody, możesz zamiast tego najpierw przejść do *wszystkie* produktów (jeśli one informacjami o klientach t został już dostępne), a następnie wróć właśnie filtrowany widok produkty oparte na przekazany do `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-206">Rather than blindly returning the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method, we can instead first access *all* of the products (if they haven t been accessed already) and then return just the filtered view of the products based on the passed-in `CategoryID`.</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample8.cs)]

<span data-ttu-id="10e0f-207">Należy pamiętać, Dodawanie zmiennej na poziomie strony `allProducts`.</span><span class="sxs-lookup"><span data-stu-id="10e0f-207">Note the addition of the page-level variable, `allProducts`.</span></span> <span data-ttu-id="10e0f-208">To są przechowywane informacje dotyczące wszystkich produktów i jest wypełniana przy pierwszym `GetProductsInCategory(categoryID)` wywołania metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-208">This holds information about all of the products and is populated the first time the `GetProductsInCategory(categoryID)` method is invoked.</span></span> <span data-ttu-id="10e0f-209">Po upewnieniu się, że `allProducts` obiekt został utworzony i wypełniane, metody filtruje wyniki s DataTable w taki sposób, że tylko te wiersze, w których `CategoryID` jest zgodna z określoną `CategoryID` są dostępne.</span><span class="sxs-lookup"><span data-stu-id="10e0f-209">After ensuring that the `allProducts` object has been created and populated, the method filters the DataTable s results such that only those rows whose `CategoryID` matches the specified `CategoryID` are accessible.</span></span> <span data-ttu-id="10e0f-210">Takie podejście pozwala zmniejszyć liczbę razy bazy danych jest dostępny z *N* + 1 w dół, aby dwa.</span><span class="sxs-lookup"><span data-stu-id="10e0f-210">This approach reduces the number of times the database is accessed from *N* + 1 down to two.</span></span>

<span data-ttu-id="10e0f-211">To rozszerzenie nie powoduje żadnych zmian do renderowanego kodu znaczników strony ani osiągać rekordów wstecz mniej niż innej metody.</span><span class="sxs-lookup"><span data-stu-id="10e0f-211">This enhancement does not introduce any change to the rendered markup of the page, nor does it bring back fewer records than the other approach.</span></span> <span data-ttu-id="10e0f-212">Po prostu zmniejsza liczbę wezwań do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="10e0f-212">It simply reduces the number of calls to the database.</span></span>

> [!NOTE]
> <span data-ttu-id="10e0f-213">Jeden intuicyjnie przyczyny, że zmniejszenie liczby uzyskuje dostęp do bazy danych będzie assuredly zwiększenia wydajności.</span><span class="sxs-lookup"><span data-stu-id="10e0f-213">One might intuitively reason that reducing the number of database accesses would assuredly improve performance.</span></span> <span data-ttu-id="10e0f-214">Jednak nie może to być wielkość liter.</span><span class="sxs-lookup"><span data-stu-id="10e0f-214">However, this might not be the case.</span></span> <span data-ttu-id="10e0f-215">Jeśli masz dużą liczbę produktów których `CategoryID` jest `NULL`, na przykład, a następnie wywołać `GetProducts` metoda zwraca liczbę produktów, które nigdy nie są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="10e0f-215">If you have a large number of products whose `CategoryID` is `NULL`, for example, then the call to the `GetProducts` method returns a number of products that are never displayed.</span></span> <span data-ttu-id="10e0f-216">Ponadto zwracanie wszystkich produktów może być niepotrzebne Jeśli której wyświetlane są tylko podzbiór kategorie, które może być w przypadku, jeśli zostały zaimplementowane stronicowania.</span><span class="sxs-lookup"><span data-stu-id="10e0f-216">Moreover, returning all of the products can be wasteful if you re only showing a subset of the categories, which might be the case if you have implemented paging.</span></span>


<span data-ttu-id="10e0f-217">Jak zawsze, gdy chodzi o analizowanie wydajności dwie metody, tylko surefire miary jest do uruchomienia testów kontrolowane dostosowane do Twojej aplikacji s typowych scenariuszy przypadków.</span><span class="sxs-lookup"><span data-stu-id="10e0f-217">As always, when it comes to analyzing the performance of two techniques, the only surefire measure is to run controlled tests tailored for your application s common case scenarios.</span></span>

## <a name="summary"></a><span data-ttu-id="10e0f-218">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="10e0f-218">Summary</span></span>

<span data-ttu-id="10e0f-219">W tym samouczku widzieliśmy jak zagnieździć jednego danych formantu sieci Web w innym, w szczególności badanie sposobu ustawiania zewnętrznego elementu powtarzanego wyświetlania elementu dla każdej kategorii z wewnętrzny elementu powtarzanego listę produktów dla każdej kategorii na liście punktowanej.</span><span class="sxs-lookup"><span data-stu-id="10e0f-219">In this tutorial we saw how to nest one data Web control within another, specifically examining how to have an outer Repeater display an item for each category with an inner Repeater listing the products for each category in a bulleted list.</span></span> <span data-ttu-id="10e0f-220">Główne żądania tworzenia interfejsu użytkownika zagnieżdżonych znajduje się w dostęp i powiązanie danych z formantem Web wewnętrzny danych.</span><span class="sxs-lookup"><span data-stu-id="10e0f-220">The main challenge in building a nested user interface lies in accessing and binding the correct data to the inner data Web control.</span></span> <span data-ttu-id="10e0f-221">Istnieją różne metody dostępne, z których dwa możemy zbadane, w tym samouczku.</span><span class="sxs-lookup"><span data-stu-id="10e0f-221">There are a variety of techniques available, two of which we examined in this tutorial.</span></span> <span data-ttu-id="10e0f-222">Pierwszym sposobem zbadane używany element ObjectDataSource zewnętrzne danych formantu sieci Web s `ItemTemplate` która została powiązana z kontroli danych wewnętrznej sieci Web za pośrednictwem jego `DataSourceID` właściwości.</span><span class="sxs-lookup"><span data-stu-id="10e0f-222">The first approach examined used an ObjectDataSource in the outer data Web control s `ItemTemplate` that was bound to the inner data Web control through its `DataSourceID` property.</span></span> <span data-ttu-id="10e0f-223">Druga metoda dostępu do danych za pomocą metody w klasie związanej z kodem s strony ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="10e0f-223">The second technique accessed the data via a method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="10e0f-224">Ta metoda może być powiązana następnie wewnętrzny danych formantu sieci Web s `DataSource` właściwości za pośrednictwem składnia wiązania z danymi.</span><span class="sxs-lookup"><span data-stu-id="10e0f-224">This method can then be bound to the inner data Web control s `DataSource` property through databinding syntax.</span></span>

<span data-ttu-id="10e0f-225">Interfejs użytkownika zagnieżdżony, w tym samouczku używane elementu powtarzanego zagnieżdżone w obrębie elementu powtarzanego, można rozszerzyć te techniki innych formantów danych sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10e0f-225">While the nested user interface examined in this tutorial used a Repeater nested within a Repeater, these techniques can be extended to the other data Web controls.</span></span> <span data-ttu-id="10e0f-226">Można zagnieździć elementu powtarzanego w widoku GridView lub GridView wewnątrz elementu DataList i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="10e0f-226">You can nest a Repeater within a GridView, or a GridView within a DataList, and so on.</span></span>

<span data-ttu-id="10e0f-227">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="10e0f-227">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="10e0f-228">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="10e0f-228">About the Author</span></span>

<span data-ttu-id="10e0f-229">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="10e0f-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="10e0f-230">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="10e0f-230">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="10e0f-231">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="10e0f-231">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="10e0f-232">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="10e0f-232">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="10e0f-233">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="10e0f-233">Special Thanks To</span></span>

<span data-ttu-id="10e0f-234">Ten samouczek serii zostało sprawdzone przez wiele recenzentów przydatne.</span><span class="sxs-lookup"><span data-stu-id="10e0f-234">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="10e0f-235">Prowadzić osób dokonujących przeglądu, w tym samouczku zostały Kowalski Zack i Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="10e0f-235">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="10e0f-236">Zainteresowani recenzowania Moje nadchodzących artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="10e0f-236">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="10e0f-237">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="10e0f-237">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="10e0f-238">[Poprzednie](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
[dalej](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span><span class="sxs-lookup"><span data-stu-id="10e0f-238">[Previous](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
[Next](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span></span>
