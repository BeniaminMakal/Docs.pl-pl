---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-a-view
title: Dodawanie widoku (C#) | Dokumentacja firmy Microsoft
author: Rick-Anderson
description: Ten samouczek pokazuje podstawowe informacje dotyczące tworzenia aplikacji sieci Web programu ASP.NET MVC przy użyciu Microsoft Visual Web Developer 2010 Express Service Pack 1, która jest...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/12/2011
ms.topic: article
ms.assetid: abc7c78d-cb09-4a4c-a887-61bc401d40e3
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-a-view
msc.type: authoredcontent
ms.openlocfilehash: 50ce4a2024ffd9e2bbb5526717052d486689ff38
ms.sourcegitcommit: 6784510cfb589308c3875ccb5113eb31031766b4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/08/2018
ms.locfileid: "30873173"
---
<a name="adding-a-view-c"></a><span data-ttu-id="48709-103">Dodawanie widoku (C#)</span><span class="sxs-lookup"><span data-stu-id="48709-103">Adding a View (C#)</span></span>
====================
<span data-ttu-id="48709-104">przez [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="48709-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> > [!NOTE]
> > <span data-ttu-id="48709-105">Dostępna jest zaktualizowana wersja tego samouczka [tutaj](../../../getting-started/introduction/getting-started.md) używającej platformy ASP.NET MVC 5 i Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="48709-105">An updated version of this tutorial is available [here](../../../getting-started/introduction/getting-started.md) that uses ASP.NET MVC 5 and Visual Studio 2013.</span></span> <span data-ttu-id="48709-106">Jest bardziej bezpieczne, łatwiej wykonać i pokazuje więcej funkcji.</span><span class="sxs-lookup"><span data-stu-id="48709-106">It's more secure, much simpler to follow and demonstrates more features.</span></span>
> 
> 
> <span data-ttu-id="48709-107">Ten samouczek pokazuje podstawowe informacje dotyczące tworzenia aplikacji sieci Web programu ASP.NET MVC przy użyciu Microsoft Visual Web Developer 2010 Express Service Pack 1, która jest bezpłatna wersja programu Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="48709-107">This tutorial will teach you the basics of building an ASP.NET MVC Web application using Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio.</span></span> <span data-ttu-id="48709-108">Przed rozpoczęciem upewnij się, że po zainstalowaniu wymagania wstępne wymienione poniżej.</span><span class="sxs-lookup"><span data-stu-id="48709-108">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="48709-109">Można zainstalować wszystkie z nich, klikając poniższe łącze: [Instalatora platformy sieci Web](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="48709-109">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="48709-110">Alternatywnie można zainstalować oddzielnie wymagania wstępne, korzystając z następujących linków:</span><span class="sxs-lookup"><span data-stu-id="48709-110">Alternatively, you can individually install the prerequisites using the following links:</span></span>
> 
> - [<span data-ttu-id="48709-111">Visual Studio Web Developer Express z dodatkiem SP1 wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="48709-111">Visual Studio Web Developer Express SP1 prerequisites</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)
> - [<span data-ttu-id="48709-112">Aktualizacji narzędzi programu ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="48709-112">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
> - <span data-ttu-id="48709-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(środowisko uruchomieniowe + narzędzia pomocy technicznej)</span><span class="sxs-lookup"><span data-stu-id="48709-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>
> 
> <span data-ttu-id="48709-114">Jeśli używasz programu Visual Studio 2010, zamiast Visual Web Developer 2010, zainstaluj wymagania wstępne, klikając poniższe łącze: [wymagania wstępne programu Visual Studio 2010](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="48709-114">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span>
> 
> <span data-ttu-id="48709-115">Projekt Visual Web Developer z kodu źródłowego C# jest dostępna powiązany z tym tematem.</span><span class="sxs-lookup"><span data-stu-id="48709-115">A Visual Web Developer project with C# source code is available to accompany this topic.</span></span> <span data-ttu-id="48709-116">[Pobierz wersję języka C#](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span><span class="sxs-lookup"><span data-stu-id="48709-116">[Download the C# version](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span></span> <span data-ttu-id="48709-117">Jeśli wolisz Visual Basic, przełącz się do [wersji Visual Basic](../vb/intro-to-aspnet-mvc-3.md) tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="48709-117">If you prefer Visual Basic, switch to the [Visual Basic version](../vb/intro-to-aspnet-mvc-3.md) of this tutorial.</span></span>


<span data-ttu-id="48709-118">W tej sekcji zamierzasz zmodyfikować `HelloWorldController` klasę, aby użyć widoku pliki szablonu, aby bezpośrednio Hermetyzowanie proces generowania odpowiedzi HTML do klienta.</span><span class="sxs-lookup"><span data-stu-id="48709-118">In this section you're going to modify the `HelloWorldController` class to use view template files to cleanly encapsulate the process of generating HTML responses to a client.</span></span>

<span data-ttu-id="48709-119">Zostaną utworzone przy użyciu nowego pliku szablonu widoku [aparatu widoku Razor](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx) wprowadzonego w programie ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="48709-119">You'll create a view template file using the new [Razor view engine](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx) introduced with ASP.NET MVC 3.</span></span> <span data-ttu-id="48709-120">Szablony razor na podstawie widoku mają *.cshtml* rozszerzenie pliku i zapewnić atrakcyjny sposób utworzenia kodu HTML w danych wyjściowych przy użyciu języka C#.</span><span class="sxs-lookup"><span data-stu-id="48709-120">Razor-based view templates have a *.cshtml* file extension, and provide an elegant way to create HTML output using C#.</span></span> <span data-ttu-id="48709-121">Razor minimalizuje liczbę znaków i wymagane podczas zapisywania szablonu widoku naciśnięć klawiszy i umożliwia szybkie, płynu kodowania przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="48709-121">Razor minimizes the number of characters and keystrokes required when writing a view template, and enables a fast, fluid coding workflow.</span></span>

<span data-ttu-id="48709-122">Uruchom przy użyciu szablonu widoku z `Index` metoda `HelloWorldController` klasy.</span><span class="sxs-lookup"><span data-stu-id="48709-122">Start by using a view template with the `Index` method in the `HelloWorldController` class.</span></span> <span data-ttu-id="48709-123">Obecnie `Index` metoda zwraca ciąg zawierający komunikat, który jest ustalony klasy kontrolera.</span><span class="sxs-lookup"><span data-stu-id="48709-123">Currently the `Index` method returns a string with a message that is hard-coded in the controller class.</span></span> <span data-ttu-id="48709-124">Zmień `Index` metodę, aby zwrócić `View` obiektów, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="48709-124">Change the `Index` method to return a `View` object, as shown in the following:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample1.cs)]

<span data-ttu-id="48709-125">Ten kod szablonu widoku są używane do generowania odpowiedzi HTML do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="48709-125">This code uses a view template to generate an HTML response to the browser.</span></span> <span data-ttu-id="48709-126">W projekcie Dodaj szablon widoku, który można używać z `Index` metody.</span><span class="sxs-lookup"><span data-stu-id="48709-126">In the project, add a view template that you can use with the `Index` method.</span></span> <span data-ttu-id="48709-127">Aby to zrobić, kliknij prawym przyciskiem myszy wewnątrz `Index` — metoda i kliknij przycisk **Dodaj widok**.</span><span class="sxs-lookup"><span data-stu-id="48709-127">To do this, right-click inside the `Index` method and click **Add View**.</span></span>

![](adding-a-view/_static/image1.png)

<span data-ttu-id="48709-128">**Dodaj widok** zostanie wyświetlone okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="48709-128">The **Add View** dialog box appears.</span></span> <span data-ttu-id="48709-129">Pozostaw wartości domyślne są a kliknij przycisk **Dodaj** przycisk:</span><span class="sxs-lookup"><span data-stu-id="48709-129">Leave the defaults the way they are and click the **Add** button:</span></span>

![](adding-a-view/_static/image2.png)

<span data-ttu-id="48709-130">*MvcMovie\Views\HelloWorld* folderu i *MvcMovie\Views\HelloWorld\Index.cshtml* plików są tworzone.</span><span class="sxs-lookup"><span data-stu-id="48709-130">The *MvcMovie\Views\HelloWorld* folder and the *MvcMovie\Views\HelloWorld\Index.cshtml* file are created.</span></span> <span data-ttu-id="48709-131">Można wyświetlić je w **Eksploratora rozwiązań**:</span><span class="sxs-lookup"><span data-stu-id="48709-131">You can see them in **Solution Explorer**:</span></span>

![](adding-a-view/_static/image3.png)

<span data-ttu-id="48709-132">Poniżej przedstawiono *Index.cshtml* pliku, który został utworzony:</span><span class="sxs-lookup"><span data-stu-id="48709-132">The following shows the *Index.cshtml* file that was created:</span></span>

<span data-ttu-id="48709-133">[![HelloWorldIndex](adding-a-view/_static/image5.png)](adding-a-view/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="48709-133">[![HelloWorldIndex](adding-a-view/_static/image5.png)](adding-a-view/_static/image4.png)</span></span>

<span data-ttu-id="48709-134">Dodaj kod HTML pod `<h2>` tagu.</span><span class="sxs-lookup"><span data-stu-id="48709-134">Add some HTML under the `<h2>` tag.</span></span> <span data-ttu-id="48709-135">Zmodyfikowane *MvcMovie\Views\HelloWorld\Index.cshtml* plików są wyświetlane poniżej.</span><span class="sxs-lookup"><span data-stu-id="48709-135">The modified *MvcMovie\Views\HelloWorld\Index.cshtml* file is shown below.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample2.cshtml)]

<span data-ttu-id="48709-136">Uruchom aplikację i przejdź do `HelloWorld` kontrolera (`http://localhost:xxxx/HelloWorld`).</span><span class="sxs-lookup"><span data-stu-id="48709-136">Run the application and browse to the `HelloWorld` controller (`http://localhost:xxxx/HelloWorld`).</span></span> <span data-ttu-id="48709-137">`Index` Metody w kontrolerze nie wykonać dużo pracy; po prostu uruchomił instrukcję `return View()`, który określony metody należy użyć pliku szablonu widoku do renderowania odpowiedzi do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="48709-137">The `Index` method in your controller didn't do much work; it simply ran the statement `return View()`, which specified that the method should use a view template file to render a response to the browser.</span></span> <span data-ttu-id="48709-138">Ponieważ nie został jawnie określić nazwę pliku szablonu widok do użycia, ASP.NET MVC używa domyślnie *Index.cshtml* pliku widoku w *\Views\HelloWorld* folderu.</span><span class="sxs-lookup"><span data-stu-id="48709-138">Because you didn't explicitly specify the name of the view template file to use, ASP.NET MVC defaulted to using the *Index.cshtml* view file in the *\Views\HelloWorld* folder.</span></span> <span data-ttu-id="48709-139">Na poniższym obrazie pokazano ciąg ustalony w widoku.</span><span class="sxs-lookup"><span data-stu-id="48709-139">The image below shows the string hard-coded in the view.</span></span>

![](adding-a-view/_static/image6.png)

<span data-ttu-id="48709-140">Wygląda bardzo dobre.</span><span class="sxs-lookup"><span data-stu-id="48709-140">Looks pretty good.</span></span> <span data-ttu-id="48709-141">Jednak zauważyć, że pasek tytułu w przeglądarce mówi, "Index", a duży tytuł na stronie mówi "Moja aplikacja MVC."</span><span class="sxs-lookup"><span data-stu-id="48709-141">However, notice that the browser's title bar says "Index" and the big title on the page says "My MVC Application."</span></span> <span data-ttu-id="48709-142">Zmieńmy te.</span><span class="sxs-lookup"><span data-stu-id="48709-142">Let's change those.</span></span>

## <a name="changing-views-and-layout-pages"></a><span data-ttu-id="48709-143">Zmiana widoków i układ strony</span><span class="sxs-lookup"><span data-stu-id="48709-143">Changing Views and Layout Pages</span></span>

<span data-ttu-id="48709-144">Po pierwsze chcesz zmienić tytuł "Moja aplikacja MVC" w górnej części strony.</span><span class="sxs-lookup"><span data-stu-id="48709-144">First, you want to change the "My MVC Application" title at the top of the page.</span></span> <span data-ttu-id="48709-145">Ten tekst jest wspólny dla każdej strony.</span><span class="sxs-lookup"><span data-stu-id="48709-145">That text is common to every page.</span></span> <span data-ttu-id="48709-146">Faktycznie jest stosowana w tylko jednym miejscu w projekcie, nawet jeśli wygląda na to, na wszystkich stronach w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="48709-146">It actually is implemented in only one place in the project, even though it appears on every page in the application.</span></span> <span data-ttu-id="48709-147">Przejdź do */widoków/Shared* folderu w **Eksploratora rozwiązań** , a następnie otwórz  *\_Layout.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="48709-147">Go to the */Views/Shared* folder in **Solution Explorer** and open the *\_Layout.cshtml* file.</span></span> <span data-ttu-id="48709-148">Ten plik jest nazywany *układ strony* i jest udostępniony "powłoka" używanego w innych stron.</span><span class="sxs-lookup"><span data-stu-id="48709-148">This file is called a *layout page* and it's the shared "shell" that all other pages use.</span></span>

<span data-ttu-id="48709-149">[![_LayoutCshtml](adding-a-view/_static/image8.png)](adding-a-view/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="48709-149">[![_LayoutCshtml](adding-a-view/_static/image8.png)](adding-a-view/_static/image7.png)</span></span>

<span data-ttu-id="48709-150">Szablony układu umożliwiają określ układ kontenera HTML witryny w jednym miejscu, a następnie zastosować je na wielu stronach w witrynie sieci.</span><span class="sxs-lookup"><span data-stu-id="48709-150">Layout templates allow you to specify the HTML container layout of your site in one place and then apply it across multiple pages in your site.</span></span> <span data-ttu-id="48709-151">Uwaga `@RenderBody()` wiersza w dolnej części pliku.</span><span class="sxs-lookup"><span data-stu-id="48709-151">Note the `@RenderBody()` line near the bottom of the file.</span></span> <span data-ttu-id="48709-152">`RenderBody` jest to symbol zastępczy, gdzie wszystkich stron tworzonych w specyficznych dla widoku wyświetlane, "zawinięty", strony układu.</span><span class="sxs-lookup"><span data-stu-id="48709-152">`RenderBody` is a placeholder where all the view-specific pages you create show up, "wrapped" in the layout page.</span></span> <span data-ttu-id="48709-153">Zmiana pozycji tytułu w szablon układu z "Moja aplikacja MVC" do "MVC Movie App".</span><span class="sxs-lookup"><span data-stu-id="48709-153">Change the title heading in the layout template from "My MVC Application" to "MVC Movie App".</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample3.cshtml)]

<span data-ttu-id="48709-154">Uruchom aplikację i zwróć uwagę, że teraz wyświetlany jest tekst "MVC Movie App".</span><span class="sxs-lookup"><span data-stu-id="48709-154">Run the application and notice that it now says "MVC Movie App".</span></span> <span data-ttu-id="48709-155">Kliknij przycisk **o** łącza i zostanie wyświetlony, jak ta strona zawiera "MVC Movie App" zbyt.</span><span class="sxs-lookup"><span data-stu-id="48709-155">Click the **About** link, and you see how that page shows "MVC Movie App", too.</span></span> <span data-ttu-id="48709-156">Udało się zmienić raz w szablonie układ i mieć wszystkich stron w witrynie uwzględniać nowy tytuł.</span><span class="sxs-lookup"><span data-stu-id="48709-156">We were able to make the change once in the layout template and have all pages on the site reflect the new title.</span></span>

![](adding-a-view/_static/image9.png)

<span data-ttu-id="48709-157">Pełną  *\_Layout.cshtml* pliku przedstawiono poniżej:</span><span class="sxs-lookup"><span data-stu-id="48709-157">The complete *\_Layout.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample4.cshtml)]

<span data-ttu-id="48709-158">Teraz Zmieńmy tytuł strony indeksu (Widok).</span><span class="sxs-lookup"><span data-stu-id="48709-158">Now, let's change the title of the Index page (view).</span></span>

<span data-ttu-id="48709-159">Otwórz *MvcMovie\Views\HelloWorld\Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="48709-159">Open *MvcMovie\Views\HelloWorld\Index.cshtml*.</span></span> <span data-ttu-id="48709-160">Istnieją dwa miejsca do dokonania zmiany: najpierw tekst wyświetlany w tytule przeglądarki, a następnie w nagłówku dodatkowej ( `<h2>` elementu).</span><span class="sxs-lookup"><span data-stu-id="48709-160">There are two places to make a change: first, the text that appears in the title of the browser, and then in the secondary header (the `<h2>` element).</span></span> <span data-ttu-id="48709-161">Należy podjąć ich nieco inne pozwala zobaczyć, które fragmentem kodu zmienia której części aplikacji.</span><span class="sxs-lookup"><span data-stu-id="48709-161">You'll make them slightly different so you can see which bit of code changes which part of the app.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample5.cshtml)]

<span data-ttu-id="48709-162">Aby wskazać tytuł HTML, aby wyświetlić kod nad zestawy `Title` właściwość `ViewBag` obiektu (w *Index.cshtml* wyświetlanie szablonu).</span><span class="sxs-lookup"><span data-stu-id="48709-162">To indicate the HTML title to display, the code above sets a `Title` property of the `ViewBag` object (which is in the *Index.cshtml* view template).</span></span> <span data-ttu-id="48709-163">Jeśli przyjrzymy się ponownie kod źródłowy szablon układu, można zauważyć, że szablon używa tej wartości w `<title>` element jako część `<head>` sekcji kodu HTML.</span><span class="sxs-lookup"><span data-stu-id="48709-163">If you look back at the source code of the layout template, you'll notice that the template uses this value in the `<title>` element as part of the `<head>` section of the HTML.</span></span> <span data-ttu-id="48709-164">W ten sposób można łatwo przekazywania innych parametrów między widok szablonu i pliku układu.</span><span class="sxs-lookup"><span data-stu-id="48709-164">Using this approach, you can easily pass other parameters between your view template and your layout file.</span></span>

<span data-ttu-id="48709-165">Uruchom aplikację i przejdź do `http://localhost:xx/HelloWorld`.</span><span class="sxs-lookup"><span data-stu-id="48709-165">Run the application and browse to `http://localhost:xx/HelloWorld`.</span></span> <span data-ttu-id="48709-166">Należy zauważyć, że tytuł przeglądarki, nagłówek głównej i dodatkowej nagłówki zostały zmienione.</span><span class="sxs-lookup"><span data-stu-id="48709-166">Notice that the browser title, the primary heading, and the secondary headings have changed.</span></span> <span data-ttu-id="48709-167">(Jeśli nie widzisz zmian w przeglądarce, użytkownik może mieć możliwość wyświetlania zawartości w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="48709-167">(If you don't see changes in the browser, you might be viewing cached content.</span></span> <span data-ttu-id="48709-168">Naciśnij klawisz Ctrl + F5 w przeglądarce, aby wymusić odpowiedzi z serwera do załadowania.)</span><span class="sxs-lookup"><span data-stu-id="48709-168">Press Ctrl+F5 in your browser to force the response from the server to be loaded.)</span></span>

<span data-ttu-id="48709-169">Należy również zauważyć, jak zawartości w *Index.cshtml* Wyświetl szablon został scalony z  *\_Layout.cshtml* szablon widoku i pojedynczą odpowiedź HTML był wysyłany do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="48709-169">Also notice how the content in the *Index.cshtml* view template was merged with the *\_Layout.cshtml* view template and a single HTML response was sent to the browser.</span></span> <span data-ttu-id="48709-170">Szablony układu ułatwiają naprawdę wprowadzić zmiany, które są stosowane dla wszystkich stron w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="48709-170">Layout templates make it really easy to make changes that apply across all of the pages in your application.</span></span>

![](adding-a-view/_static/image10.png)

<span data-ttu-id="48709-171">Nasze niewielki "data" (w tym przypadku "Hello z naszych szablonu widoku!"</span><span class="sxs-lookup"><span data-stu-id="48709-171">Our little bit of "data" (in this case the "Hello from our View Template!"</span></span> <span data-ttu-id="48709-172">komunikat) jest ustalony, mimo że.</span><span class="sxs-lookup"><span data-stu-id="48709-172">message) is hard-coded, though.</span></span> <span data-ttu-id="48709-173">Aplikacji MVC ma "V" (Widok) i masz "C" (kontroler), ale nie "M" (model) jeszcze.</span><span class="sxs-lookup"><span data-stu-id="48709-173">The MVC application has a "V" (view) and you've got a "C" (controller), but no "M" (model) yet.</span></span> <span data-ttu-id="48709-174">Wkrótce, zostanie omówiony sposób utworzyć bazę danych i pobrać modelu danych.</span><span class="sxs-lookup"><span data-stu-id="48709-174">Shortly, we'll walk through how create a database and retrieve model data from it.</span></span>

## <a name="passing-data-from-the-controller-to-the-view"></a><span data-ttu-id="48709-175">Przekazywanie danych z kontrolera do widoku</span><span class="sxs-lookup"><span data-stu-id="48709-175">Passing Data from the Controller to the View</span></span>

<span data-ttu-id="48709-176">Przed możemy przejdź do bazy danych i porozmawiać na temat modeli, umożliwia najpierw porozmawiać na temat przekazywania informacji z kontrolera do widoku.</span><span class="sxs-lookup"><span data-stu-id="48709-176">Before we go to a database and talk about models, though, let's first talk about passing information from the controller to a view.</span></span> <span data-ttu-id="48709-177">Klasy kontrolera są wywoływane w odpowiedzi na żądania przychodzącego adresu URL.</span><span class="sxs-lookup"><span data-stu-id="48709-177">Controller classes are invoked in response to an incoming URL request.</span></span> <span data-ttu-id="48709-178">Klasa kontrolera jest, gdzie napisać kod, który obsługuje przychodzące parametry, pobiera dane z bazy danych i ostatecznie decyduje o tym, jakiego rodzaju odpowiedzi do odesłania do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="48709-178">A controller class is where you write the code that handles the incoming parameters, retrieves data from a database, and ultimately decides what type of response to send back to the browser.</span></span> <span data-ttu-id="48709-179">Wyświetl szablony mogą następnie używane z kontrolera do generowania i format odpowiedzi HTML do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="48709-179">View templates can then be used from a controller to generate and format an HTML response to the browser.</span></span>

<span data-ttu-id="48709-180">Kontrolery spoczywa odpowiedzialność za zapewnienie, niezależnie od danych lub obiekty są wymagane dla szablonu widoku do renderowania odpowiedzi do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="48709-180">Controllers are responsible for providing whatever data or objects are required in order for a view template to render a response to the browser.</span></span> <span data-ttu-id="48709-181">Szablon widoku nigdy nie należy przeprowadzić logiki biznesowej lub bezpośredniej interakcji z bazą danych.</span><span class="sxs-lookup"><span data-stu-id="48709-181">A view template should never perform business logic or interact with a database directly.</span></span> <span data-ttu-id="48709-182">Zamiast tego powinny działać tylko z danymi, które jest podany przez kontroler.</span><span class="sxs-lookup"><span data-stu-id="48709-182">Instead, it should work only with the data that's provided to it by the controller.</span></span> <span data-ttu-id="48709-183">Obsługa tego "separacji" zwiększają kod czysty i łatwiejsze do utrzymania.</span><span class="sxs-lookup"><span data-stu-id="48709-183">Maintaining this "separation of concerns" helps keep your code clean and more maintainable.</span></span>

<span data-ttu-id="48709-184">Obecnie `Welcome` metody akcji w `HelloWorldController` klasy przyjmuje `name` i `numTimes` parametr, a następnie dane wyjściowe wartości bezpośrednio do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="48709-184">Currently, the `Welcome` action method in the `HelloWorldController` class takes a `name` and a `numTimes` parameter and then outputs the values directly to the browser.</span></span> <span data-ttu-id="48709-185">Zamiast renderowania tej odpowiedzi jako ciąg kontrolera, umożliwia zmianę kontrolera zamiast tego użyć szablonu widoku.</span><span class="sxs-lookup"><span data-stu-id="48709-185">Rather than have the controller render this response as a string, let's change the controller to use a view template instead.</span></span> <span data-ttu-id="48709-186">Szablon widoku wygeneruje odpowiedzi dynamicznych, co oznacza, że trzeba przekazać odpowiednich bitów danych z kontrolera do widoku w celu wygenerowania odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="48709-186">The view template will generate a dynamic response, which means that you need to pass appropriate bits of data from the controller to the view in order to generate the response.</span></span> <span data-ttu-id="48709-187">Można to zrobić przez kontroler umieszczanie danych dynamicznych, które wymaga Wyświetl szablon o `ViewBag` obiekt, który szablon widoku można następnie uzyskać dostęp.</span><span class="sxs-lookup"><span data-stu-id="48709-187">You can do this by having the controller put the dynamic data that the view template needs in a `ViewBag` object that the view template can then access.</span></span>

<span data-ttu-id="48709-188">Wróć do *HelloWorldController.cs* plików i zmień `Welcome` metody w celu dodania `Message` i `NumTimes` do wartości `ViewBag` obiektu.</span><span class="sxs-lookup"><span data-stu-id="48709-188">Return to the *HelloWorldController.cs* file and change the `Welcome` method to add a `Message` and `NumTimes` value to the `ViewBag` object.</span></span> <span data-ttu-id="48709-189">`ViewBag` jest to obiekt dynamiczny, co oznacza, że możesz umieścić dowolne `ViewBag` obiekt nie ma zdefiniowanej właściwości dopóki coś wewnątrz put.</span><span class="sxs-lookup"><span data-stu-id="48709-189">`ViewBag` is a dynamic object, which means you can put whatever you want in to it; the `ViewBag` object has no defined properties until you put something inside it.</span></span> <span data-ttu-id="48709-190">Pełną *HelloWorldController.cs* pliku wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="48709-190">The complete *HelloWorldController.cs* file looks like this:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample6.cs)]

<span data-ttu-id="48709-191">Teraz `ViewBag` obiekt zawiera dane, które będą automatycznie przekazywane do widoku.</span><span class="sxs-lookup"><span data-stu-id="48709-191">Now the `ViewBag` object contains data that will be passed to the view automatically.</span></span>

<span data-ttu-id="48709-192">Następnie należy szablonu widoku Zapraszamy!</span><span class="sxs-lookup"><span data-stu-id="48709-192">Next, you need a Welcome view template!</span></span> <span data-ttu-id="48709-193">W **debugowania** menu, wybierz opcję **kompilacji MvcMovie** się upewnić, że projekt jest kompilowany.</span><span class="sxs-lookup"><span data-stu-id="48709-193">In the **Debug** menu, select **Build MvcMovie** to make sure the project is compiled.</span></span>

<span data-ttu-id="48709-194">[![BuildHelloWorld](adding-a-view/_static/image12.png)](adding-a-view/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="48709-194">[![BuildHelloWorld](adding-a-view/_static/image12.png)](adding-a-view/_static/image11.png)</span></span>

<span data-ttu-id="48709-195">Kliknij prawym przyciskiem myszy wewnątrz `Welcome` — metoda i kliknij przycisk **Dodaj widok**.</span><span class="sxs-lookup"><span data-stu-id="48709-195">Then right-click inside the `Welcome` method and click **Add View**.</span></span> <span data-ttu-id="48709-196">Oto, co **Dodaj widok** okno dialogowe wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="48709-196">Here's what the **Add View** dialog box looks like:</span></span>

![](adding-a-view/_static/image13.png)

<span data-ttu-id="48709-197">Kliknij przycisk **Dodaj**, a następnie dodaj następujący kod w obszarze `<h2>` elementu w nowym *Welcome.cshtml* pliku.</span><span class="sxs-lookup"><span data-stu-id="48709-197">Click **Add**, and then add the following code under the `<h2>` element in the new *Welcome.cshtml* file.</span></span> <span data-ttu-id="48709-198">Utworzysz pętli, które mówi "tekst Hello" dowolną liczbę razy, ile użytkownik wyświetla informację, że powinien on.</span><span class="sxs-lookup"><span data-stu-id="48709-198">You'll create a loop that says "Hello" as many times as the user says it should.</span></span> <span data-ttu-id="48709-199">Pełną *Welcome.cshtml* plików są wyświetlane poniżej.</span><span class="sxs-lookup"><span data-stu-id="48709-199">The complete *Welcome.cshtml* file is shown below.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample7.cshtml)]

<span data-ttu-id="48709-200">Uruchom aplikację, a następnie przejdź do następującego adresu URL:</span><span class="sxs-lookup"><span data-stu-id="48709-200">Run the application and browse to the following URL:</span></span>

`http://localhost:xx/HelloWorld/Welcome?name=Scott&numtimes=4`

<span data-ttu-id="48709-201">Obecnie dane są pobierane z adresu URL i automatycznie przekazywane do kontrolera.</span><span class="sxs-lookup"><span data-stu-id="48709-201">Now data is taken from the URL and passed to the controller automatically.</span></span> <span data-ttu-id="48709-202">Kontroler pakiety danych w `ViewBag` obiekt i przekazuje, które obiekt do widoku.</span><span class="sxs-lookup"><span data-stu-id="48709-202">The controller packages the data into a `ViewBag` object and passes that object to the view.</span></span> <span data-ttu-id="48709-203">Widok następnie wyświetla dane jako kodu HTML dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="48709-203">The view then displays the data as HTML to the user.</span></span>

![](adding-a-view/_static/image14.png)

<span data-ttu-id="48709-204">Dobrze, która jest typu "M" dla modelu, ale nie rodzaj bazy danych.</span><span class="sxs-lookup"><span data-stu-id="48709-204">Well, that was a kind of an "M" for model, but not the database kind.</span></span> <span data-ttu-id="48709-205">Przyjrzyjmy się, co możemy samouczka jest i utworzyć bazę danych filmów.</span><span class="sxs-lookup"><span data-stu-id="48709-205">Let's take what we've learned and create a database of movies.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="48709-206">[Poprzednie](adding-a-controller.md)
> [dalej](adding-a-model.md)</span><span class="sxs-lookup"><span data-stu-id="48709-206">[Previous](adding-a-controller.md)
[Next](adding-a-model.md)</span></span>
