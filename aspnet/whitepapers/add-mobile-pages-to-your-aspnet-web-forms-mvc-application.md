---
uid: whitepapers/add-mobile-pages-to-your-aspnet-web-forms-mvc-application
title: "Porady: Dodawanie stron dla urządzeń przenośnych do formularzy sieci Web ASP.NET / aplikacji MVC | Dokumentacja firmy Microsoft"
author: rick-anderson
description: "Ten sposób można opisano różne sposoby do obsługi stron zoptymalizowane dla urządzeń przenośnych z formularzy sieci Web ASP.NET / aplikacji MVC, a także sugeruje architektury i..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/20/2011
ms.topic: article
ms.assetid: 3124f28e-cc32-418a-afe3-519fa56f4c36
ms.technology: 
ms.prod: .net-framework
msc.legacyurl: /whitepapers/add-mobile-pages-to-your-aspnet-web-forms-mvc-application
msc.type: content
ms.openlocfilehash: c7d893fb9633aaa8628f2f46a8db7f2c09f81830
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/10/2017
---
<a name="how-to-add-mobile-pages-to-your-aspnet-web-forms--mvc-application"></a><span data-ttu-id="2d5d3-103">Porady: Dodawanie stron dla urządzeń przenośnych do formularzy sieci Web ASP.NET / aplikacji MVC</span><span class="sxs-lookup"><span data-stu-id="2d5d3-103">How To: Add Mobile Pages to Your ASP.NET Web Forms / MVC Application</span></span>
====================
> <span data-ttu-id="2d5d3-104">**Dotyczy**</span><span class="sxs-lookup"><span data-stu-id="2d5d3-104">**Applies To**</span></span>
> 
> - <span data-ttu-id="2d5d3-105">Formularze sieci Web ASP.NET w wersji 4.0</span><span class="sxs-lookup"><span data-stu-id="2d5d3-105">ASP.NET Web Forms version 4.0</span></span>
> - <span data-ttu-id="2d5d3-106">ASP.NET MVC w wersji 3.0</span><span class="sxs-lookup"><span data-stu-id="2d5d3-106">ASP.NET MVC version 3.0</span></span>
> 
> <span data-ttu-id="2d5d3-107">**Podsumowanie**</span><span class="sxs-lookup"><span data-stu-id="2d5d3-107">**Summary**</span></span>
> 
> <span data-ttu-id="2d5d3-108">Ten sposób można opisano różne sposoby do obsługi stron zoptymalizowane dla urządzeń przenośnych z formularzy sieci Web ASP.NET / aplikacji MVC i sugeruje architektury i projektu zagadnień, które należy wziąć pod uwagę podczas określania wartości docelowej dla wielu urządzeń.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-108">This How To describes various ways to serve pages optimized for mobile devices from your ASP.NET Web Forms / MVC application, and suggests architectural and design issues to consider when targeting a broad range of devices.</span></span> <span data-ttu-id="2d5d3-109">W tym dokumencie opisano również Dlaczego formantów przenośnych ASP.NET z programu ASP.NET 2.0 3.5 są teraz przestarzałe i omówiono niektóre nowoczesnych rozwiązań alternatywnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-109">This document also explains why the ASP.NET Mobile Controls from ASP.NET 2.0 to 3.5 are now obsolete, and discusses some modern alternatives.</span></span>


## <a name="contents"></a><span data-ttu-id="2d5d3-110">Spis treści</span><span class="sxs-lookup"><span data-stu-id="2d5d3-110">Contents</span></span>

- <span data-ttu-id="2d5d3-111">Omówienie</span><span class="sxs-lookup"><span data-stu-id="2d5d3-111">Overview</span></span>
- <span data-ttu-id="2d5d3-112">Opcje architektury</span><span class="sxs-lookup"><span data-stu-id="2d5d3-112">Architectural options</span></span>
- <span data-ttu-id="2d5d3-113">Wykrywanie przeglądarki i urządzenia</span><span class="sxs-lookup"><span data-stu-id="2d5d3-113">Browser and device detection</span></span>
- <span data-ttu-id="2d5d3-114">Jak aplikacji formularzy sieci Web programu ASP.NET może ona powodować problemy specyficzne dla mobilnych stron</span><span class="sxs-lookup"><span data-stu-id="2d5d3-114">How ASP.NET Web Forms applications can present mobile-specific pages</span></span>
- <span data-ttu-id="2d5d3-115">Jak aplikacje programu ASP.NET MVC może ona powodować problemy specyficzne dla mobilnych stron</span><span class="sxs-lookup"><span data-stu-id="2d5d3-115">How ASP.NET MVC applications can present mobile-specific pages</span></span>
- <span data-ttu-id="2d5d3-116">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="2d5d3-116">Additional resources</span></span>

<span data-ttu-id="2d5d3-117">Aby uzyskać przykłady kodu do pobrania prezentacja techniki to oficjalny dokument dla platformy MVC i formularzy sieci Web ASP.NET, zobacz [Mobile Apps & witryny ASP.NET](https://docs.microsoft.com/aspnet/mobile/overview).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-117">For downloadable code samples demonstrating this white paper's techniques for both ASP.NET Web Forms and MVC, see [Mobile Apps & Sites with ASP.NET](https://docs.microsoft.com/aspnet/mobile/overview).</span></span>

## <a name="overview"></a><span data-ttu-id="2d5d3-118">Omówienie</span><span class="sxs-lookup"><span data-stu-id="2d5d3-118">Overview</span></span>

<span data-ttu-id="2d5d3-119">Urządzenia przenośne — smartfonów, funkcja telefony i tablety — nadal zwiększa się popularne w celu dostępu do sieci Web.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-119">Mobile devices – smartphones, feature phones, and tablets – continue to grow in popularity as a means to access the Web.</span></span> <span data-ttu-id="2d5d3-120">Dla wielu deweloperów sieci web i zorientowane na sieci web firmy oznacza to, że jest coraz bardziej ważne zapewnić doskonałe środowisko przeglądania sieci Web dla użytkowników używających tych urządzeń.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-120">For many web developers and web-oriented businesses, this means it's increasingly important to provide a great browsing experience for visitors using those devices.</span></span>

### <a name="how-earlier-versions-of-aspnet-supported-mobile-browsers"></a><span data-ttu-id="2d5d3-121">Jak w starszych wersjach programu ASP.NET obsługiwane przeglądarki dla urządzeń przenośnych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-121">How earlier versions of ASP.NET supported mobile browsers</span></span>

<span data-ttu-id="2d5d3-122">Wersje programu ASP.NET 2.0 do 3.5 uwzględnione *formantów przenośnych ASP.NET*: zestaw kontrolek serwera dla urządzeń przenośnych w *System.Web.Mobile.dll* zestawu i  *System.Web.UI.MobileControls* przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-122">ASP.NET versions 2.0 to 3.5 included *ASP.NET Mobile Controls*: a set of server controls for mobile devices in the *System.Web.Mobile.dll* assembly and the *System.Web.UI.MobileControls* namespace.</span></span> <span data-ttu-id="2d5d3-123">Zestaw jest dostępny w ASP.NET 4, ale jest przestarzały.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-123">The assembly is still included in ASP.NET 4, but it is deprecated.</span></span> <span data-ttu-id="2d5d3-124">Deweloperzy zalecana jest migracja do bardziej nowoczesnych metod, takich jak opisane w tym dokumencie.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-124">Developers are advised to migrate to more modern approaches, such as those described in this paper.</span></span>

<span data-ttu-id="2d5d3-125">Dlaczego formantów przenośnych ASP.NET została oznaczona jako przestarzała dzieje się tak aby ich projektu jest ukierunkowane wokół telefonów komórkowych, które zostały wspólnej wokół 2005 i wcześniejszych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-125">The reason why ASP.NET Mobile Controls have been marked as obsolete is that their design is oriented around the mobile phones that were common around 2005 and earlier.</span></span> <span data-ttu-id="2d5d3-126">Formanty głównie są przeznaczone do renderowania kodu znaczników WML lub cHTML (zamiast regularne HTML) w przypadku przeglądarek WAP z tym ery.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-126">The controls are mainly designed to render WML or cHTML markup (instead of regular HTML) for the WAP browsers of that era.</span></span> <span data-ttu-id="2d5d3-127">Ale WAP, WML i cHTML nie są już odpowiednie dla większości projektów, ponieważ HTML stał się teraz język znaczników powszechny dla mobilnych i klasycznych przeglądarki podobne.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-127">But WAP, WML, and cHTML are no longer relevant for most projects, because HTML has now become the ubiquitous markup language for mobile and desktop browsers alike.</span></span>

### <a name="the-challenges-of-supporting-mobile-devices-today"></a><span data-ttu-id="2d5d3-128">Wyzwania dzisiaj obsługi urządzeń przenośnych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-128">The challenges of supporting mobile devices today</span></span>

<span data-ttu-id="2d5d3-129">Mimo że przeglądarki dla urządzeń przenośnych powszechnie obsługują teraz HTML, nadal będą występować wiele wyzwań, jeżeli celem tworzenia niezwykłych przenośnych przeglądania środowiska:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-129">Even though mobile browsers now almost universally support HTML, you will still face many challenges when aiming to create great mobile browsing experiences:</span></span>

- <span data-ttu-id="2d5d3-130">***Rozmiar ekranu*** — urządzeń przenośnych różnią się znacznie w formularzu, a ich ekrany są często znacznie mniejszy niż monitory pulpitu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-130">***Screen size*** - Mobile devices vary dramatically in form, and their screens are often much smaller than desktop monitors.</span></span> <span data-ttu-id="2d5d3-131">Tak należy zaprojektować układ strony w dwóch zupełnie różnych dla nich.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-131">So, you may need to design completely different page layouts for them.</span></span>
- <span data-ttu-id="2d5d3-132">***Dane wejściowe metody*** — niektóre urządzenia klawiatury, niektóre mają styluses, inne użyć touch.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-132">***Input methods*** – Some devices have keypads, some have styluses, others use touch.</span></span> <span data-ttu-id="2d5d3-133">Konieczne może być należy wziąć pod uwagę nawigacji wiele mechanizmów metody i danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-133">You may need to consider multiple navigation mechanisms and data input methods.</span></span>
- <span data-ttu-id="2d5d3-134">***Zgodność ze standardami*** — wiele przeglądarek urządzeń przenośnych nie obsługują najnowszych standardów HTML, CSS i JavaScript.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-134">***Standards compliance*** – Many mobile browsers do not support the latest HTML, CSS, or JavaScript standards.</span></span>
- <span data-ttu-id="2d5d3-135">***Przepustowość*** — wydajność sieci danych komórkowych zmienia się bardzo i niektórych użytkowników końcowych znajdują się na taryfy, które naliczają opłaty za megabajtów.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-135">***Bandwidth*** – Cellular data network performance varies wildly, and some end users are on tariffs that charge by the megabyte.</span></span>

<span data-ttu-id="2d5d3-136">Istnieje rozwiązanie pasującego; aplikacja będzie musiał wyglądać i zachowywać się inaczej w zależności od urządzenia uzyskują do niej dostęp.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-136">There's no one-size-fits-all solution; your application will have to look and behave differently according to the device accessing it.</span></span> <span data-ttu-id="2d5d3-137">W zależności od tego, jakiego poziomu wsparcia przenośnych, należy to być większe wyzwanie dla deweloperów sieci web niż kiedykolwiek było pulpitu "związany z konfliktami przeglądarki".</span><span class="sxs-lookup"><span data-stu-id="2d5d3-137">Depending on what level of mobile support you want, this can be a bigger challenge for web developers than the desktop "browser wars" ever was.</span></span>

<span data-ttu-id="2d5d3-138">Deweloperzy zbliża się przeglądarkę dla telefonów pomocy technicznej, po raz pierwszy często początkowo wydaje się, że należy tylko do obsługi smartfonów najnowsze i najbardziej rozbudowane (np. Windows Phone 7, iPhone lub Android), prawdopodobnie ponieważ takie właścicielem często osobiście deweloperów urządzenia.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-138">Developers approaching mobile browser support for the first time often initially think it's only important to support the latest and most sophisticated smartphones (e.g., Windows Phone 7, iPhone, or Android), perhaps because developers often personally own such devices.</span></span> <span data-ttu-id="2d5d3-139">Jednak tańsze telefony nadal są bardzo popularna, a właścicieli używać ich do przeglądania sieci web — szczególnie w krajach, w których ułatwiające wydobycie niż połączenie szerokopasmowe telefonów komórkowych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-139">However, cheaper phones are still extremely popular, and their owners do use them to browse the web – especially in countries where mobile phones are easier to get than a broadband connection.</span></span> <span data-ttu-id="2d5d3-140">Należy wybrać zakres urządzeń do obsługi przy uwzględnieniu jego prawdopodobnie klientów firmy.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-140">Your business will need to decide what range of devices to support by considering its likely customers.</span></span> <span data-ttu-id="2d5d3-141">Jeśli tworzysz online innej spa kondycji możliwość zaprojektowania kątem zabezpieczeń może być decyzji biznesowych celem zaawansowane smartfonów, natomiast jeśli tworzysz ticket system rezerwacji kinowych prawdopodobnie należy uwzględnić dla użytkowników zewnętrznych z funkcją słabszy telefony.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-141">If you're building an online brochure for a luxury health spa, you might make a business decision only to target advanced smartphones, whereas if you're creating a ticket booking system for a cinema, you probably need to account for visitors with less powerful feature phones.</span></span>

## <a name="architectural-options"></a><span data-ttu-id="2d5d3-142">Opcje architektury</span><span class="sxs-lookup"><span data-stu-id="2d5d3-142">Architectural options</span></span>

<span data-ttu-id="2d5d3-143">Przed uzyskujemy do szczegółowych informacji technicznych formularzy sieci Web ASP.NET lub MVC, należy zauważyć, że Deweloperzy sieci web zwykle trzy główne sposoby, aby obsługa przeglądarek urządzeń przenośnych:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-143">Before we get to the specific technical details of ASP.NET Web Forms or MVC, note that web developers in general have three main possible options for supporting mobile browsers:</span></span>

1. <span data-ttu-id="2d5d3-144">***Nic nie rób —*** można po prostu utworzyć aplikacji sieci web standardowe, zorientowane na pulpicie i zależne od przeglądarki dla urządzeń przenośnych do renderowania on prawidłowo.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-144">***Do nothing –*** You can simply create a standard, desktop-oriented web application, and rely on mobile browsers to render it acceptably.</span></span> 

    - <span data-ttu-id="2d5d3-145">**Zaletą**: jest najtańszej opcji wdrożenia i obsługa — bez żadnych dodatkowych pracy</span><span class="sxs-lookup"><span data-stu-id="2d5d3-145">**Advantage**: It's the cheapest option to implement and maintain – no extra work</span></span>
    - <span data-ttu-id="2d5d3-146">**Wadą**: zapewnia najgorszy środowisko użytkownika końcowego:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-146">**Disadvantage**: Gives the worst end-user experience:</span></span> 

        - <span data-ttu-id="2d5d3-147">Najnowsze smartfonów może spowodować HTML równie dobrze jako przeglądarka pulpitu, ale użytkownicy nadal będą zmuszeni do powiększania i przewijania w poziomie i w pionie do korzystania z zawartości na małego ekranu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-147">The latest smartphones may render your HTML just as well as a desktop browser, but users will still be forced to zoom and scroll horizontally and vertically to consume your content on a small screen.</span></span> <span data-ttu-id="2d5d3-148">Jest to daleko od optymalne.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-148">This is far from optimal.</span></span>
        - <span data-ttu-id="2d5d3-149">Starsze urządzenia i telefony funkcja może zakończyć się niepowodzeniem do renderowania z kodu znaczników w zadowalający sposób.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-149">Older devices and feature phones may fail to render your markup in a satisfactory way.</span></span>
        - <span data-ttu-id="2d5d3-150">Nawet w przypadku najnowszej urządzenia typu tablet (których ekranach może być tak duży jak ekranów komputerów przenośnych) mają zastosowanie różne interakcji reguły.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-150">Even on the latest tablet devices (whose screens can be as big as laptop screens), different interaction rules apply.</span></span> <span data-ttu-id="2d5d3-151">Touch na podstawie danych wejściowych działa najlepiej z przyciskami większych i łączy rozpowszechniania dalsze od siebie, a nie istnieje sposób na wskaźnik myszy nad menu wysuwanego.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-151">Touch-based input works best with larger buttons and links spread further apart, and there's no way to hover a mouse cursor over a fly-out menu.</span></span>
2. <span data-ttu-id="2d5d3-152">***Rozwiązuje problem, na kliencie* —** z użyciem dokładne CSS i [stopniowym rozszerzaniu](http://en.wikipedia.org/wiki/Progressive_enhancement) można utworzyć kod znaczników, style i skrypty dostosowania do dowolnej przeglądarki zostały uruchomione.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-152">***Solve the problem on the client* –** With careful use of CSS and [progressive enhancement](http://en.wikipedia.org/wiki/Progressive_enhancement) you can create markup, styles, and scripts that adapt to whatever browser is running them.</span></span> <span data-ttu-id="2d5d3-153">Na przykład z [zapytaniami multimediów CSS 3](http://www.w3.org/TR/2010/CR-css3-mediaqueries-20100727/), można utworzyć układ wielokolumnowego zmieni się w układzie pojedynczej kolumny na urządzeniach, na których ekrany są węższe niż wybrany próg.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-153">For example, with [CSS 3 media queries](http://www.w3.org/TR/2010/CR-css3-mediaqueries-20100727/), you could create a multi-column layout that turns into a single column layout on devices whose screens are narrower than a chosen threshold.</span></span> 

    - <span data-ttu-id="2d5d3-154">**Zaletą**: optymalizuje renderowania dla konkretnego urządzenia w użyciu, nawet w przypadku nieznany przyszłych urządzeń zgodnie z dowolnego ekranu i właściwości wejściowe mają</span><span class="sxs-lookup"><span data-stu-id="2d5d3-154">**Advantage**: Optimizes rendering for the specific device in use, even for unknown future devices according to whatever screen and input characteristics they have</span></span>
    - <span data-ttu-id="2d5d3-155">**Zaletą**: pozwala łatwo udostępniać logiki po stronie serwera wszystkich typów urządzeń — minimalnego dublowania kodu lub nakładu pracy</span><span class="sxs-lookup"><span data-stu-id="2d5d3-155">**Advantage**: Easily lets you share server-side logic across all device types – minimal duplication of code or effort</span></span>
    - <span data-ttu-id="2d5d3-156">**Wadą**: urządzenia przenośne tak różnią się od urządzeń komputerowych może pewno chcesz stronach przenośnych całkowicie różni się od strony pulpitu przedstawiający różne informacje.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-156">**Disadvantage**: Mobile devices are so different from desktop devices that you may really want your mobile pages to be completely different from your desktop pages, showing different information.</span></span> <span data-ttu-id="2d5d3-157">Te różnice mogą być mało wydajne i niemożliwe do osiągnięcia niezawodnie za pośrednictwem CSS samodzielnie, szczególnie biorąc pod uwagę sposób niespójnie starszych urządzeń interpretowania reguły CSS.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-157">Such variations can be inefficient or impossible to achieve robustly through CSS alone, especially considering how inconsistently older devices interpret CSS rules.</span></span> <span data-ttu-id="2d5d3-158">Jest to szczególnie istotne atrybutów CSS 3.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-158">This is particularly true of CSS 3 attributes.</span></span>
    - <span data-ttu-id="2d5d3-159">**Wadą**: nie zapewnia obsługi dla różnych logikę po stronie serwera i przepływy pracy dla różnych urządzeń.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-159">**Disadvantage**: Provides no support for varying server-side logic and workflows for different devices.</span></span> <span data-ttu-id="2d5d3-160">Nie można na przykład wprowadzić uproszczony zakupów koszyka wyewidencjonowania przepływu pracy dla użytkowników urządzeń przenośnych za pomocą samodzielnie CSS.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-160">You can't, for example, implement a simplified shopping cart checkout workflow for mobile users by means of CSS alone.</span></span>
    - <span data-ttu-id="2d5d3-161">**Wadą**: wykorzystanie przepustowości nieefektywne.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-161">**Disadvantage**: Inefficient bandwidth use.</span></span> <span data-ttu-id="2d5d3-162">Serwer może być przesyłać znaczniki i style, które są stosowane do wszystkich możliwych urządzeń, nawet jeśli urządzenie będzie używać tylko podzbiór tych informacji.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-162">You server may have to transmit the markup and styles that apply to all possible devices, even though the target device will only use a subset of that information.</span></span>
3. <span data-ttu-id="2d5d3-163">***Rozwiązuje problem na serwerze* —** Jeśli serwer wie, jakiego urządzenia jest dostępu do niego — lub w co najmniej właściwości danego urządzenia, takie jak jego rozmiaru ekranu i Metoda wejściowa i czy jest to urządzenie przenośne — można je uruchomić inny logiki i dane wyjściowe różny kod znaczników HTML.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-163">***Solve the problem on the server* –** If your server knows what device is accessing it – or at least the characteristics of that device, such as its screen size and input method, and whether it's a mobile device – it can run different logic and output different HTML markup.</span></span> 

    - <span data-ttu-id="2d5d3-164">**Zaleta:** maksymalną elastyczność.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-164">**Advantage:** Maximum flexibility.</span></span> <span data-ttu-id="2d5d3-165">Nie ma żadnego limitu ilości różnią się logiki po stronie serwera dla przenośne lub zoptymalizować z kodu znaczników dla układu żądaną, specyficzne dla urządzenia.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-165">There's no limit to how much you can vary your server-side logic for mobiles or optimize your markup for the desired, device-specific layout.</span></span>
    - <span data-ttu-id="2d5d3-166">**Zaleta:** wykorzystanie wydajnych przepustowości.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-166">**Advantage:** Efficient bandwidth use.</span></span> <span data-ttu-id="2d5d3-167">Należy przesyłać znaczniki i elementy docelowe urządzenie będzie używać.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-167">You only need to transmit the markup and styling information that the target device is going to use.</span></span>
    - <span data-ttu-id="2d5d3-168">**Wadą:** czasami wymusza powtarzania nakładu pracy lub kodu (np., co możesz utworzyć podobne, lecz nieco inne kopii stron formularzy sieci Web lub widoków MVC).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-168">**Disadvantage:** Sometimes forces repetition of effort or code (e.g., making you create similar but slightly different copies of your Web Forms pages or MVC views).</span></span> <span data-ttu-id="2d5d3-169">Gdzie to możliwe, którego można będzie uwzględnić limitu wspólnej logiki warstwy podstawowej lub usługi, ale nadal, niektóre elementy interfejsu użytkownika kodu lub znaczników może być zduplikowany, a następnie aktualizować równolegle.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-169">Where possible you will factor out common logic into an underlying layer or service, but still, some parts of your UI code or markup may have to be duplicated and then maintained in parallel.</span></span>
    - <span data-ttu-id="2d5d3-170">**Wadą:** wykrywania urządzeń nie jest prosta.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-170">**Disadvantage:** Device detection is not trivial.</span></span> <span data-ttu-id="2d5d3-171">Wymaga listy lub bazy danych typów znanym urządzeniem i ich właściwości (które mogą nie być idealne aktualne), a nie jest gwarantowana Aby dokładnie dopasować każdego żądania przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-171">It requires a list or database of known device types and their characteristics (which may not always be perfectly up-to-date) and isn't guaranteed to accurately match every incoming request.</span></span> <span data-ttu-id="2d5d3-172">W tym dokumencie opisano niektóre opcje i pułapki związane z ich później.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-172">This document describes some options and their pitfalls later.</span></span>

<span data-ttu-id="2d5d3-173">Aby uzyskać najlepsze wyniki, większość deweloperów find muszą łączyć opcji (2) i (3).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-173">To get the best results, most developers find they need to combine options (2) and (3).</span></span> <span data-ttu-id="2d5d3-174">Niewielkie różnice stylistycznych najlepiej są obsługiwane na kliencie przy użyciu CSS i JavaScript nawet główne różnice w danych przepływu pracy i znaczników najbardziej efektywne są wdrażane w kodzie po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-174">Minor stylistic differences are best accommodated on the client using CSS or even JavaScript, whereas major differences in data, workflow, or markup are most effectively implemented in server-side code.</span></span>

### <a name="this-paper-focuses-on-server-side-techniques"></a><span data-ttu-id="2d5d3-175">Ten dokument koncentruje się na temat metod po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="2d5d3-175">This paper focuses on server-side techniques</span></span>

<span data-ttu-id="2d5d3-176">Ponieważ MVC i formularzy sieci Web ASP.NET obu tych technologii głównie po stronie serwera, ten dokument koncentruje się na temat metod po stronie serwera, które pozwalają na różnych znaczników i logikę przeglądarki dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-176">Since ASP.NET Web Forms and MVC are both primarily server-side technologies, this white paper will focus on server-side techniques that let you produce different markup and logic for mobile browsers.</span></span> <span data-ttu-id="2d5d3-177">Oczywiście można także połączyć to z żadnych technika po stronie klienta (np. CSS 3 zapytaniami multimediów, zwiększające progresywnego JavaScript), ale jest to bardziej kwestią projekt sieci web niż projektowanie programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-177">Of course, you can also combine this with any client-side technique (e.g., CSS 3 media queries, progressive-enhancement JavaScript), but that's more a matter of web design than ASP.NET development.</span></span>

## <a name="browser-and-device-detection"></a><span data-ttu-id="2d5d3-178">Wykrywanie przeglądarki i urządzenia</span><span class="sxs-lookup"><span data-stu-id="2d5d3-178">Browser and device detection</span></span>

<span data-ttu-id="2d5d3-179">Klucza wstępnym dla wszystkich metod po stronie serwera do obsługi urządzeń przenośnych jest wiedzieć, jaki urządzenie korzysta z obiektu odwiedzającego.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-179">The key prerequisite for all server-side techniques for supporting mobile devices is to know what device your visitor is using.</span></span> <span data-ttu-id="2d5d3-180">W rzeczywistości nawet lepszym rozwiązaniem niż wiedząc uprzedniego uzyskania informacji o numer producenta i modelu urządzenia *właściwości* urządzenia.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-180">In fact, even better than knowing the manufacturer and model number of that device is knowing the *characteristics* of the device.</span></span> <span data-ttu-id="2d5d3-181">Właściwości mogą obejmować:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-181">Characteristics may include:</span></span>

- <span data-ttu-id="2d5d3-182">Jest on urządzenia przenośnego?</span><span class="sxs-lookup"><span data-stu-id="2d5d3-182">Is it a mobile device?</span></span>
- <span data-ttu-id="2d5d3-183">Metoda wejściowa (myszy/klawiatury, touch, klawiaturę, joystick,...)</span><span class="sxs-lookup"><span data-stu-id="2d5d3-183">Input method (mouse/keyboard, touch, keypad, joystick, …)</span></span>
- <span data-ttu-id="2d5d3-184">Rozmiar ekranu (fizycznie lub w pikselach)</span><span class="sxs-lookup"><span data-stu-id="2d5d3-184">Screen size (physically and in pixels)</span></span>
- <span data-ttu-id="2d5d3-185">Obsługiwane formaty nośników i danych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-185">Supported media and data formats</span></span>
- <span data-ttu-id="2d5d3-186">itp.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-186">Etc.</span></span>

<span data-ttu-id="2d5d3-187">Zaleca się podjęcie decyzji, na podstawie charakterystyk niż numer modelu, ponieważ, a następnie będzie lepiej przystosowany do obsługi urządzeń w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-187">It's better to make decisions based on characteristics than model number, because then you'll be better equipped to handle future devices.</span></span>

### <a name="using-aspnets-built-in-browser-detection-support"></a><span data-ttu-id="2d5d3-188">Za pomocą stron ASP. Obsługa wykrywania przeglądarki wbudowanej na NET</span><span class="sxs-lookup"><span data-stu-id="2d5d3-188">Using ASP.NET's built-in browser detection support</span></span>

<span data-ttu-id="2d5d3-189">Deweloperzy i formularzy sieci Web platformy ASP.NET MVC można natychmiast odnajdywanie najważniejsze czynniki zaproszonych przeglądarki przez sprawdzenie właściwości *Request.Browser* obiektu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-189">ASP.NET Web Forms and MVC developers can immediately discover important characteristics of a visiting browser by inspecting properties of the *Request.Browser* object.</span></span> <span data-ttu-id="2d5d3-190">Na przykład zobacz</span><span class="sxs-lookup"><span data-stu-id="2d5d3-190">For example, see</span></span>

- <span data-ttu-id="2d5d3-191">Request.Browser.IsMobileDevice</span><span class="sxs-lookup"><span data-stu-id="2d5d3-191">Request.Browser.IsMobileDevice</span></span>
- <span data-ttu-id="2d5d3-192">Request.Browser.MobileDeviceManufacturer, Request.Browser.MobileDeviceModel</span><span class="sxs-lookup"><span data-stu-id="2d5d3-192">Request.Browser.MobileDeviceManufacturer, Request.Browser.MobileDeviceModel</span></span>
- <span data-ttu-id="2d5d3-193">Request.Browser.ScreenPixelsWidth</span><span class="sxs-lookup"><span data-stu-id="2d5d3-193">Request.Browser.ScreenPixelsWidth</span></span>
- <span data-ttu-id="2d5d3-194">Request.Browser.SupportsXmlHttp</span><span class="sxs-lookup"><span data-stu-id="2d5d3-194">Request.Browser.SupportsXmlHttp</span></span>
- <span data-ttu-id="2d5d3-195">.. .a wielu innych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-195">…and many others</span></span>

<span data-ttu-id="2d5d3-196">W tle, platforma ASP.NET jest zgodna z przychodzącego *agenta użytkownika* nagłówka HTTP (UC) przed wyrażeń regularnych w zestawie plików XML definicji przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-196">Behind the scenes, the ASP.NET platform matches the incoming *User-Agent* (UA) HTTP header against regular expressions in a set of Browser Definition XML files.</span></span> <span data-ttu-id="2d5d3-197">Domyślnie platforma zawiera definicje dla wielu typowych urządzeń przenośnych, a można dodać niestandardowe pliki definicji przeglądarki dla innych osób, które chcesz rozpoznać.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-197">By default the platform includes definitions for many common mobile devices, and you can add custom Browser Definition files for others you wish to recognize.</span></span> <span data-ttu-id="2d5d3-198">Aby uzyskać więcej informacji, zobacz stronę MSDN [kontrolki serwera sieci Web ASP.NET i możliwości przeglądarki](https://msdn.microsoft.com/en-us/library/x3k2ssx2.aspx).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-198">For more details, see the MSDN page [ASP.NET Web Server Controls and Browser Capabilities](https://msdn.microsoft.com/en-us/library/x3k2ssx2.aspx).</span></span>

### <a name="using-the-wurfl-device-database-via-51degreesmobi-foundation"></a><span data-ttu-id="2d5d3-199">Korzystanie z bazy danych urządzenia WURFL za pośrednictwem 51Degrees.mobi Foundation</span><span class="sxs-lookup"><span data-stu-id="2d5d3-199">Using the WURFL device database via 51Degrees.mobi Foundation</span></span>

<span data-ttu-id="2d5d3-200">Podczas ASP. Obsługa wykrywania przeglądarki wbudowanej na NET są wystarczające dla wielu aplikacji istnieją dwa główne przypadki gdy może nie być wystarczającej ilości:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-200">While ASP.NET's built-in browser detection support will be sufficient for many applications, there are two main cases when it might not be enough:</span></span>

- <span data-ttu-id="2d5d3-201">***Aby rozpoznać najnowsze urządzeń***(bez ręcznego tworzenia plików definicji przeglądarki dla nich).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-201">***You want to recognize the latest devices***(without manually creating Browser Definition files for them).</span></span> <span data-ttu-id="2d5d3-202">Należy pamiętać, że .NET 4 definicji przeglądarki pliki nie są wystarczająco aktualna, aby rozpoznać Windows Phone 7, telefony z systemem Android, Opera Mobile przeglądarki lub Ipad firmy Apple.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-202">Note that .NET 4's Browser Definition files are not recent enough to recognize Windows Phone 7, Android phones, Opera Mobile browsers, or Apple iPads.</span></span>
- <span data-ttu-id="2d5d3-203">***Potrzebujesz bardziej szczegółowe informacje dotyczące możliwości urządzenia***.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-203">***You need more detailed information about device capabilities***.</span></span> <span data-ttu-id="2d5d3-204">Musisz wiedzieć o urządzenia metody wprowadzania (np. touch vs klawiaturze numerycznej) lub jakie audio formatuje przeglądarka obsługuje.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-204">You may need to know about a device's input method (e.g., touch vs keypad), or what audio formats the browser supports.</span></span> <span data-ttu-id="2d5d3-205">Te informacje są niedostępne w standardowe pliki definicji przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-205">This information isn't available in the standard Browser Definition files.</span></span>

<span data-ttu-id="2d5d3-206">[ *Bezprzewodowej uniwersalnych pliku zasobu* projektu (WURFL)](http://wurfl.sourceforge.net/) obsługuje większą aktualnych i szczegółowe informacje dotyczące urządzeń przenośnych w użyciu dzisiaj.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-206">The [*Wireless Universal Resource File* (WURFL) project](http://wurfl.sourceforge.net/) maintains much more up-to-date and detailed information about mobile devices in use today.</span></span>

<span data-ttu-id="2d5d3-207">Dobra wiadomość dla deweloperów platformy .NET jest ASP. Funkcji wykrywania sieci w przeglądarce jest otwarty, dzięki czemu można zwiększyć, aby rozwiązać te problemy.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-207">The great news for .NET developers is that ASP.NET's browser detection feature is extensible, so it's possible to enhance it to overcome these problems.</span></span> <span data-ttu-id="2d5d3-208">Na przykład można dodać typu open source [ *51Degrees.mobi Foundation* ](https://github.com/51Degrees/dotNET-Device-Detection) biblioteki do projektu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-208">For example, you can add the open source [*51Degrees.mobi Foundation*](https://github.com/51Degrees/dotNET-Device-Detection) library to your project.</span></span> <span data-ttu-id="2d5d3-209">Jest to ASP.NET IHttpModule lub przeglądarki możliwości dostawcy (można go używać w przypadku aplikacji MVC i formularzy sieci Web), który bezpośrednio odczytywać dane WURFL i przechwytuje go w ASP. Mechanizm wykrywania przeglądarki wbudowanej w sieci.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-209">It's an ASP.NET IHttpModule or Browser Capabilities Provider (usable on both Web Forms and MVC applications), that directly reads WURFL data and hooks it into ASP.NET's built-in browser detection mechanism.</span></span> <span data-ttu-id="2d5d3-210">Po zainstalowaniu modułu, *Request.Browser* nagle będzie zawierać znacznie bardziej dokładne i szczegółowe informacje: zostanie poprawnie rozpoznać wiele urządzeń wspomnianych wcześniej i wyświetlać ich możliwości (w tym dodatkowe funkcje takie jak metoda wejściowa).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-210">Once you've installed the module, *Request.Browser* will suddenly contain a lot more accurate and detailed information: it will correctly recognize many of the devices previously mentioned and list their capabilities (including additional capabilities such as input method).</span></span> <span data-ttu-id="2d5d3-211">Zapoznaj się dokumentacją projektu, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-211">See the project's documentation for more details.</span></span>

## <a name="how-web-forms-applications-can-present-mobile-specific-pages"></a><span data-ttu-id="2d5d3-212">Jak aplikacji formularzy sieci Web może ona powodować problemy specyficzne dla mobilnych stron</span><span class="sxs-lookup"><span data-stu-id="2d5d3-212">How Web Forms applications can present mobile-specific pages</span></span>

<span data-ttu-id="2d5d3-213">Domyślnie poniżej przedstawiono sposób wyświetlania zupełnie nowej aplikacji formularzy sieci Web na urządzeniach przenośnych wspólne:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-213">By default, here's how a brand new Web Forms application displays on common mobile devices:</span></span>

![](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/_static/image1.png)

<span data-ttu-id="2d5d3-214">Wyraźnie widać ani układu wygląda bardzo przyjaznych dla urządzeń przenośnych — ta strona została opracowana w przypadku dużych, orientacji poziomej monitora nie dla małego ekranu orientacji pionowej.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-214">Clearly, neither layout looks very mobile-friendly – this page was designed for a large, landscape-oriented monitor, not for a small portrait-oriented screen.</span></span> <span data-ttu-id="2d5d3-215">Dlatego co można zrobić informacji na ten temat?</span><span class="sxs-lookup"><span data-stu-id="2d5d3-215">So what can you do about it?</span></span>

<span data-ttu-id="2d5d3-216">Zgodnie z opisem we wcześniejszej części tego dokumentu, istnieje wiele sposobów, aby dostosować strony dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-216">As discussed earlier in this paper, there are many ways to tailor your pages for mobile devices.</span></span> <span data-ttu-id="2d5d3-217">Niektóre metody są oparte na serwerze, innym uruchomienia na kliencie.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-217">Some techniques are server-based, others run on the client.</span></span>

### <a name="creating-a-mobile-specific-master-page"></a><span data-ttu-id="2d5d3-218">Tworzenie mobile specyficzne dla strony wzorcowej</span><span class="sxs-lookup"><span data-stu-id="2d5d3-218">Creating a mobile-specific master page</span></span>

<span data-ttu-id="2d5d3-219">W zależności od wymagań, można używać tego samego formularzy sieci Web dla wszystkich odwiedzających, ale ma dwa oddzielne strony wzorcowe: jeden dla użytkowników pulpitu, jedno dla gości przenośne.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-219">Depending on your requirements, you may be able to use the same Web Forms for all visitors, but have two separate master pages: one for desktop visitors, another for mobile visitors.</span></span> <span data-ttu-id="2d5d3-220">Zapewnia to elastyczność zmiany arkusza stylów CSS lub użytkownika najwyższego poziomu kod znaczników HTML do własnych urządzeń przenośnych, bez wymuszania można zduplikować wszelka logika strony.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-220">This gives you the flexibility of changing the CSS stylesheet or your top-level HTML markup to suit mobile devices, without forcing you to duplicate any page logic.</span></span>

<span data-ttu-id="2d5d3-221">Jest to łatwo zrobić.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-221">This is easy to do.</span></span> <span data-ttu-id="2d5d3-222">Na przykład można dodać obsługi PreInit, takie jak wymienione poniżej do formularza sieci Web:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-222">For example, you can add a PreInit handler such as the following to a Web Form:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample1.cs)]

<span data-ttu-id="2d5d3-223">Teraz Utwórz strony wzorcowej o nazwie Mobile.Master w folderze najwyższego poziomu w aplikacji i będą używane po wykryciu urządzenia przenośnego.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-223">Now, create a master page called Mobile.Master in the top-level folder of your application, and it will be used when a mobile device is detected.</span></span> <span data-ttu-id="2d5d3-224">W razie potrzeby z strony wzorcowej może się odwoływać arkusz stylów CSS specyficzne dla mobilnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-224">Your mobile master page can reference a mobile-specific CSS stylesheet if necessary.</span></span> <span data-ttu-id="2d5d3-225">Odwiedzający pulpitu, będą również widzieć domyślnej strony głównej, co przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-225">Desktop visitors will still see your default master page, not the mobile one.</span></span>

### <a name="creating-independent-mobile-specific-web-forms"></a><span data-ttu-id="2d5d3-226">Tworzenie niezależnych formularzy sieci Web specyficzne dla mobile</span><span class="sxs-lookup"><span data-stu-id="2d5d3-226">Creating independent mobile-specific Web Forms</span></span>

<span data-ttu-id="2d5d3-227">Maksymalna elastyczność można przejść znacznie więcej niż tylko osobnych stron wzorcowych dla różnych typów urządzeń.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-227">For maximum flexibility, you can go much further than just having separate master pages for different device types.</span></span> <span data-ttu-id="2d5d3-228">Można zaimplementować dwa *całkowicie oddzielić zestawów stron formularzy sieci Web* — jeden ustawiony w przypadku przeglądarek komputerowych, innego zestawu dla przenośne.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-228">You can implement two *totally separate sets of Web Forms pages* – one set for desktop browsers, another set for mobiles.</span></span> <span data-ttu-id="2d5d3-229">Ten sposób działa najlepiej, jeśli chcesz istnieje bardzo różne informacje lub przepływów pracy dla osób odwiedzających przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-229">This works best if you want to present very different information or workflows to mobile visitors.</span></span> <span data-ttu-id="2d5d3-230">Pozostałej części tej sekcji opisano takie podejście szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-230">The rest of this section describes this approach in detail.</span></span>

<span data-ttu-id="2d5d3-231">Zakładając, że masz już aplikację formularzy sieci Web przeznaczone dla przeglądarek komputerowych, najprostszym sposobem, aby kontynuować jest utworzenie podfolder o nazwie "Mobile" w projekcie i kompilacji swoich stronach przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-231">Assuming you already have a Web Forms application designed for desktop browsers, the easiest way to proceed is to create a subfolder called "Mobile" within your project, and build your mobile pages there.</span></span> <span data-ttu-id="2d5d3-232">Można utworzyć całej lokacji podrzędnych, z własnym strony wzorcowe, arkusze stylów i stron, przy użyciu tych samych metod, co w przypadku innych aplikacji formularzy sieci Web.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-232">You can construct an entire sub-site, with its own master pages, style sheets, and pages, using all the same techniques that you'd use for any other Web Forms application.</span></span> <span data-ttu-id="2d5d3-233">Nie jest konieczna utworzyć przenośnych odpowiadający *co* strony w witrynie pulpitu; można wybrać podzbiór funkcji ma sens dla użytkowników mobilnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-233">You don't necessarily need to produce a mobile equivalent for *every* page in your desktop site; you can choose what subset of functionality makes sense for mobile visitors.</span></span>

<span data-ttu-id="2d5d3-234">Twoje stron dla urządzeń przenośnych może udostępniać zasoby statyczne wspólnej (takich jak obrazy, JavaScript i CSS pliki) ze stronami sieci regularne w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-234">Your mobile pages can share common static resources (such as images, JavaScript, or CSS files) with your regular pages if you wish.</span></span> <span data-ttu-id="2d5d3-235">Ponieważ folder "Mobile" będzie *nie* można oznaczyć jako osobne aplikacji podczas udostępniania w usługach IIS (jest proste podfolder stron formularzy sieci Web), jego również udostępni te same konfiguracji, dane sesji i pozostałą infrastrukturą jako użytkownika strony pulpitu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-235">Since your "Mobile" folder will *not* be marked as a separate application when hosted in IIS (it's just a simple subfolder of Web Forms pages), it will also share all the same configuration, Session data, and other infrastructure as your desktop pages.</span></span>

> [!NOTE]
> <span data-ttu-id="2d5d3-236">Ponieważ takie podejście zwykle obejmuje niektóre dublowania kodu (stron dla urządzeń przenośnych prawdopodobnie może udostępniać pewnych podobieństw stron pulpitu), ważne jest, aby współczynnik wszystkie wspólne firm logiki lub dane dostępu kodu do udostępnionego warstwy podstawowej lub usługi.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-236">Since this approach usually involves some duplication of code (mobile pages are likely to share some similarities with desktop pages), it's important to factor out any common business logic or data access code into a shared underlying layer or service.</span></span> <span data-ttu-id="2d5d3-237">W przeciwnym razie należy dokładnie nakładu pracy tworzenia i obsługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-237">Otherwise, you'll double the effort of creating and maintaining your application.</span></span>


#### <a name="redirecting-mobile-visitors-to-your-mobile-pages"></a><span data-ttu-id="2d5d3-238">Przekierowywanie przenośnych odwiedzin strony przenośnych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-238">Redirecting mobile visitors to your mobile pages</span></span>

<span data-ttu-id="2d5d3-239">Często jest to wygodny przekierować gości przenośne do stron dla urządzeń przenośnych tylko na *pierwszy* żądania w ich sesji przeglądania (i nie na każde żądanie w ich sesji), ponieważ:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-239">It's often convenient to redirect mobile visitors to the mobile pages only on the *first* request in their browsing session (and not on every request in their session), because:</span></span>

- <span data-ttu-id="2d5d3-240">Następnie umożliwiają łatwe odwiedzających przenośnych uzyskać dostęp do swoich stronach pulpitu, jeśli chcą — wystarczy umieścić łącze na stronie głównej prowadzącym do "Pulpitu version".</span><span class="sxs-lookup"><span data-stu-id="2d5d3-240">You can then easily allow mobile visitors to access your desktop pages if they wish – just put a link on your master page that goes to "Desktop version".</span></span> <span data-ttu-id="2d5d3-241">Obiekt odwiedzający nie będzie przekierowany do strony przenośnej, ponieważ nie jest już to pierwsze żądanie w sesji.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-241">The visitor won't be redirected back to a mobile page, because it's no longer the first request in their session.</span></span>
- <span data-ttu-id="2d5d3-242">Takie rozwiązanie pomaga uniknąć ryzyka związanego z zakłócać żądania dla wszystkich dynamicznych zasobów udostępnionych między częściami wersje desktop i mobile witryny (np. w przypadku typowych formularza sieci Web wyświetlanych w części zarówno wersje desktop i mobile witryny w elementu IFRAME lub niektórych obsługi technologii Ajax)</span><span class="sxs-lookup"><span data-stu-id="2d5d3-242">It avoids the risk of interfering with requests for any dynamic resources shared between desktop and mobile parts of your site (e.g., if you have a common Web Form that both desktop and mobile parts of your site display in an IFRAME, or certain Ajax handlers)</span></span>

<span data-ttu-id="2d5d3-243">Aby to zrobić, możesz umieścić logiki przekierowania w **sesji\_Start** metody.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-243">To do this, you can place your redirection logic in a **Session\_Start** method.</span></span> <span data-ttu-id="2d5d3-244">Na przykład dodaj następującą metodę do pliku Global.asax.cs:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-244">For example, add the following method to your Global.asax.cs file:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample2.cs)]

#### <a name="configuring-forms-authentication-to-respect-your-mobile-pages"></a><span data-ttu-id="2d5d3-245">Konfigurowanie uwierzytelniania formularzy do przestrzegania Twojej stron dla urządzeń przenośnych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-245">Configuring Forms Authentication to respect your mobile pages</span></span>

<span data-ttu-id="2d5d3-246">Należy pamiętać, że uwierzytelnianie formularzy zapewnia pewne założenia, o której go można przekierowywać odwiedzających podczas i po procesie uwierzytelniania:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-246">Note that Forms Authentication makes certain assumptions about where it can redirect visitors during and after the authentication process:</span></span>

- <span data-ttu-id="2d5d3-247">Gdy użytkownik musi zostać uwierzytelniony, uwierzytelnianie formularzy będzie przekierowanie do strony logowania, niezależnie od tego, czy są one użytkownika desktop lub mobile (ponieważ ma ona tylko koncepcji *jeden* adres URL logowania).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-247">When a user needs to be authenticated, Forms Authentication will redirect them to your desktop login page, regardless of whether they're a desktop or mobile user (because it only has a concept of *one* login URL).</span></span> <span data-ttu-id="2d5d3-248">Zakładając, że chcesz styl stronę logowania przenośnych inaczej, należy zwiększyć ze strony logowania, aby przekierowania do strony logowania przenośnych oddzielne użytkowników mobilnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-248">Assuming you want to style your mobile login page differently, you need to enhance your desktop login page so that it redirects mobile users to a separate mobile login page.</span></span> <span data-ttu-id="2d5d3-249">Na przykład, Dodaj następujący kod do Twojej **pulpitu** kodem strony logowania:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-249">For example, add the following code to your **desktop** login page code-behind:</span></span> 

    [!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample3.cs)]
- <span data-ttu-id="2d5d3-250">Po pomyślnym zalogowaniu użytkownika, uwierzytelnianie formularzy zostanie domyślnie przekierowanie do strony głównej pulpitu (ponieważ ma ona tylko koncepcji *jeden* domyślnej strony).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-250">After a user successfully logs in, Forms Authentication will by default redirect them to your desktop home page (because it only has a concept of *one* default page).</span></span> <span data-ttu-id="2d5d3-251">Należy poprawić stronę logowania przenośne tak, aby wykonuje przekierowanie do strony głównej mobile po pomyślnym zalogowaniu się w.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-251">You need to enhance your mobile login page so that it redirects to the mobile home page after a successful log-in.</span></span> <span data-ttu-id="2d5d3-252">Na przykład, Dodaj następujący kod do Twojej **przenośnych** kodem strony logowania:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-252">For example, add the following code to your **mobile** login page code-behind:</span></span> 

    [!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample4.cs)]
  
 <span data-ttu-id="2d5d3-253">Ten kod przyjęto założenie, że strony jest formant serwera logowania nazywany odwoływały, jak w domyślnym szablonie projektu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-253">This code assumes your page has a Login server control called LoginUser, as in the default project template.</span></span>

### <a name="working-with-output-caching"></a><span data-ttu-id="2d5d3-254">Praca z buforowanie danych wyjściowych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-254">Working with Output Caching</span></span>

<span data-ttu-id="2d5d3-255">Jeśli używasz buforowanie danych wyjściowych, należy pamiętać, że domyślnie istnieje możliwość pulpitu użytkownika do odwiedzenia niektórych adresu URL (co powoduje jego dane wyjściowe pamięci podręcznej), a następnie przenośnych użytkownika, który otrzyma zbuforowanej wyjściowej pulpitu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-255">If you're using output caching, beware that by default it's possible for a desktop user to visit a certain URL (causing its output to be cached), followed by a mobile user who then receives the cached desktop output.</span></span> <span data-ttu-id="2d5d3-256">Dotyczy to ostrzeżenie jest tylko zróżnicowanie stronę wzorcową według typu urządzenia lub wykonania całkowicie oddzielnych formularzach sieci Web według typu urządzenia.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-256">This warning applies whether you're just varying your master page by device type, or implementing totally separate Web Forms per device type.</span></span>

<span data-ttu-id="2d5d3-257">Aby uniknąć problemu, możesz wydać ASP.NET się różnić w zależności od tego, czy użytkownik jest na urządzeniu przenośnym, wpisu pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-257">To avoid the problem, you can instruct ASP.NET to vary the cache entry according to whether the visitor is using a mobile device.</span></span> <span data-ttu-id="2d5d3-258">Dodaj parametr Element VaryByCustom do strony swojego OutputCache deklaracji w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-258">Add a VaryByCustom parameter to your page's OutputCache declaration as follows:</span></span>

[!code-aspx[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample5.aspx)]

<span data-ttu-id="2d5d3-259">Następnie określ *isMobileDevice* jako niestandardowego pamięci podręcznej parametru, dodając następujące metody zastąpienie pliku Global.asax.cs:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-259">Next, define *isMobileDevice* as a custom cache parameter by adding the following method override to your Global.asax.cs file:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample6.cs)]

<span data-ttu-id="2d5d3-260">Daje to pewność, że przenośnych odwiedzin strony nie otrzyma dane wyjściowe wcześniej umieszczane w pamięci podręcznej przez obiekt odwiedzający pulpitu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-260">This will ensure that mobile visitors to the page don't receive output previously put into the cache by a desktop visitor.</span></span>

### <a name="a-working-example"></a><span data-ttu-id="2d5d3-261">Przykład pracy</span><span class="sxs-lookup"><span data-stu-id="2d5d3-261">A working example</span></span>

<span data-ttu-id="2d5d3-262">Aby wyświetlić te techniki w akcji, Pobierz [przykłady kodu w tym oficjalnym dokumencie](https://docs.microsoft.com/aspnet/mobile/overview).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-262">To see these techniques in action, download [this white paper's code samples](https://docs.microsoft.com/aspnet/mobile/overview).</span></span> <span data-ttu-id="2d5d3-263">Przykładowa aplikacja formularzy sieci Web automatycznie przekierowuje użytkowników mobilnych z zestawem mobile określonych stron w podfolderze o nazwie Mobile.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-263">The Web Forms sample application automatically redirects mobile users to a set of mobile-specific pages in a subfolder called Mobile.</span></span> <span data-ttu-id="2d5d3-264">Znaczniki i style tych stron jest zoptymalizowana dla przeglądarki dla urządzeń przenośnych, jak widać w poniższe zrzuty ekranu:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-264">The markup and styling of those pages is better optimized for mobile browsers, as you can see from the following screenshots:</span></span>

![](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/_static/image2.png)

<span data-ttu-id="2d5d3-265">Aby uzyskać więcej porad dotyczących optymalizacji sieci znaczników i CSS dla przeglądarki dla urządzeń przenośnych zobacz sekcję "Style stron dla urządzeń przenośnych dla przeglądarki dla urządzeń przenośnych" w dalszej części tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-265">For more tips about optimizing your markup and CSS for mobile browsers, see the section "Styling mobile pages for mobile browsers" later in this document.</span></span>

## <a name="how-aspnet-mvc-applications-can-present-mobile-specific-pages"></a><span data-ttu-id="2d5d3-266">Jak aplikacje programu ASP.NET MVC może ona powodować problemy specyficzne dla mobilnych stron</span><span class="sxs-lookup"><span data-stu-id="2d5d3-266">How ASP.NET MVC applications can present mobile-specific pages</span></span>

<span data-ttu-id="2d5d3-267">Ponieważ wzorca Model-View-Controller zapewnia oddzielenie logiki aplikacji (w kontrolerach) z logiki prezentacji (w widokach), można za pomocą dowolnego z poniższych metod przenośnych obsługi w kodzie po stronie serwera:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-267">Since the Model-View-Controller pattern decouples application logic (in controllers) from presentation logic (in views), you can choose from any of the following approaches to handling mobile support in server-side code:</span></span>

1. <span data-ttu-id="2d5d3-268">***Użyj tego samego kontrolery i widoki dla przeglądarek, które komputery i przenośnych, ale renderowania widoków z różnymi układami Razor, w zależności od typu urządzenia*.**</span><span class="sxs-lookup"><span data-stu-id="2d5d3-268">***Use the same controllers and views for both desktop and mobile browsers, but render the views with different Razor layouts depending on the device type*.**</span></span> <span data-ttu-id="2d5d3-269">Ta opcja działa najlepiej, jeśli można wyświetlić identyczne dane na wszystkich urządzeniach, ale po prostu chcesz podać inną arkusze stylów CSS lub zmienić kilka elementów HTML najwyższego poziomu dla przenośne.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-269">This option works best if you're displaying identical data on all devices, but simply want to supply different CSS stylesheets or change a few top-level HTML elements for mobiles.</span></span>
2. <span data-ttu-id="2d5d3-270">***Użyj tego samego kontrolerów w przypadku przeglądarek zarówno wersje desktop i mobile, ale renderowania różne widoki w zależności od typu urządzenia***.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-270">***Use the same controllers for both desktop and mobile browsers, but render different views depending on the device type***.</span></span> <span data-ttu-id="2d5d3-271">Ta opcja działa najlepiej, jeśli jest około wyświetlanie tych samych danych i zapewnienie tego samego przepływy pracy dla użytkowników końcowych, ale aby renderować bardzo różny kod znaczników HTML do własnych urządzenie używane.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-271">This option works best if you're displaying roughly the same data and providing the same workflows for end users, but want to render very different HTML markup to suit the device being used.</span></span>
3. <span data-ttu-id="2d5d3-272">***Utwórz oddzielne obszary dla komputerów stacjonarnych i przenośnych przeglądarek, implementacja niezależne kontrolery i widoki dla każdego*.**</span><span class="sxs-lookup"><span data-stu-id="2d5d3-272">***Create separate areas for desktop and mobile browsers, implementing independent controllers and views for each*.**</span></span> <span data-ttu-id="2d5d3-273">Ta opcja działa najlepiej, gdy są wyświetlane ekrany bardzo różnych, zawierających różne informacje i początkowe użytkownika za pomocą różnych przepływów pracy, zoptymalizowana pod kątem ich typ urządzenia.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-273">This option works best if you're displaying very different screens, containing different information and leading the user through different workflows optimized for their device type.</span></span> <span data-ttu-id="2d5d3-274">Może to oznaczać niektórych powtarzania kodu, ale który można zminimalizować przez factoring limitu wspólnej logiki do warstwy podstawowej lub usługi.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-274">It may mean some repetition of code, but you can minimize that by factoring out common logic into an underlying layer or service.</span></span>

<span data-ttu-id="2d5d3-275">Jeśli chcesz wykonać **pierwszy** opcji i różnią się jedynie układu Razor według typu urządzenia, jest bardzo proste.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-275">If you want to take the **first** option and vary only the Razor layout per device type, it's very easy.</span></span> <span data-ttu-id="2d5d3-276">Po prostu zmodyfikuj Twojej \_ViewStart.cshtml plików w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-276">Just modify your \_ViewStart.cshtml file as follows:</span></span>

[!code-cshtml[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample7.cshtml)]

<span data-ttu-id="2d5d3-277">Teraz możesz utworzyć układ specyficzne dla mobile o nazwie \_LayoutMobile.cshtml ze strukturą strony i CSS zasady, zoptymalizowane dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-277">Now you can create a mobile-specific layout called \_LayoutMobile.cshtml with a page structure and CSS rules optimized for mobile devices.</span></span>

<span data-ttu-id="2d5d3-278">Jeśli chcesz wykonać **drugi** opcji renderowania widoków całkiem zgodnie z zewnętrznego typu urządzenia, zobacz [Scott Hanselman wpis w blogu](http://www.hanselman.com/blog/ABetterASPNETMVCMobileDeviceCapabilitiesViewEngine.aspx).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-278">If you want to take the **second** option render totally different views according to the visitor's device type, see [Scott Hanselman's blog post](http://www.hanselman.com/blog/ABetterASPNETMVCMobileDeviceCapabilitiesViewEngine.aspx).</span></span>

<span data-ttu-id="2d5d3-279">Pozostała część tego dokumentu skupiono się na **trzeci** opcję — Tworzenie oddzielnych kontrolerów *i* widoków dla urządzeń przenośnych — tak można kontrolować dokładnie podzbiór funkcji jest dostępna w przypadku gości przenośne.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-279">The rest of this paper focuses on the **third** option – creating separate controllers *and* views for mobile devices – so you can control exactly what subset of functionality is offered for mobile visitors.</span></span>

### <a name="setting-up-a-mobile-area-within-your-aspnet-mvc-application"></a><span data-ttu-id="2d5d3-280">Konfigurowanie przenośnych obszaru w aplikacji ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="2d5d3-280">Setting up a Mobile area within your ASP.NET MVC application</span></span>

<span data-ttu-id="2d5d3-281">Można dodać obszaru o nazwie "Mobile" do istniejącej aplikacji ASP.NET MVC w normalnym trybie: kliknij prawym przyciskiem myszy nazwę projektu w Eksploratorze rozwiązań, a następnie wybierz pozycję Dodaj a obszaru.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-281">You can add an area called "Mobile" to an existing ASP.NET MVC application in the normal way: right-click on your project name in Solution Explorer, then choose Add à Area.</span></span> <span data-ttu-id="2d5d3-282">Następnie można dodać widoków i kontrolerów jak w przypadku innych obszaru w aplikacji ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-282">You can then add controllers and views as you would for any other area within an ASP.NET MVC application.</span></span> <span data-ttu-id="2d5d3-283">Na przykład dodać obszaru przenośnych nowego kontrolera o nazwie HomeController do działania jako stronę główną dla gości przenośne roboczej.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-283">For example, add to your Mobile area a new controller called HomeController to act as a homepage for mobile visitors.</span></span>

### <a name="ensuring-the-url-mobile-reaches-the-mobile-homepage"></a><span data-ttu-id="2d5d3-284">Zapewnienie /Mobile adres URL osiągnie przenośnych strony głównej</span><span class="sxs-lookup"><span data-stu-id="2d5d3-284">Ensuring the URL /Mobile reaches the mobile homepage</span></span>

<span data-ttu-id="2d5d3-285">Chcąc /Mobile adres URL do osiągnięcia akcji indeksu na HomeController wewnątrz obszaru przenośnych, konieczne będzie wprowadź dwie niewielkich zmian w konfiguracji usługi routingu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-285">If you want the URL /Mobile to reach the Index action on HomeController inside your Mobile area, you will need to make two small changes to your routing configuration.</span></span> <span data-ttu-id="2d5d3-286">Najpierw należy zaktualizować klasy MobileAreaRegistration tak, aby HomeController domyślnego kontrolera w Twoim rejonie przenośnych, jak pokazano w poniższym kodzie:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-286">First, update your MobileAreaRegistration class so that HomeController is the default controller in your Mobile area, as shown in the following code:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample8.cs)]

<span data-ttu-id="2d5d3-287">Oznacza to, przenośne strony głównej teraz powinien znajdować się w /Mobile zamiast/Mobile domowych, ponieważ "Home" jest teraz niejawnie domyślną nazwę kontrolera dla stron dla urządzeń przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-287">This means the mobile homepage will now be located at /Mobile, rather than /Mobile/Home, because "Home" is now the implicitly default controller name for mobile pages.</span></span>

<span data-ttu-id="2d5d3-288">Następnie należy pamiętać, że dodanie drugiego HomeController do aplikacji (tj. przenośnych jeden, oprócz istniejącego pulpitu jeden), będzie Przerwano regularne strona główna pulpitu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-288">Next, note that by adding a second HomeController to your application (i.e., the mobile one, in addition to the existing desktop one), you'll have broken your regular desktop homepage.</span></span> <span data-ttu-id="2d5d3-289">Powiedzie się z powodu błędu "*spełniających kontrolera o nazwie"Home"znaleziono wiele typów*".</span><span class="sxs-lookup"><span data-stu-id="2d5d3-289">It will fail with the error "*Multiple types were found that match the controller named 'Home'*".</span></span> <span data-ttu-id="2d5d3-290">Aby rozwiązać ten problem, zaktualizuj konfigurację routingu najwyższego poziomu (w Global.asax.cs) do określenia, czy istnieje niejednoznaczność użytkownika pulpitu HomeController powinien mają większy priorytet:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-290">To resolve this, update your top-level routing configuration (in Global.asax.cs) to specify that your desktop HomeController should take priority when there's ambiguity:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample9.cs)]

<span data-ttu-id="2d5d3-291">Teraz błąd przejdzie zadań i adresu URL http://*yoursite*/ osiągną strony głównej pulpitu i http://*yoursite*/mobile/ osiągną przenośnych strony głównej.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-291">Now the error will go away, and the URL http://*yoursite*/ will reach the desktop homepage, and http://*yoursite*/mobile/ will reach the mobile homepage.</span></span>

### <a name="redirecting-mobile-visitors-to-your-mobile-area"></a><span data-ttu-id="2d5d3-292">Przekierowywanie gości przenośne obszaru przenośnych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-292">Redirecting mobile visitors to your mobile area</span></span>

<span data-ttu-id="2d5d3-293">Istnieje wiele punktów rozszerzalności różnych na platformie ASP.NET MVC, więc istnieje wiele sposobów możliwych do dodania logiki przekierowania.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-293">There are many different extensibility points in ASP.NET MVC, so there are many possible ways to inject redirection logic.</span></span> <span data-ttu-id="2d5d3-294">Jedną z opcji porządek jest można utworzyć atrybutu filtru, [RedirectMobileDevicesToMobileArea], który wykonuje przekierowanie, jeśli są spełnione następujące warunki:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-294">One neat option is to create a filter attribute, [RedirectMobileDevicesToMobileArea], that performs a redirection if the following conditions are met:</span></span>

1. <span data-ttu-id="2d5d3-295">Jest to pierwsze żądanie w sesji użytkownika (tj. Session.IsNewSession jest równa true)</span><span class="sxs-lookup"><span data-stu-id="2d5d3-295">It's the first request in the user's session (i.e., Session.IsNewSession equals true)</span></span>
2. <span data-ttu-id="2d5d3-296">Żądanie pochodzi z przenośnymi przeglądarki (np. Request.Browser.IsMobileDevice jest równa true)</span><span class="sxs-lookup"><span data-stu-id="2d5d3-296">The request comes from a mobile browser (i.e., Request.Browser.IsMobileDevice equals true)</span></span>
3. <span data-ttu-id="2d5d3-297">Użytkownik nie jest już żąda zasobu w obszarze przenośnych (np. *ścieżki* część adresu URL nie rozpoczyna się od /Mobile)</span><span class="sxs-lookup"><span data-stu-id="2d5d3-297">The user is not already requesting a resource in the mobile area (i.e., the *path* part of the URL does not begin with /Mobile)</span></span>

<span data-ttu-id="2d5d3-298">Do pobrania próbki uwzględnionych w tym oficjalnym dokumencie zawiera implementację tego logiki.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-298">The downloadable sample included with this white paper includes an implementation of this logic.</span></span> <span data-ttu-id="2d5d3-299">Są one zaimplementowane jako filtr autoryzacji pochodzi od klasy AuthorizeAttribute, co oznacza, że jej poprawnego działania nawet wtedy, gdy używasz buforowanie danych wyjściowych (w przeciwnym razie jeśli może być w pamięci podręcznej i następnie udostępniane pulpitu odwiedzający pierwszy uzyskuje dostęp do niektórych adresu URL, pulpitu dane wyjściowe kolejne gości przenośne)</span><span class="sxs-lookup"><span data-stu-id="2d5d3-299">It's implemented as an authorization filter, derived from AuthorizeAttribute, which means it can work correctly even if you are using output caching (otherwise, if a desktop visitor first accesses a certain URL, the desktop output might be cached and then served to subsequent mobile visitors).</span></span>

<span data-ttu-id="2d5d3-300">Jak filtr, można wybrać jedną do określonych kontrolerów i akcji, np.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-300">As it's a filter, you can choose either to apply it to specific controllers and actions, e.g.,</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample10.cs)]

<span data-ttu-id="2d5d3-301">…</span><span class="sxs-lookup"><span data-stu-id="2d5d3-301">…</span></span> <span data-ttu-id="2d5d3-302">zastosowanie do wszystkich kontrolerów i akcji jako MVC 3 lub *filtrów globalnych* w pliku Global.asax.cs:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-302">or you can apply it to all controllers and actions as an MVC 3 *global filter* in your Global.asax.cs file:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample11.cs)]

<span data-ttu-id="2d5d3-303">Do pobrania przykładzie pokazano także, jak utworzyć podklasy tego atrybutu, które przekierowują do określonych lokalizacji w Twoim rejonie przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-303">The downloadable sample also demonstrates how you can create subclasses of this attribute that redirect to specific locations within your mobile area.</span></span> <span data-ttu-id="2d5d3-304">Oznacza to, na przykład można wykonywać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-304">This means, for example, you can:</span></span>

- <span data-ttu-id="2d5d3-305">Zarejestrowanie filtru globalnego jak pokazano powyżej wysyłanej przenośnych odwiedzających przenośnych strony głównej domyślnie.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-305">Register a global filter as shown above that sends mobile visitors to the mobile homepage by default.</span></span>
- <span data-ttu-id="2d5d3-306">Dotyczą także specjalne filtru [RedirectMobileDevicesToMobileProductPage] akcję "Wyświetl produkt", która przyjmuje gości przenośne do mobilnej wersji niezależnie od ich była żądana strona produktu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-306">Also apply a special [RedirectMobileDevicesToMobileProductPage] filter to a "view product" action that takes mobile visitors to the mobile version of whatever product page they had requested.</span></span>
- <span data-ttu-id="2d5d3-307">Mają zastosowanie również w innych specjalnych podklasy filtru określonych czynności, przekierowywanie gości przenośne do odpowiedniej strony przenośnych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-307">Also apply other special subclasses of the filter to specific actions, redirecting mobile visitors to the equivalent mobile page</span></span>

### <a name="configuring-forms-authentication-to-respect-your-mobile-pages"></a><span data-ttu-id="2d5d3-308">Konfigurowanie uwierzytelniania formularzy do przestrzegania Twojej stron dla urządzeń przenośnych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-308">Configuring Forms Authentication to respect your mobile pages</span></span>

<span data-ttu-id="2d5d3-309">Jeśli używane jest uwierzytelnianie formularzy, należy zauważyć, że gdy użytkownik musi się zalogować, go automatycznie przekierowuje użytkownika do jeden określonych "Logowanie" adres URL, czyli domyślnie **/Account/logowania**.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-309">If you're using Forms Authentication, you should note that when a user needs to log in, it automatically redirects the user to a single specific "log on" URL, which by default is **/Account/LogOn**.</span></span> <span data-ttu-id="2d5d3-310">Oznacza to, że użytkowników mobilnych mogą być przekierowywane na akcję pulpitu "Logowanie".</span><span class="sxs-lookup"><span data-stu-id="2d5d3-310">This means that mobile users may be redirected to your desktop "log on" action.</span></span>

<span data-ttu-id="2d5d3-311">Aby uniknąć tego problemu, Dodaj logikę do pulpitu akcji "Logowanie", aby ponownie przekierowuje użytkowników urządzeń przenośnych do przenośnych akcji "Logowanie".</span><span class="sxs-lookup"><span data-stu-id="2d5d3-311">To avoid this problem, add logic to your desktop "log on" action so that it redirects mobile users again to a mobile "log on" action.</span></span> <span data-ttu-id="2d5d3-312">Jeśli używasz domyślnego szablonu aplikacji platformy ASP.NET MVC, zaktualizuj działań logowania tego elementu AccountController w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-312">If you're using the default ASP.NET MVC application template, update AccountController's LogOn action as follows:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample12.cs)]

<span data-ttu-id="2d5d3-313">…</span><span class="sxs-lookup"><span data-stu-id="2d5d3-313">…</span></span> <span data-ttu-id="2d5d3-314">a następnie wdrożyć odpowiednich akcji "Logowanie" mobile określonych w kontrolerze o nazwie elementu AccountController w Twoim rejonie przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-314">and then implement a suitable mobile-specific "log on" action on a controller called AccountController in your Mobile area.</span></span>

### <a name="working-with-output-caching"></a><span data-ttu-id="2d5d3-315">Praca z buforowanie danych wyjściowych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-315">Working with Output Caching</span></span>

<span data-ttu-id="2d5d3-316">Jeśli używasz filtru [OutputCache], należy wymusić wpisu pamięci podręcznej do zależy od typu urządzenia.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-316">If you're using the [OutputCache] filter, you must force the cache entry to vary by device type.</span></span> <span data-ttu-id="2d5d3-317">Na przykład zapisu:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-317">For example, write:</span></span>

[!code-javascript[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample13.js)]

<span data-ttu-id="2d5d3-318">Następnie dodaj następującą metodę do pliku Global.asax.cs:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-318">Then, add the following method to your Global.asax.cs file:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample14.cs)]

<span data-ttu-id="2d5d3-319">Daje to pewność, że przenośnych odwiedzin strony nie otrzyma dane wyjściowe wcześniej umieszczane w pamięci podręcznej przez obiekt odwiedzający pulpitu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-319">This will ensure that mobile visitors to the page don't receive output previously put into the cache by a desktop visitor.</span></span>

### <a name="a-working-example"></a><span data-ttu-id="2d5d3-320">Przykład pracy</span><span class="sxs-lookup"><span data-stu-id="2d5d3-320">A working example</span></span>

<span data-ttu-id="2d5d3-321">Aby wyświetlić te techniki w akcji, Pobierz [kodu w tym oficjalnym dokumencie skojarzone przykłady](https://docs.microsoft.com/aspnet/mobile/overview).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-321">To see these techniques in action, download [this white paper's code associated samples](https://docs.microsoft.com/aspnet/mobile/overview).</span></span> <span data-ttu-id="2d5d3-322">Przykład obejmuje aplikacji ASP.NET MVC 3 (Release Candidate) rozszerzony do obsługi urządzeń przenośnych za pomocą metod opisanych powyżej.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-322">The sample includes an ASP.NET MVC 3 (Release Candidate) application enhanced to support mobile devices using the methods described above.</span></span>

## <a name="further-guidance-and-suggestions"></a><span data-ttu-id="2d5d3-323">Dalsze wskazówki i sugestie</span><span class="sxs-lookup"><span data-stu-id="2d5d3-323">Further guidance and suggestions</span></span>

<span data-ttu-id="2d5d3-324">Następujące dyskusji odnosi się zarówno do formularzy sieci Web i MVC deweloperów, którzy korzystają z techniki omówione w tym dokumencie.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-324">The following discussion applies both to Web Forms and MVC developers who are using the techniques covered in this document.</span></span>

### <a name="enhancing-your-redirection-logic-using-51degreesmobi-foundation"></a><span data-ttu-id="2d5d3-325">Udoskonalanie logiki przekierowania przy użyciu 51Degrees.mobi Foundation</span><span class="sxs-lookup"><span data-stu-id="2d5d3-325">Enhancing your redirection logic using 51Degrees.mobi Foundation</span></span>

<span data-ttu-id="2d5d3-326">Logiki przekierowania opisane w tym dokumencie może być całkowicie wystarczający dla aplikacji, ale nie będzie działać, jeśli trzeba wyłączyć sesji lub z przeglądarek urządzeń przenośnych, które odrzucić pliki cookie (te nie mogą mieć sesje), ponieważ nie będzie wiadomo, czy danego żądania jest pierwsza od tej osoby odwiedzającej.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-326">The redirection logic shown in this document may be perfectly sufficient for your application, but it won't work if you need to disable sessions, or with mobile browsers that reject cookies (these can't have sessions), because it won't know whether a given request is the first one from that visitor.</span></span>

<span data-ttu-id="2d5d3-327">Wiesz już, jak poprawić dokładność ASP 51Degrees.mobi typu open source Foundation. Wykrywanie przeglądarki w sieci.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-327">You already learned how the open source 51Degrees.mobi Foundation can improve the accuracy of ASP.NET's browser detection.</span></span> <span data-ttu-id="2d5d3-328">Ma ona wbudowana możliwość przekierowania gości przenośne do określonych lokalizacji skonfigurowany w pliku Web.config. Może działać bez w zależności od sesji platformy ASP.NET (i w związku z tym pliki cookie) przez zapisanie tymczasowego dziennika wartości skrótów odwiedzających nagłówków HTTP i adresów IP, dlatego bez informacji czy każdego żądania jest pierwsza od danego vistor.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-328">It also has a built-in ability to redirect mobile visitors to specific locations configured in Web.config. It's able to work without depending on ASP.NET Sessions (and hence cookies) by storing a temporary log of hashes of visitors' HTTP headers and IP addresses, so it knows whether or not each request is the first one from a given vistor.</span></span>

<span data-ttu-id="2d5d3-329">Następujący element dodawać do sekcji fiftyOne pliku web.config przekieruje pierwsze żądanie z wykrytego urządzenia przenośnego do strony ~ / Mobile/Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-329">The following element added to the fiftyOne section of the web.config file will redirect the first request from a detected mobile device to the page ~/Mobile/Default.aspx.</span></span> <span data-ttu-id="2d5d3-330">Wszystkie żądania dotyczące stron w folderze przenośnych będą *nie* przekierowanie, niezależnie od typu urządzenia.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-330">Any requests to pages under the Mobile folder will *not* be redirected, regardless of device type.</span></span> <span data-ttu-id="2d5d3-331">Jeśli urządzenie przenośne jest nieaktywny przez okres 20 minut lub więcej urządzeń będzie można zapomnienia hasła i kolejne żądania będą traktowane jako nowe na potrzeby przekierowania.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-331">If the mobile device has been inactive for a period of 20 minutes or more the device will be forgotten and subsequent requests will be treated as new ones for the purposes of redirection.</span></span>

[!code-xml[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample15.xml)]

<span data-ttu-id="2d5d3-332">Aby uzyskać więcej informacji, zobacz [51degrees.mobi dokumentacji Foundation](https://github.com/51Degrees/dotNET-Device-Detection).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-332">For more details, see [51degrees.mobi Foundation documentation](https://github.com/51Degrees/dotNET-Device-Detection).</span></span>

> [!NOTE]
> <span data-ttu-id="2d5d3-333">Możesz *można* Foundation 51Degrees.mobi Użyj funkcji Przekierowanie na aplikacje programu ASP.NET MVC, ale należy zdefiniować konfiguracji przekierowania w postaci zwykłego adresów URL, nie pod względem routingu parametrów lub poprzez umieszczenie filtrów platformy MVC na działania.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-333">You *can* use 51Degrees.mobi Foundation's redirection feature on ASP.NET MVC applications, but you will need to define your redirection configuration in terms of plain URLs, not in terms of routing parameters or by putting MVC filters on actions.</span></span> <span data-ttu-id="2d5d3-334">Jest to spowodowane (w czasie zapisywania) nie może rozpoznać 51Degrees.mobi Foundation filtry lub routingu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-334">This is because (at the time of writing) 51Degrees.mobi Foundation does not recognize filters or routing.</span></span>


### <a name="disabling-transcoders-and-proxy-servers"></a><span data-ttu-id="2d5d3-335">Wyłączenie Transkodery i serwerów Proxy</span><span class="sxs-lookup"><span data-stu-id="2d5d3-335">Disabling Transcoders and Proxy Servers</span></span>

<span data-ttu-id="2d5d3-336">Operatory sieci komórkowej ma dwa cele szerokie w ich podejście do przenośnych internet:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-336">Mobile network operators have two broad objectives in their approach to the mobile internet:</span></span>

1. <span data-ttu-id="2d5d3-337">Podaj jako znacznie odpowiedniej zawartości, jak to możliwe</span><span class="sxs-lookup"><span data-stu-id="2d5d3-337">Provide as much relevant content as possible</span></span>
2. <span data-ttu-id="2d5d3-338">Zwiększenie liczby klientów, którzy mogą udostępniać opcji ograniczona przepustowość sieci</span><span class="sxs-lookup"><span data-stu-id="2d5d3-338">Maximize the number of customers who can share the limited radio network bandwidth</span></span>

<span data-ttu-id="2d5d3-339">Ponieważ większość stron sieci web zostały zaprojektowane dla dużych ekranów o rozmiarze pulpitu i połączenia szerokopasmowego fast stałej wierszy, użyj wielu operatorów *transkodery* lub *serwerów proxy* który dynamicznie zmieniać zawartość sieci web.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-339">Since most web pages were designed for large desktop-sized screens and fast fixed-line broadband connections, many operators use *transcoders* or *proxy servers* that dynamically alter web content.</span></span> <span data-ttu-id="2d5d3-340">Mogą oni modyfikować z kodu znaczników HTML lub CSS do własnych mniejszych ekranach (szczególnie w przypadku "Funkcja telefony" braku mocy obliczeniowej do obsługi złożonych układów), a ich może ponownie kompresować obrazów (ograniczaniu ich jakości) do zwiększenia szybkości dostarczania strony.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-340">They may modify your HTML markup or CSS to suit smaller screens (especially for "feature phones" that lack the processing power to handle complex layouts), and they may recompress your images (significantly reducing their quality) to improve page delivery speeds.</span></span>

<span data-ttu-id="2d5d3-341">Ale jeśli zajęło starań, aby utworzyć zoptymalizowanych pod kątem mobile wersji lokacji, nie będzie prawdopodobnie operatorem sieci, aby zakłócać jego dowolne dodatkowe.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-341">But if you've taken the effort to produce a mobile-optimized version of your site, you probably don't want the network operator to interfere with it any further.</span></span> <span data-ttu-id="2d5d3-342">Na stronie można Dodaj następujący wiersz\_zdarzeń obciążenia w jakimkolwiek formularzu sieci Web platformy ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-342">You can add the following line to the Page\_Load event in any ASP.NET Web Form:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample16.cs)]

<span data-ttu-id="2d5d3-343">Lub kontrolera ASP.NET MVC, można dodać następujące metodę zastępującą, że jest ona stosowana do wszystkich akcji na tym kontrolerze:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-343">Or, for an ASP.NET MVC controller, you could add the following method override so that it applies to all actions on that controller:</span></span>

[!code-csharp[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample17.cs)]

<span data-ttu-id="2d5d3-344">Wynikowy komunikat HTTP informuje W3C transkodery zgodne i serwerów proxy, aby nie zmieniać zawartość.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-344">The resulting HTTP message informs W3C compliant transcoders and proxies not to alter content.</span></span> <span data-ttu-id="2d5d3-345">Oczywiście nie ma żadnej gwarancji, że operatorów sieci komórkowej szanuje tego komunikatu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-345">Of course, there is no guarantee that mobile network operators will respect this message.</span></span>

### <a name="styling-mobile-pages-for-mobile-browsers"></a><span data-ttu-id="2d5d3-346">Ustawianie stylów stron dla przeglądarki dla urządzeń przenośnych dla urządzeń przenośnych</span><span class="sxs-lookup"><span data-stu-id="2d5d3-346">Styling mobile pages for mobile browsers</span></span>

<span data-ttu-id="2d5d3-347">Wykracza poza zakres tego dokumentu opisano szczegółowo jakiego rodzaju pracy kod znaczników HTML poprawnie lub które technik projektu sieci web zmaksymalizować użyteczność na poszczególnych urządzeń.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-347">It's beyond the scope of this document to describe in great detail what kinds of HTML markup work correctly or which web design techniques maximize usability on particular devices.</span></span> <span data-ttu-id="2d5d3-348">Się użytkownikowi w celu znalezienia wystarczająco prostym układzie, optymalizacji dla ekranu o rozmiarze mobile, bez użycia zawodnych HTML i CSS pozycjonowanie wskazówki.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-348">It's up to you to find a sufficiently simple layout, optimized for a mobile-sized screen, without using unreliable HTML or CSS positioning tricks.</span></span> <span data-ttu-id="2d5d3-349">Co ważne technika, warto zauważyć, jednak jest *okienka ekranu metatag*.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-349">One important technique worth mentioning, however, is the *viewport meta tag*.</span></span>

<span data-ttu-id="2d5d3-350">Niektóre nowoczesnych przeglądarkach dla urządzeń przenośnych, na stronach sieci web wyświetlaną nakładu przeznaczone dla monitorów pulpitu renderowania strony na kanwie wirtualne, nazywane również "okienka ekranu" (np. wirtualnych okienka ekranu jest 980 pikseli szerokości na telefonie iPhone i 850 pikseli szerokości w programie Opera Mobile domyślnie), a następnie Skalowanie wynik w dół do mieszczą się w pikselach fizycznych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-350">Certain modern mobile browsers, in an effort display web pages meant for desktop monitors, render the page on a virtual canvas, also called "viewport" (e.g., the virtual viewport is 980 pixels wide on iPhone, and 850 pixels wide on Opera Mobile by default) and then scale the result down to fit onto the screen's physical pixels.</span></span> <span data-ttu-id="2d5d3-351">Użytkownik może następnie powiększanie i przesuwanie tego okienka ekranu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-351">The user can then zoom in and pan around that viewport.</span></span> <span data-ttu-id="2d5d3-352">To ma tę zaletę, że umożliwia przeglądarka wyświetli tej strony w jej układu zamierzone, ale jest również ma wada to wymusza powiększanie i przesuwanie, czyli niewygodne dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-352">This has the advantage that it lets the browser display the page in its intended layout, but it's also has the disadvantage that it forces zooming and panning, which is inconvenient for the user.</span></span> <span data-ttu-id="2d5d3-353">Projektując dla urządzeń przenośnych, lepiej jest do projektowania dla wąskie ekranu tak, że niezbędne jest nie powiększanie i przewijanie w poziomie.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-353">If you're designing for mobile, it's better to design for a narrow screen so that no zooming or horizontal scrolling is necessary.</span></span>

<span data-ttu-id="2d5d3-354">Sposób mówić przenośnych przeglądarki, jak szeroka powinna być okienko ekranu jest za pomocą niestandardowych *okienka ekranu* meta tag.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-354">A way to tell the mobile browser how wide the viewport should be is through the nonstandard *viewport* meta tag.</span></span> <span data-ttu-id="2d5d3-355">Na przykład dodać następujące sekcji HEAD ze strony</span><span class="sxs-lookup"><span data-stu-id="2d5d3-355">For example, if you add the following to your page's HEAD section,</span></span>

[!code-html[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample18.html)]

<span data-ttu-id="2d5d3-356">…</span><span class="sxs-lookup"><span data-stu-id="2d5d3-356">…</span></span> <span data-ttu-id="2d5d3-357">następnie Obsługa przeglądarek smartphone będzie układ strony na kanwie wielu wirtualnych 480 pikseli.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-357">then supporting smartphone browsers will lay out the page on a 480-pixel wide virtual canvas.</span></span> <span data-ttu-id="2d5d3-358">Oznacza to, że elementów HTML zdefiniować ich szerokość procentowo, wartości procentowe będą interpretowane względem tego 480 pikseli szerokości, nie domyślnej szerokości okienka ekranu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-358">This means that if your HTML elements define their widths in percentage terms, the percentages will be interpreted with respect to this 480-pixel width, not the default viewport width.</span></span> <span data-ttu-id="2d5d3-359">W związku z tym użytkownik jest mniej prawdopodobne do powiększanie i przesuwanie poziomo — znacznie poprawy przeglądania na urządzeniach przenośnych.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-359">As a result, the user is less likely to have to zoom and pan horizontally – considerably improving the mobile browsing experience.</span></span>

<span data-ttu-id="2d5d3-360">Ma szerokość okienka ekranu do dopasowania w pikselach fizycznych urządzenia można określić następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="2d5d3-360">If you want the viewport width to match the device's physical pixels, you can specify the following:</span></span>

[!code-html[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample19.html)]

<span data-ttu-id="2d5d3-361">Dla tego działał prawidłowo, należy nie jawnie wymusić elementy przekroczenie tego szerokości (np. przy użyciu *szerokość* atrybutu lub właściwości CSS), wymuszają przeglądarki do użycia niezależnie od większych okienka ekranu.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-361">For this to work correctly, you must not explicitly force elements to exceed that width (e.g., using a *width* attribute or CSS property), otherwise the browser will be forced to use a larger viewport regardless.</span></span> <span data-ttu-id="2d5d3-362">Zobacz też: [więcej szczegółów na temat znacznika okienka ekranu niestandardowe](https://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-362">See also: [more details about the nonstandard viewport tag](https://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html).</span></span>

<span data-ttu-id="2d5d3-363">Obsługuje większość nowoczesnych smartfonów *podwójną orientacji*: może być przechowywany w trybie pionowa lub pozioma.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-363">Most modern smartphones support *dual orientation*: they can be held in either portrait or landscape mode.</span></span> <span data-ttu-id="2d5d3-364">Dlatego ważne jest nie dokonywać założenia dotyczące szerokość ekranu w pikselach.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-364">So, it's important not to make assumptions about the screen width in pixels.</span></span> <span data-ttu-id="2d5d3-365">Nie nawet założono, że jest stała szerokość ekranu, ponieważ użytkownika ponownie można ustawić orientację swojego urządzenia, gdy są one na stronie.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-365">Don't even assume that the screen width is fixed, because the user can re-orient their device while they are on your page.</span></span>

<span data-ttu-id="2d5d3-366">Starsze urządzenia Windows Mobile i Blackberry również może przyjmować następujące tagi meta w nagłówku strony, aby poinformować zawartości został zoptymalizowany dla urządzeń przenośnych i dlatego nie powinny zostać przekształcone.</span><span class="sxs-lookup"><span data-stu-id="2d5d3-366">Older Windows Mobile and Blackberry devices may also accept the following meta tags in the page header to inform them content has been optimized for mobile and therefore should not be transformed.</span></span>

[!code-html[Main](add-mobile-pages-to-your-aspnet-web-forms-mvc-application/samples/sample20.html)]

## <a name="additional-resources"></a><span data-ttu-id="2d5d3-367">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="2d5d3-367">Additional Resources</span></span>

<span data-ttu-id="2d5d3-368">Listę urządzeń przenośnych emulatorów i symulatorów, można użyć do testowania aplikacji mobilnej sieci web ASP.NET, zobacz stronę [symulować popularnych urządzeń przenośnych na potrzeby testowania](../mobile/device-simulators.md).</span><span class="sxs-lookup"><span data-stu-id="2d5d3-368">For a list of mobile device emulators and simulators you can use to test your mobile ASP.NET web application, see the page [Simulate popular mobile devices for testing](../mobile/device-simulators.md).</span></span>

## <a name="credits"></a><span data-ttu-id="2d5d3-369">Środki na korzystanie z</span><span class="sxs-lookup"><span data-stu-id="2d5d3-369">Credits</span></span>

- <span data-ttu-id="2d5d3-370">Główny Autor: Steven Sanderson</span><span class="sxs-lookup"><span data-stu-id="2d5d3-370">Primary author: Steven Sanderson</span></span>
- <span data-ttu-id="2d5d3-371">Osoby dokonujące przeglądu / dodatkowe składniki zapisywania zawartości: Rosewell Kuba, Mikael Söderström, Scott Hanselman, Scott myśliwego</span><span class="sxs-lookup"><span data-stu-id="2d5d3-371">Reviewers / additional content writers: James Rosewell, Mikael Söderström, Scott Hanselman, Scott Hunter</span></span>
