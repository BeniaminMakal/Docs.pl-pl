---
uid: web-forms/overview/data-access/caching-data/caching-data-at-application-startup-cs
title: Buforowanie danych przy uruchamianiu aplikacji (C#) | Dokumentacja firmy Microsoft
author: rick-anderson
description: W dowolnej aplikacji sieci Web niektórych danych będzie często używane, a niektóre dane będą rzadko używane. Firma Microsoft może poprawić wydajność naszych b aplikacji ASP.NET...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/30/2007
ms.topic: article
ms.assetid: 22ca8efa-7cd1-45a7-b9ce-ce6eb3b3ff95
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/caching-data/caching-data-at-application-startup-cs
msc.type: authoredcontent
ms.openlocfilehash: 8d962a182b5136d3e44ce678a355c9679b4c8be1
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2018
ms.locfileid: "30879169"
---
<a name="caching-data-at-application-startup-c"></a><span data-ttu-id="dc982-104">Buforowanie danych przy uruchamianiu aplikacji (C#)</span><span class="sxs-lookup"><span data-stu-id="dc982-104">Caching Data at Application Startup (C#)</span></span>
====================
<span data-ttu-id="dc982-105">przez [Bento Scott](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="dc982-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="dc982-106">Pobierz plik PDF</span><span class="sxs-lookup"><span data-stu-id="dc982-106">Download PDF</span></span>](caching-data-at-application-startup-cs/_static/datatutorial60cs1.pdf)

> <span data-ttu-id="dc982-107">W dowolnej aplikacji sieci Web niektórych danych będzie często używane, a niektóre dane będą rzadko używane.</span><span class="sxs-lookup"><span data-stu-id="dc982-107">In any Web application some data will be frequently used and some data will be infrequently used.</span></span> <span data-ttu-id="dc982-108">Możemy ulepszyć wydajność aplikacji ASP.NET przez wcześniej podczas ładowania danych często używane techniki nazywanej.</span><span class="sxs-lookup"><span data-stu-id="dc982-108">We can improve the performance of our ASP.NET application by loading in advance the frequently-used data, a technique known as.</span></span> <span data-ttu-id="dc982-109">W tym samouczku przedstawiono jeden ze sposobów aktywne ładowanie, która umożliwia ładowanie danych do pamięci podręcznej podczas uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-109">This tutorial demonstrates one approach to proactive loading, which is to load data into the cache at application startup.</span></span>


## <a name="introduction"></a><span data-ttu-id="dc982-110">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="dc982-110">Introduction</span></span>

<span data-ttu-id="dc982-111">Dwa poprzednie samouczki przeglądał buforowania danych w prezentacji i buforowanie warstwy.</span><span class="sxs-lookup"><span data-stu-id="dc982-111">The two previous tutorials looked at caching data in the Presentation and Caching Layers.</span></span> <span data-ttu-id="dc982-112">W [buforowanie danych z elementu ObjectDataSource](caching-data-with-the-objectdatasource-cs.md), analizujemy przy użyciu s ObjectDataSource buforowanie funkcje do pamięci podręcznej danych w warstwie prezentacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-112">In [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md), we looked at using the ObjectDataSource s caching features to cache data in the Presentation Layer.</span></span> <span data-ttu-id="dc982-113">[Buforowanie danych w architekturze](caching-data-in-the-architecture-cs.md) zbadane, buforowanie na nowe, oddzielne buforowanie warstwie.</span><span class="sxs-lookup"><span data-stu-id="dc982-113">[Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) examined caching in a new, separate Caching Layer.</span></span> <span data-ttu-id="dc982-114">Oba te samouczki używane *reaktywne ładowania* w pracy z pamięci podręcznej danych.</span><span class="sxs-lookup"><span data-stu-id="dc982-114">Both of these tutorials used *reactive loading* in working with the data cache.</span></span> <span data-ttu-id="dc982-115">Z reaktywne, każdy czasu ładowania danych jest wymagana, system najpierw sprawdza, czy jego s w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dc982-115">With reactive loading, each time the data is requested, the system first checks if it s in the cache.</span></span> <span data-ttu-id="dc982-116">W przeciwnym razie go grabs danych ze źródła pochodzenia, takie jak bazy danych, a następnie przechowuje je w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dc982-116">If not, it grabs the data from the originating source, such as the database, and then stores it in the cache.</span></span> <span data-ttu-id="dc982-117">Główną zaletą reaktywne obciążenia jest łatwość wdrażania.</span><span class="sxs-lookup"><span data-stu-id="dc982-117">The main advantage to reactive loading is its ease of implementation.</span></span> <span data-ttu-id="dc982-118">Jeden z jego wady jest jej wydajność nierówna żądań.</span><span class="sxs-lookup"><span data-stu-id="dc982-118">One of its disadvantages is its uneven performance across requests.</span></span> <span data-ttu-id="dc982-119">Wyobraź sobie strona, która używa warstwa buforowanie z poprzednim samouczek, aby wyświetlić informacje o produkcie.</span><span class="sxs-lookup"><span data-stu-id="dc982-119">Imagine a page that uses the Caching Layer from the preceding tutorial to display product information.</span></span> <span data-ttu-id="dc982-120">Gdy ta strona jest odwiedzi po raz pierwszy, lub że odwiedzono po raz pierwszy po buforowane dane został wykluczony z powodu ograniczeń pamięci lub po upływie określonego osiągnięte, dane muszą pobierane z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="dc982-120">When this page is visited for the first time, or visited for the first time after the cached data has been evicted due to memory constraints or the specified expiry having been reached, the data must be retrieved from the database.</span></span> <span data-ttu-id="dc982-121">W związku z tym te żądania użytkowników będzie trwało dłużej niż żądania użytkowników, które mogą być przekazywane przez pamięć podręczną.</span><span class="sxs-lookup"><span data-stu-id="dc982-121">Therefore, these users requests will take longer than users requests that can be served by the cache.</span></span>

<span data-ttu-id="dc982-122">*Aktywne ładowanie* zapewnia strategii zarządzania alternatywnych pamięci podręcznej tego wygładza wydajność żądań przez ładowania pamięci podręcznej danych przed nią s potrzebne.</span><span class="sxs-lookup"><span data-stu-id="dc982-122">*Proactive loading* provides an alternative cache management strategy that smoothes out the performance across requests by loading the cached data before it s needed.</span></span> <span data-ttu-id="dc982-123">Zazwyczaj aktywne ładowanie używa niektórych procesu, który okresowo sprawdza albo jest powiadomienie, gdy został aktualizacji w danych źródłowych.</span><span class="sxs-lookup"><span data-stu-id="dc982-123">Typically, proactive loading uses some process that either periodically checks or is notified when there has been an update to the underlying data.</span></span> <span data-ttu-id="dc982-124">Następnie ten proces aktualizuje pamięci podręcznej, aby zapewnić jego nowa.</span><span class="sxs-lookup"><span data-stu-id="dc982-124">This process then updates the cache to keep it fresh.</span></span> <span data-ttu-id="dc982-125">Aktywne ładowanie jest szczególnie przydatne, gdy dane pochodzą z połączenia z bazą danych powolne, usługi sieci Web lub z innego źródła danych szczególnie wolna.</span><span class="sxs-lookup"><span data-stu-id="dc982-125">Proactive loading is especially useful if the underlying data comes from a slow database connection, a Web service, or some other particularly sluggish data source.</span></span> <span data-ttu-id="dc982-126">Jednak takie podejście do aktywnego ładowania jest trudniejsze do zaimplementowania, ponieważ wymaga ona tworzenia, zarządzania i wdrażania procesu, aby sprawdzić zmiany i zaktualizować pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dc982-126">But this approach to proactive loading is more difficult to implement, as it requires creating, managing, and deploying a process to check for changes and update the cache.</span></span>

<span data-ttu-id="dc982-127">Inną wersję aktywne ładowanie i typ, który firma Microsoft będzie Eksplorowanie w tym samouczku ładuje dane w pamięci podręcznej podczas uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-127">Another flavor of proactive loading, and the type we'll be exploring in this tutorial, is loading data into the cache at application startup.</span></span> <span data-ttu-id="dc982-128">Ta metoda jest szczególnie przydatna w przypadku buforowania danych statycznych, takich jak rekordy z bazy danych wyszukiwania tabel.</span><span class="sxs-lookup"><span data-stu-id="dc982-128">This approach is especially useful for caching static data, such as the records in database lookup tables.</span></span>

> [!NOTE]
> <span data-ttu-id="dc982-129">Więcej informacji na temat przyjrzeć różnice między proaktywne i reaktywne ładowania, a także listę zalet, wad i zalecenia dotyczące wdrażania, można znaleźć w temacie [Zarządzanie zawartość pamięci podręcznej](https://msdn.microsoft.com/library/ms978503.aspx) części [ Buforowanie w aplikacjach .NET Framework w Przewodniku dotyczącym architektury](https://msdn.microsoft.com/library/ms978498.aspx).</span><span class="sxs-lookup"><span data-stu-id="dc982-129">For a more in-depth look at the differences between proactive and reactive loading, as well as lists of pros, cons, and implementation recommendations, refer to the [Managing the Contents of a Cache](https://msdn.microsoft.com/library/ms978503.aspx) section of the [Caching Architecture Guide for .NET Framework Applications](https://msdn.microsoft.com/library/ms978498.aspx).</span></span>


## <a name="step-1-determining-what-data-to-cache-at-application-startup"></a><span data-ttu-id="dc982-130">Krok 1: Określanie danych do pamięci podręcznej przy uruchamianiu aplikacji</span><span class="sxs-lookup"><span data-stu-id="dc982-130">Step 1: Determining What Data to Cache at Application Startup</span></span>

<span data-ttu-id="dc982-131">Przykłady buforowania, przy użyciu reaktywne ładowania, możemy badane w wcześniej pracy dwóch samouczki również z danymi, które okresowo mogą ulec zmianie i nie długo exorbitantly do wygenerowania.</span><span class="sxs-lookup"><span data-stu-id="dc982-131">The caching examples using reactive loading that we examined in the previous two tutorials work well with data that may periodically change and does not take exorbitantly long to generate.</span></span> <span data-ttu-id="dc982-132">Ale jeśli nigdy nie zmieniają się dane pamięci podręcznej, wygaśnięcia używane przez ładowanie reaktywne jest zbędny.</span><span class="sxs-lookup"><span data-stu-id="dc982-132">But if the cached data never changes, the expiry used by reactive loading is superfluous.</span></span> <span data-ttu-id="dc982-133">Podobnie jeśli dane są buforowane przyjmuje nadmiernie długi czas, aby wygenerować, następnie tych użytkowników, których żądania znaleźć pusta pamięci podręcznej będzie musiał generowane podczas długich oczekiwania podczas danych zostanie pobrana.</span><span class="sxs-lookup"><span data-stu-id="dc982-133">Likewise, if the data being cached takes an exceedingly long time to generate, then those users whose requests find the cache empty will have to endure a lengthy wait while the underlying data is retrieved.</span></span> <span data-ttu-id="dc982-134">Należy wziąć pod uwagę buforowanie danych statycznych i dane, które przyjmuje wyjątkowo dużo czasu, aby wygenerować podczas uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-134">Consider caching static data and data that takes an exceptionally long time to generate at application startup.</span></span>

<span data-ttu-id="dc982-135">Chociaż baz danych w wielu dynamiczny, często Zmienianie wartości większość ma także odpowiedniej ilości danych statycznych.</span><span class="sxs-lookup"><span data-stu-id="dc982-135">While databases have many dynamic, frequently-changing values, most also have a fair amount of static data.</span></span> <span data-ttu-id="dc982-136">Na przykład niemal wszystkich modeli danych ma co najmniej jedną kolumnę, zawierające określonej wartości z stałego zestawu opcji.</span><span class="sxs-lookup"><span data-stu-id="dc982-136">For example, virtually all data models have one or more columns that contain a particular value from a fixed set of choices.</span></span> <span data-ttu-id="dc982-137">A `Patients` tabeli bazy danych może być `PrimaryLanguage` kolumny, w których zestaw wartości może być angielski, hiszpański, francuski, rosyjski, japońskim i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="dc982-137">A `Patients` database table might have a `PrimaryLanguage` column, whose set of values could be English, Spanish, French, Russian, Japanese, and so on.</span></span> <span data-ttu-id="dc982-138">Często, te typy kolumn są implementowane za pomocą *tabele odnośników*.</span><span class="sxs-lookup"><span data-stu-id="dc982-138">Oftentimes, these types of columns are implemented using *lookup tables*.</span></span> <span data-ttu-id="dc982-139">Zamiast przechowywania ciągu angielskim i francuskim w `Patients` tabeli drugiej tabeli zostanie utworzone, często, dwóch kolumn — Unikatowy identyfikator i opis ciągu - z rekordem wszystkich możliwych wartości.</span><span class="sxs-lookup"><span data-stu-id="dc982-139">Rather than storing the string English or French in the `Patients` table, a second table is created that has, commonly, two columns - a unique identifier and a string description - with a record for each possible value.</span></span> <span data-ttu-id="dc982-140">`PrimaryLanguage` Kolumny w `Patients` odpowiedniego Unikatowy identyfikator w tabeli są przechowywane w tabeli odnośników.</span><span class="sxs-lookup"><span data-stu-id="dc982-140">The `PrimaryLanguage` column in the `Patients` table stores the corresponding unique identifier in the lookup table.</span></span> <span data-ttu-id="dc982-141">Na rysunku 1 pacjenta Jan Nowak s podstawowy język jest angielski, zablokowaniu rosyjski Ed Johnson s.</span><span class="sxs-lookup"><span data-stu-id="dc982-141">In Figure 1, patient John Doe s primary language is English, while Ed Johnson s is Russian.</span></span>


![Tabela języków znajduje się tabela odnośników w tabeli pacjentów używana](caching-data-at-application-startup-cs/_static/image1.png)

<span data-ttu-id="dc982-143">**Rysunek 1**: `Languages` tabela znajduje się tabela odnośników używana przez `Patients` tabeli</span><span class="sxs-lookup"><span data-stu-id="dc982-143">**Figure 1**: The `Languages` Table is a Lookup Table Used by the `Patients` Table</span></span>


<span data-ttu-id="dc982-144">Interfejs użytkownika do edytowania lub tworzenia nowego pacjenta to listy rozwijanej, dopuszczalny języków wypełnienia rekordy w `Languages` tabeli.</span><span class="sxs-lookup"><span data-stu-id="dc982-144">The user interface for editing or creating a new patient would include a drop-down list of allowable languages populated by the records in the `Languages` table.</span></span> <span data-ttu-id="dc982-145">Bez buforowania, zawsze ten interfejs jest odwiedzi systemu należy zbadać `Languages` tabeli.</span><span class="sxs-lookup"><span data-stu-id="dc982-145">Without caching, each time this interface is visited the system must query the `Languages` table.</span></span> <span data-ttu-id="dc982-146">Jest to niepotrzebne i niepotrzebne ponieważ wartości tabeli odnośników zmienić bardzo rzadko, jeśli kiedykolwiek.</span><span class="sxs-lookup"><span data-stu-id="dc982-146">This is wasteful and unnecessary since lookup table values change very infrequently, if ever.</span></span>

<span data-ttu-id="dc982-147">Firma Microsoft może buforować `Languages` danych przy użyciu tych samych metod ładowania reaktywne w poprzednim samouczki.</span><span class="sxs-lookup"><span data-stu-id="dc982-147">We could cache the `Languages` data using the same reactive loading techniques examined in the previous tutorials.</span></span> <span data-ttu-id="dc982-148">Jednak reaktywne ładowania używa ważności na podstawie czasu, który nie jest wymagany dla danych z tabeli odnośników statycznych.</span><span class="sxs-lookup"><span data-stu-id="dc982-148">Reactive loading, however, uses a time-based expiry, which is not needed for static lookup table data.</span></span> <span data-ttu-id="dc982-149">Gdy buforowanie przy użyciu ładowania reaktywne będzie lepszym rozwiązaniem niż w ogóle nie buforowania, najlepszym rozwiązaniem byłoby aktywnego ładowania danych tabeli wyszukiwania w pamięci podręcznej podczas uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-149">While caching using reactive loading would be better than no caching at all, the best approach would be to proactively load the lookup table data into the cache at application startup.</span></span>

<span data-ttu-id="dc982-150">W tym samouczku przedstawiono sposób pamięci podręcznej danych z tabeli odnośników i innych informacji dotyczących statycznego.</span><span class="sxs-lookup"><span data-stu-id="dc982-150">In this tutorial we will look at how to cache lookup table data and other static information.</span></span>

## <a name="step-2-examining-the-different-ways-to-cache-data"></a><span data-ttu-id="dc982-151">Krok 2: Sprawdzenie różne sposoby dane z pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="dc982-151">Step 2: Examining the Different Ways to Cache Data</span></span>

<span data-ttu-id="dc982-152">Informacje mogą być buforowane programowo w aplikacji ASP.NET przy użyciu różnych metod.</span><span class="sxs-lookup"><span data-stu-id="dc982-152">Information can be programmatically cached in an ASP.NET application using a variety of approaches.</span></span> <span data-ttu-id="dc982-153">Firma Microsoft kolejnych już pokazano sposób użycia pamięci podręcznej danych w poprzednim samouczki.</span><span class="sxs-lookup"><span data-stu-id="dc982-153">We ve already seen how to use the data cache in previous tutorials.</span></span> <span data-ttu-id="dc982-154">Alternatywnie obiekty mogą być programowane buforowane przy użyciu *statyczne elementy członkowskie* lub *stan aplikacji*.</span><span class="sxs-lookup"><span data-stu-id="dc982-154">Alternatively, objects can be programmatically cached using *static members* or *application state*.</span></span>

<span data-ttu-id="dc982-155">Podczas pracy z klasy, zwykle należy najpierw można utworzyć wystąpienia klasy przed jej elementów członkowskich.</span><span class="sxs-lookup"><span data-stu-id="dc982-155">When working with a class, typically the class must first be instantiated before its members can be accessed.</span></span> <span data-ttu-id="dc982-156">Na przykład aby można było wywołać metodę z jednej z klas w naszym warstwy logiki biznesowej, należy najpierw utworzymy wystąpienia klasy:</span><span class="sxs-lookup"><span data-stu-id="dc982-156">For example, in order to invoke a method from one of the classes in our Business Logic Layer, we must first create an instance of the class:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample1.cs)]

<span data-ttu-id="dc982-157">Zanim firma Microsoft może wywołać *SomeMethod* i pracować z *SomeProperty*, firma Microsoft musi najpierw utworzyć wystąpienia klasy przy użyciu `new` — słowo kluczowe.</span><span class="sxs-lookup"><span data-stu-id="dc982-157">Before we can invoke *SomeMethod* or work with *SomeProperty*, we must first create an instance of the class using the `new` keyword.</span></span> <span data-ttu-id="dc982-158">*SomeMethod* i *SomeProperty* są skojarzone z konkretnym wystąpieniem.</span><span class="sxs-lookup"><span data-stu-id="dc982-158">*SomeMethod* and *SomeProperty* are associated with a particular instance.</span></span> <span data-ttu-id="dc982-159">Okres istnienia tych elementów członkowskich jest powiązany okres istnienia ich skojarzonego obiektu.</span><span class="sxs-lookup"><span data-stu-id="dc982-159">The lifetime of these members is tied to the lifetime of their associated object.</span></span> <span data-ttu-id="dc982-160">*Statyczne elementy członkowskie*, z drugiej strony są zmiennych, właściwości i metody, które są współużytkowane przez *wszystkie* wystąpień klasy, i w związku z tym, okres istnienia tak długo, jak klasa.</span><span class="sxs-lookup"><span data-stu-id="dc982-160">*Static members*, on the other hand, are variables, properties, and methods that are shared among *all* instances of the class and, consequently, have a lifetime as long as the class.</span></span> <span data-ttu-id="dc982-161">Statyczne elementy członkowskie są wskazywane przez słowo kluczowe `static`.</span><span class="sxs-lookup"><span data-stu-id="dc982-161">Static members are denoted by the keyword `static`.</span></span>

<span data-ttu-id="dc982-162">Oprócz elementy członkowskie static mogą być buforowane dane przy użyciu stanu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-162">In addition to static members, data can be cached using application state.</span></span> <span data-ttu-id="dc982-163">Każda aplikacja ASP.NET przechowuje kolekcji nazwa/wartość tego s współużytkowane przez wszystkich użytkowników i strony aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-163">Each ASP.NET application maintains a name/value collection that s shared across all users and pages of the application.</span></span> <span data-ttu-id="dc982-164">Ta kolekcja jest możliwy za pomocą [ `HttpContext` klasy](https://msdn.microsoft.com/library/system.web.httpcontext.aspx) s [ `Application` właściwości](https://msdn.microsoft.com/library/system.web.httpcontext.application.aspx)i użycia w klasie związanej z kodem strony ASP.NET w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="dc982-164">This collection can be accessed using the [`HttpContext` class](https://msdn.microsoft.com/library/system.web.httpcontext.aspx) s [`Application` property](https://msdn.microsoft.com/library/system.web.httpcontext.application.aspx), and used from an ASP.NET page s code-behind class like so:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample2.cs)]

<span data-ttu-id="dc982-165">Pamięć podręczna danych oferuje znacznie bardziej zaawansowane funkcje API do buforowania danych, dzięki czemu mechanizmów expiries na podstawie czasu i zależności, priorytetów elementu pamięci podręcznej i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="dc982-165">The data cache provides a much richer API for caching data, providing mechanisms for time- and dependency-based expiries, cache item priorities, and so forth.</span></span> <span data-ttu-id="dc982-166">Statyczne elementy członkowskie i stan aplikacji takich funkcji, należy dodać ręcznie przez dewelopera strony.</span><span class="sxs-lookup"><span data-stu-id="dc982-166">With static members and application state, such features must be manually added by the page developer.</span></span> <span data-ttu-id="dc982-167">Podczas buforowania danych podczas uruchamiania aplikacji przez czas ich istnienia aplikacji, jednak zalety s pamięci podręcznej danych są moot.</span><span class="sxs-lookup"><span data-stu-id="dc982-167">When caching data at application startup for the lifetime of the application, however, the data cache s advantages are moot.</span></span> <span data-ttu-id="dc982-168">W ramach tego samouczka przyjrzymy kod, który używa wszystkich trzech metod do buforowania danych statycznych.</span><span class="sxs-lookup"><span data-stu-id="dc982-168">In this tutorial we'll look at code that uses all three techniques for caching static data.</span></span>

## <a name="step-3-caching-thesupplierstable-data"></a><span data-ttu-id="dc982-169">Krok 3: Buforowanie`Suppliers`tabeli danych</span><span class="sxs-lookup"><span data-stu-id="dc982-169">Step 3: Caching the`Suppliers`Table Data</span></span>

<span data-ttu-id="dc982-170">Northwind bazy danych tabel, możemy kolejnych zaimplementowana do daty nie zawierają żadnych tabel odnośników tradycyjnych.</span><span class="sxs-lookup"><span data-stu-id="dc982-170">The Northwind database tables we ve implemented to date do not include any traditional lookup tables.</span></span> <span data-ttu-id="dc982-171">Cztery DataTables zaimplementowana w naszym DAL wszystkie tabele modelu, w których wartości są niestatycznego.</span><span class="sxs-lookup"><span data-stu-id="dc982-171">The four DataTables implemented in our DAL all model tables whose values are non-static.</span></span> <span data-ttu-id="dc982-172">Zamiast poświęcany czas, aby dodać nową tabelę DataTable warstwy DAL nowe klasy i metody logiki warstwy Biznesowej, dla tego samouczka let s właśnie podawać który `Suppliers` danych tabeli s jest statyczna.</span><span class="sxs-lookup"><span data-stu-id="dc982-172">Rather than spending the time to add a new DataTable to the DAL and then a new class and methods to the BLL, for this tutorial let s just pretend that the `Suppliers` table s data is static.</span></span> <span data-ttu-id="dc982-173">W związku z tym firma Microsoft może w pamięci podręcznej tych danych podczas uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-173">Therefore, we could cache this data at application startup.</span></span>

<span data-ttu-id="dc982-174">Aby rozpocząć, Utwórz nową klasę o nazwie `StaticCache.cs` w `CL` folderu.</span><span class="sxs-lookup"><span data-stu-id="dc982-174">To start, create a new class named `StaticCache.cs` in the `CL` folder.</span></span>


![Utwórz klasę StaticCache.cs w folderze CL](caching-data-at-application-startup-cs/_static/image2.png)

<span data-ttu-id="dc982-176">**Rysunek 2**: tworzenie `StaticCache.cs` klasy w `CL` folderu</span><span class="sxs-lookup"><span data-stu-id="dc982-176">**Figure 2**: Create the `StaticCache.cs` Class in the `CL` Folder</span></span>


<span data-ttu-id="dc982-177">Musimy dodać metodę, która ładuje dane podczas uruchamiania systemu do magazynu pamięci podręcznej właściwe, a także metody, które zwracają dane z tej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dc982-177">We need to add a method that loads the data at startup into the appropriate cache store, as well as methods that return data from this cache.</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample3.cs)]

<span data-ttu-id="dc982-178">Powyższy kod używa zmiennej statyczny element członkowski `suppliers`, do przechowywania wyników z `SuppliersBLL` klasy s `GetSuppliers()` metodę, która jest wywoływana z `LoadStaticCache()` — metoda.</span><span class="sxs-lookup"><span data-stu-id="dc982-178">The above code uses a static member variable, `suppliers`, to hold the results from the `SuppliersBLL` class s `GetSuppliers()` method, which is called from the `LoadStaticCache()` method.</span></span> <span data-ttu-id="dc982-179">`LoadStaticCache()` Metoda ma być wywoływana podczas uruchamiania aplikacji s.</span><span class="sxs-lookup"><span data-stu-id="dc982-179">The `LoadStaticCache()` method is meant to be called during the application s start.</span></span> <span data-ttu-id="dc982-180">Po załadowaniu danych podczas uruchamiania aplikacji dowolnej strony, który wymaga do pracy z dostawcy danych można wywołać `StaticCache` klasy s `GetSuppliers()` metody.</span><span class="sxs-lookup"><span data-stu-id="dc982-180">Once this data has been loaded at application startup, any page that needs to work with supplier data can call the `StaticCache` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="dc982-181">W związku z tym połączenie z bazą danych można pobrać dostawców tylko odbywa się raz, podczas uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-181">Therefore, the call to the database to get the suppliers only happens once, at application start.</span></span>

<span data-ttu-id="dc982-182">Zamiast przy użyciu zmiennej statyczny element członkowski jako magazynu pamięci podręcznej, można też użyliśmy stan aplikacji lub w pamięci podręcznej danych.</span><span class="sxs-lookup"><span data-stu-id="dc982-182">Rather than using a static member variable as the cache store, we could have alternatively used application state or the data cache.</span></span> <span data-ttu-id="dc982-183">Poniższy kod przedstawia klasy retooled do korzystania ze stanu aplikacji:</span><span class="sxs-lookup"><span data-stu-id="dc982-183">The following code shows the class retooled to use application state:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample4.cs)]

<span data-ttu-id="dc982-184">W `LoadStaticCache()`, informacje są przechowywane w zmiennej aplikacji *klucza*.</span><span class="sxs-lookup"><span data-stu-id="dc982-184">In `LoadStaticCache()`, the supplier information is stored to the application variable *key*.</span></span> <span data-ttu-id="dc982-185">Go s zwracane jako odpowiedniego typu (`Northwind.SuppliersDataTable`) z `GetSuppliers()`.</span><span class="sxs-lookup"><span data-stu-id="dc982-185">It s returned as the appropriate type (`Northwind.SuppliersDataTable`) from `GetSuppliers()`.</span></span> <span data-ttu-id="dc982-186">Gdy stan aplikacji jest dostępny w klasach związane z kodem przy użyciu stron ASP.NET `Application["key"]`, możemy użyć architektury `HttpContext.Current.Application["key"]` Aby uzyskać bieżącą `HttpContext`.</span><span class="sxs-lookup"><span data-stu-id="dc982-186">While application state can be accessed in the code-behind classes of ASP.NET pages using `Application["key"]`, in the architecture we must use `HttpContext.Current.Application["key"]` in order to get the current `HttpContext`.</span></span>

<span data-ttu-id="dc982-187">Ponadto pamięć podręczna danych może służyć jako magazynu pamięci podręcznej, jak przedstawiono na poniższym kodem:</span><span class="sxs-lookup"><span data-stu-id="dc982-187">Likewise, the data cache can be used as a cache store, as the following code shows:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample5.cs)]

<span data-ttu-id="dc982-188">Aby dodać element do pamięci podręcznej danych przez nieograniczony czas na podstawie czasu, należy użyć `System.Web.Caching.Cache.NoAbsoluteExpiration` i `System.Web.Caching.Cache.NoSlidingExpiration` wartości jako parametry wejściowe.</span><span class="sxs-lookup"><span data-stu-id="dc982-188">To add an item to the data cache with no time-based expiry, use the `System.Web.Caching.Cache.NoAbsoluteExpiration` and `System.Web.Caching.Cache.NoSlidingExpiration` values as input parameters.</span></span> <span data-ttu-id="dc982-189">Tego konkretnego przeciążenia pamięci podręcznej danych s `Insert` metody wybrano, aby firma Microsoft może określać *priorytet* elementu pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dc982-189">This particular overload of the data cache s `Insert` method was selected so that we could specify the *priority* of the cache item.</span></span> <span data-ttu-id="dc982-190">Priorytet służy do określenia, jakie elementy, aby oczyścić z pamięci podręcznej, kiedy jest za mało dostępnej pamięci.</span><span class="sxs-lookup"><span data-stu-id="dc982-190">The priority is used to determine what items to scavenge from the cache when available memory runs low.</span></span> <span data-ttu-id="dc982-191">W tym miejscu używamy priorytet `NotRemovable`, co zapewnia, że ten element pamięci podręcznej won t oczyszczana.</span><span class="sxs-lookup"><span data-stu-id="dc982-191">Here we use the priority `NotRemovable`, which ensures that this cache item won t be scavenged.</span></span>

> [!NOTE]
> <span data-ttu-id="dc982-192">Implementuje ten plik do pobrania samouczek s `StaticCache` przy użyciu podejścia zmiennej statycznego elementu członkowskiego.</span><span class="sxs-lookup"><span data-stu-id="dc982-192">This tutorial s download implements the `StaticCache` class using the static member variable approach.</span></span> <span data-ttu-id="dc982-193">Kod techniki pamięci podręcznej stanu i danych aplikacji jest dostępna w komentarzach w pliku klasy.</span><span class="sxs-lookup"><span data-stu-id="dc982-193">The code for the application state and data cache techniques is available in the comments in the class file.</span></span>


## <a name="step-4-executing-code-at-application-startup"></a><span data-ttu-id="dc982-194">Krok 4: Wykonywanie kodu przy uruchamianiu aplikacji</span><span class="sxs-lookup"><span data-stu-id="dc982-194">Step 4: Executing Code at Application Startup</span></span>

<span data-ttu-id="dc982-195">Wykonanie kodu po pierwszym uruchomieniu aplikacji sieci web, należy utworzyć specjalny plik o nazwie `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="dc982-195">To execute code when a web application first starts, we need to create a special file named `Global.asax`.</span></span> <span data-ttu-id="dc982-196">Ten plik może zawierać programy obsługi zdarzeń dla aplikacji-, sesji- i zdarzenia na poziomie żądania która jest tutaj którym można dodać kodu, która zostanie wykonana przy każdym uruchomieniu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-196">This file can contain event handlers for application-, session-, and request-level events, and it is here where we can add code that will be executed whenever the application starts.</span></span>

<span data-ttu-id="dc982-197">Dodaj `Global.asax` plik do katalogu głównego s aplikacji sieci web przez kliknięcie prawym przyciskiem myszy nazwę projektu witryny sieci Web w programie Visual Studio s Eksploratorze rozwiązań i wybierając pozycję Dodaj nowy element.</span><span class="sxs-lookup"><span data-stu-id="dc982-197">Add the `Global.asax` file to your web application s root directory by right-clicking on the website project name in Visual Studio s Solution Explorer and choosing Add New Item.</span></span> <span data-ttu-id="dc982-198">W oknie dialogowym Dodaj nowy element wybierz typ elementu globalnej klasy aplikacji, a następnie kliknij przycisk Dodaj.</span><span class="sxs-lookup"><span data-stu-id="dc982-198">From the Add New Item dialog box, select the Global Application Class item type and then click the Add button.</span></span>

> [!NOTE]
> <span data-ttu-id="dc982-199">Jeśli masz już `Global.asax` pliku w projekcie, globalnej klasy aplikacji typu elementu nie są wyświetlane w oknie dialogowym Dodawanie nowego elementu.</span><span class="sxs-lookup"><span data-stu-id="dc982-199">If you already have a `Global.asax` file in your project, the Global Application Class item type will not be listed in the Add New Item dialog box.</span></span>


<span data-ttu-id="dc982-200">[![Dodaj plik Global.asax do katalogu głównego s aplikacji sieci Web](caching-data-at-application-startup-cs/_static/image4.png)](caching-data-at-application-startup-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="dc982-200">[![Add the Global.asax File to Your Web Application s Root Directory](caching-data-at-application-startup-cs/_static/image4.png)](caching-data-at-application-startup-cs/_static/image3.png)</span></span>

<span data-ttu-id="dc982-201">**Rysunek 3**: Dodaj `Global.asax` pliku do s Twoja aplikacja sieci Web katalogu głównego ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](caching-data-at-application-startup-cs/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="dc982-201">**Figure 3**: Add the `Global.asax` File to Your Web Application s Root Directory ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image5.png))</span></span>


<span data-ttu-id="dc982-202">Wartość domyślna `Global.asax` plik szablonu zawiera pięć metod w ciągu po stronie serwera `<script>` tagu:</span><span class="sxs-lookup"><span data-stu-id="dc982-202">The default `Global.asax` file template includes five methods within a server-side `<script>` tag:</span></span>

- <span data-ttu-id="dc982-203">**`Application_Start`** wykonuje po pierwszym uruchomieniu aplikacji sieci web</span><span class="sxs-lookup"><span data-stu-id="dc982-203">**`Application_Start`** executes when the web application first starts</span></span>
- <span data-ttu-id="dc982-204">**`Application_End`** jest uruchamiany, gdy aplikacja jest zamykana.</span><span class="sxs-lookup"><span data-stu-id="dc982-204">**`Application_End`** runs when the application is shutting down</span></span>
- <span data-ttu-id="dc982-205">**`Application_Error`** wykonuje zawsze, gdy aplikacja osiągnie nieobsługiwany wyjątek</span><span class="sxs-lookup"><span data-stu-id="dc982-205">**`Application_Error`** executes whenever an unhandled exception reaches the application</span></span>
- <span data-ttu-id="dc982-206">**`Session_Start`** wykonuje podczas tworzenia nowej sesji</span><span class="sxs-lookup"><span data-stu-id="dc982-206">**`Session_Start`** executes when a new session is created</span></span>
- <span data-ttu-id="dc982-207">**`Session_End`** jest uruchamiany, gdy sesja jest wygasła lub porzucone</span><span class="sxs-lookup"><span data-stu-id="dc982-207">**`Session_End`** runs when a session is expired or abandoned</span></span>

<span data-ttu-id="dc982-208">`Application_Start` Program obsługi zdarzeń zostanie wywołana tylko raz w cyklu życia aplikacji s.</span><span class="sxs-lookup"><span data-stu-id="dc982-208">The `Application_Start` event handler is called only once during an application s life cycle.</span></span> <span data-ttu-id="dc982-209">Aplikacja rozpoczyna się po raz pierwszy zasobu ASP.NET zażąda aplikacji i będzie kontynuował działanie aż do ponownego uruchomienia aplikacji, która może się zdarzyć, modyfikując zawartość `/Bin` folderu, modyfikując `Global.asax`, modyfikowanie zawartość w `App_Code` folderu lub modyfikowanie `Web.config` pliku wśród innych przyczyn.</span><span class="sxs-lookup"><span data-stu-id="dc982-209">The application starts the first time an ASP.NET resource is requested from the application and continues to run until the application is restarted, which can happen by modifying the contents of the `/Bin` folder, modifying `Global.asax`, modifying the contents in the `App_Code` folder, or modifying the `Web.config` file, among other causes.</span></span> <span data-ttu-id="dc982-210">Zapoznaj się [Przegląd cyklu życia aplikacji ASP.NET](https://msdn.microsoft.com/library/ms178473.aspx) bardziej szczegółowe omówienie w cyklu życia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-210">Refer to [ASP.NET Application Life Cycle Overview](https://msdn.microsoft.com/library/ms178473.aspx) for a more detailed discussion on the application life cycle.</span></span>

<span data-ttu-id="dc982-211">Te samouczki tylko musimy Dodaj kod, aby `Application_Start` metodę, tak usunąć pozostałe wolne działanie.</span><span class="sxs-lookup"><span data-stu-id="dc982-211">For these tutorials we only need to add code to the `Application_Start` method, so feel free to remove the others.</span></span> <span data-ttu-id="dc982-212">W `Application_Start`, po prostu Wywołaj `StaticCache` klasy s `LoadStaticCache()` metody, co spowoduje załadowanie i pamięci podręcznej informacji o dostawcy:</span><span class="sxs-lookup"><span data-stu-id="dc982-212">In `Application_Start`, simply call the `StaticCache` class s `LoadStaticCache()` method, which will load and cache the supplier information:</span></span>


[!code-aspx[Main](caching-data-at-application-startup-cs/samples/sample6.aspx)]

<span data-ttu-id="dc982-213">Wszystkie dostępne tego s jest!</span><span class="sxs-lookup"><span data-stu-id="dc982-213">That s all there is to it!</span></span> <span data-ttu-id="dc982-214">Przy uruchamianiu aplikacji `LoadStaticCache()` — metoda pobrania informacji o dostawcy z logiki warstwy Biznesowej i zapisz go w statycznym elementem członkowskim zmiennej (lub niezależnie od pamięci podręcznej przechowywanie użytkownik zakończył się przy użyciu w `StaticCache` klasy).</span><span class="sxs-lookup"><span data-stu-id="dc982-214">At application startup, the `LoadStaticCache()` method will grab the supplier information from the BLL, and store it in a static member variable (or whatever cache store you ended up using in the `StaticCache` class).</span></span> <span data-ttu-id="dc982-215">Aby sprawdzić to zachowanie, ustaw punkt przerwania `Application_Start` — metoda i uruchom aplikację.</span><span class="sxs-lookup"><span data-stu-id="dc982-215">To verify this behavior, set a breakpoint in the `Application_Start` method and run your application.</span></span> <span data-ttu-id="dc982-216">Należy pamiętać, że punkt przerwania zostaje trafiony po uruchomieniu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-216">Note that the breakpoint is hit upon the application starting.</span></span> <span data-ttu-id="dc982-217">Kolejne żądania, jednak nie powodują `Application_Start` metody do wykonania.</span><span class="sxs-lookup"><span data-stu-id="dc982-217">Subsequent requests, however, do not cause the `Application_Start` method to execute.</span></span>


<span data-ttu-id="dc982-218">[![Użyj punktu przerwania w celu sprawdź, czy program obsługi zdarzeń Application_Start jest wykonywana.](caching-data-at-application-startup-cs/_static/image7.png)](caching-data-at-application-startup-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="dc982-218">[![Use a Breakpoint to Verify that the Application_Start Event Handler is Being Executed](caching-data-at-application-startup-cs/_static/image7.png)](caching-data-at-application-startup-cs/_static/image6.png)</span></span>

<span data-ttu-id="dc982-219">**Rysunek 4**: Użyj punkt przerwania w upewnij się, że `Application_Start` procedura obsługi zdarzeń jest wykonywana ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](caching-data-at-application-startup-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="dc982-219">**Figure 4**: Use a Breakpoint to Verify that the `Application_Start` Event Handler is Being Executed ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image8.png))</span></span>


> [!NOTE]
> <span data-ttu-id="dc982-220">Jeśli nie zostanie osiągnięty `Application_Start` przerwania podczas rozpoczynania debugowania, oznacza to, że aplikacja została już uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="dc982-220">If you do not hit the `Application_Start` breakpoint when you first start debugging, it is because your application has already started.</span></span> <span data-ttu-id="dc982-221">Wymusić ponowne uruchomienie, modyfikując Twojej `Global.asax` lub `Web.config` pliki, a następnie spróbuj ponownie.</span><span class="sxs-lookup"><span data-stu-id="dc982-221">Force the application to restart by modifying your `Global.asax` or `Web.config` files and then try again.</span></span> <span data-ttu-id="dc982-222">Można po prostu Dodaj (lub usuń) pusty wiersz na końcu jednego z tych plików, aby szybko uruchomić ponownie aplikację.</span><span class="sxs-lookup"><span data-stu-id="dc982-222">You can simply add (or remove) a blank line at the end of one of these files to quickly restart the application.</span></span>


## <a name="step-5-displaying-the-cached-data"></a><span data-ttu-id="dc982-223">Krok 5: Wyświetlanie danych pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="dc982-223">Step 5: Displaying the Cached Data</span></span>

<span data-ttu-id="dc982-224">W tym momencie `StaticCache` klasa ma wersję dostawcy danych w pamięci podręcznej podczas uruchamiania aplikacji, które mogą być udostępniane za pośrednictwem jego `GetSuppliers()` metody.</span><span class="sxs-lookup"><span data-stu-id="dc982-224">At this point the `StaticCache` class has a version of the supplier data cached at application startup that can be accessed through its `GetSuppliers()` method.</span></span> <span data-ttu-id="dc982-225">Aby pracować przy użyciu tych danych z warstwy prezentacji, możemy użyć ObjectDataSource lub wywołaj programowane `StaticCache` klasy s `GetSuppliers()` metoda z klasy związane z kodem strony ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="dc982-225">To work with this data from the Presentation Layer, we can use an ObjectDataSource or programmatically invoke the `StaticCache` class s `GetSuppliers()` method from an ASP.NET page s code-behind class.</span></span> <span data-ttu-id="dc982-226">Let s przyjrzeć się za pomocą kontrolki ObjectDataSource i GridView do wyświetlenia informacji o dostawcy pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dc982-226">Let s look at using the ObjectDataSource and GridView controls to display the cached supplier information.</span></span>

<span data-ttu-id="dc982-227">Uruchamianie przez otwarcie `AtApplicationStartup.aspx` strony `Caching` folderu.</span><span class="sxs-lookup"><span data-stu-id="dc982-227">Start by opening the `AtApplicationStartup.aspx` page in the `Caching` folder.</span></span> <span data-ttu-id="dc982-228">Przeciągnij element GridView z przybornika do projektanta, ustawienie jej `ID` właściwości `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="dc982-228">Drag a GridView from the Toolbox onto the designer, setting its `ID` property to `Suppliers`.</span></span> <span data-ttu-id="dc982-229">Następnie z widoku GridView tagów inteligentnych s wybrać do utworzenia nowego elementu ObjectDataSource o nazwie `SuppliersCachedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="dc982-229">Next, from the GridView s smart tag choose to create a new ObjectDataSource named `SuppliersCachedDataSource`.</span></span> <span data-ttu-id="dc982-230">Element ObjectDataSource umożliwia konfigurowanie `StaticCache` klasy s `GetSuppliers()` metody.</span><span class="sxs-lookup"><span data-stu-id="dc982-230">Configure the ObjectDataSource to use the `StaticCache` class s `GetSuppliers()` method.</span></span>


<span data-ttu-id="dc982-231">[![Skonfiguruj ObjectDataSource do użycia klasy StaticCache](caching-data-at-application-startup-cs/_static/image10.png)](caching-data-at-application-startup-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="dc982-231">[![Configure the ObjectDataSource to use the StaticCache Class](caching-data-at-application-startup-cs/_static/image10.png)](caching-data-at-application-startup-cs/_static/image9.png)</span></span>

<span data-ttu-id="dc982-232">**Rysunek 5**: Konfigurowanie ObjectDataSource do użycia `StaticCache` klasy ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](caching-data-at-application-startup-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="dc982-232">**Figure 5**: Configure the ObjectDataSource to use the `StaticCache` Class ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image11.png))</span></span>


<span data-ttu-id="dc982-233">[![Użyj metody GetSuppliers() do pobierania danych dostawcy pamięci podręcznej](caching-data-at-application-startup-cs/_static/image13.png)](caching-data-at-application-startup-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="dc982-233">[![Use the GetSuppliers() Method to Retrieve the Cached Supplier Data](caching-data-at-application-startup-cs/_static/image13.png)](caching-data-at-application-startup-cs/_static/image12.png)</span></span>

<span data-ttu-id="dc982-234">**Rysunek 6**: Użyj `GetSuppliers()` metody do pobierania danych dostawcy w pamięci podręcznej ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](caching-data-at-application-startup-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="dc982-234">**Figure 6**: Use the `GetSuppliers()` Method to Retrieve the Cached Supplier Data ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image14.png))</span></span>


<span data-ttu-id="dc982-235">Po zakończeniu działania kreatora programu Visual Studio automatycznie doda BoundFields dla każdego pola danych w `SuppliersDataTable`.</span><span class="sxs-lookup"><span data-stu-id="dc982-235">After completing the wizard, Visual Studio will automatically add BoundFields for each of the data fields in `SuppliersDataTable`.</span></span> <span data-ttu-id="dc982-236">Z widoku GridView i ObjectDataSource s deklaratywne znaczników powinien wyglądać podobnie do następującego:</span><span class="sxs-lookup"><span data-stu-id="dc982-236">Your GridView and ObjectDataSource s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](caching-data-at-application-startup-cs/samples/sample7.aspx)]

<span data-ttu-id="dc982-237">Rysunek nr 7 przedstawia stronie podczas przeglądania za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="dc982-237">Figure 7 shows the page when viewed through a browser.</span></span> <span data-ttu-id="dc982-238">Dane wyjściowe odpowiada firma Microsoft ma pobierane dane z s logiki warstwy Biznesowej `SuppliersBLL` klasy, ale przy użyciu `StaticCache` klasy zwraca dane dostawcy jako pamięci podręcznej podczas uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-238">The output is the same had we pulled the data from the BLL s `SuppliersBLL` class, but using the `StaticCache` class returns the supplier data as cached at application startup.</span></span> <span data-ttu-id="dc982-239">Można ustawić punktów przerwania w `StaticCache` klasy s `GetSuppliers()` metodę, aby sprawdzić to zachowanie.</span><span class="sxs-lookup"><span data-stu-id="dc982-239">You can set breakpoints in the `StaticCache` class s `GetSuppliers()` method to verify this behavior.</span></span>


<span data-ttu-id="dc982-240">[![Dane w pamięci podręcznej dostawcy są wyświetlane w widoku GridView](caching-data-at-application-startup-cs/_static/image16.png)](caching-data-at-application-startup-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="dc982-240">[![The Cached Supplier Data is Displayed in a GridView](caching-data-at-application-startup-cs/_static/image16.png)](caching-data-at-application-startup-cs/_static/image15.png)</span></span>

<span data-ttu-id="dc982-241">**Rysunek 7**: buforowane dane dostawcy są wyświetlane w widoku GridView ([kliknij, aby wyświetlić obraz w pełnym rozmiarze](caching-data-at-application-startup-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="dc982-241">**Figure 7**: The Cached Supplier Data is Displayed in a GridView ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image17.png))</span></span>


## <a name="summary"></a><span data-ttu-id="dc982-242">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="dc982-242">Summary</span></span>

<span data-ttu-id="dc982-243">Większość każdy model danych zawiera odpowiedniej ilości danych statycznych, zwykle implementowany w formie tabel odnośników.</span><span class="sxs-lookup"><span data-stu-id="dc982-243">Most every data model contains a fair amount of static data, usually implemented in the form of lookup tables.</span></span> <span data-ttu-id="dc982-244">Ponieważ te informacje są statyczne, że s ma powodu stale dostęp do bazy danych za każdym razem, te informacje mają być wyświetlone.</span><span class="sxs-lookup"><span data-stu-id="dc982-244">Since this information is static, there s no reason to continually access the database each time this information needs to be displayed.</span></span> <span data-ttu-id="dc982-245">Co więcej, ze względu na charakter statyczny, podczas buforowania danych tam s nie jest konieczne wygaśnięcia.</span><span class="sxs-lookup"><span data-stu-id="dc982-245">Furthermore, due to its static nature, when caching the data there s no need for an expiry.</span></span> <span data-ttu-id="dc982-246">W tym samouczku widzieliśmy sposobu podjęcia takich danych i ją buforują w pamięci podręcznej danych stanu aplikacji i za pośrednictwem zmiennej statycznego elementu członkowskiego.</span><span class="sxs-lookup"><span data-stu-id="dc982-246">In this tutorial we saw how to take such data and cache it in the data cache, application state, and through a static member variable.</span></span> <span data-ttu-id="dc982-247">Te informacje są buforowane podczas uruchamiania aplikacji i pozostaje w pamięci podręcznej w okresie istnienia s aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dc982-247">This information is cached at application startup and remains in the cache throughout the application s lifetime.</span></span>

<span data-ttu-id="dc982-248">W tym samouczku i poprzednich dwóch możemy kolejnych przeglądał buforowanie danych na czas trwania okresu istnienia s aplikacji, a także za pomocą expiries oparte na czasie.</span><span class="sxs-lookup"><span data-stu-id="dc982-248">In this tutorial and the past two, we ve looked at caching data for the duration of the application s lifetime as well as using time-based expiries.</span></span> <span data-ttu-id="dc982-249">Podczas buforowania danych w bazie danych, jednak na podstawie czasu wygaśnięcia może być mniejsza niż idealne.</span><span class="sxs-lookup"><span data-stu-id="dc982-249">When caching database data, though, a time-based expiry may be less than ideal.</span></span> <span data-ttu-id="dc982-250">Zamiast okresowo opróżniania pamięci podręcznej, będą optymalne do wykluczenia tylko element pamięci podręcznej, modyfikacji danych bazy danych.</span><span class="sxs-lookup"><span data-stu-id="dc982-250">Rather than periodically flushing the cache, it would be optimal to only evict the cached item when the underlying database data is modified.</span></span> <span data-ttu-id="dc982-251">Możliwe przy użyciu zależności buforu SQL, które zostaną omówione w naszym samouczku dalej jest to idealne rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="dc982-251">This ideal is possible through the use of SQL cache dependencies, which we'll examine in our next tutorial.</span></span>

<span data-ttu-id="dc982-252">Programowanie przyjemność!</span><span class="sxs-lookup"><span data-stu-id="dc982-252">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="dc982-253">Informacje o autorze</span><span class="sxs-lookup"><span data-stu-id="dc982-253">About the Author</span></span>

<span data-ttu-id="dc982-254">[Scott Bento](http://www.4guysfromrolla.com/ScottMitchell.shtml), autora siedmiu książek ASP/ASP.NET i twórcę z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje z technologii Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="dc982-254">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="dc982-255">Scott działa jako niezależnego konsultanta trainer i składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="dc982-255">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="dc982-256">Jest jego najnowszej książki [ *Sams nauczyć się ASP.NET 2.0 w ciągu 24 godzin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="dc982-256">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="dc982-257">Piotr można uzyskać pod adresem [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) lub za pośrednictwem jego blog, który znajduje się w temacie [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="dc982-257">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="dc982-258">Specjalne podziękowania dla</span><span class="sxs-lookup"><span data-stu-id="dc982-258">Special Thanks To</span></span>

<span data-ttu-id="dc982-259">Ten samouczek serii zostało sprawdzone przez wiele recenzentów przydatne.</span><span class="sxs-lookup"><span data-stu-id="dc982-259">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="dc982-260">Prowadzić osób dokonujących przeglądu, w tym samouczku zostały Teresa Murphy i Zack Nowak.</span><span class="sxs-lookup"><span data-stu-id="dc982-260">Lead reviewers for this tutorial were Teresa Murphy and Zack Jones.</span></span> <span data-ttu-id="dc982-261">Zainteresowani recenzowania Moje nadchodzących artykuły MSDN?</span><span class="sxs-lookup"><span data-stu-id="dc982-261">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="dc982-262">Jeśli tak, Porzuć mnie linii w [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="dc982-262">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="dc982-263">[Poprzednie](caching-data-in-the-architecture-cs.md)
> [dalej](using-sql-cache-dependencies-cs.md)</span><span class="sxs-lookup"><span data-stu-id="dc982-263">[Previous](caching-data-in-the-architecture-cs.md)
[Next](using-sql-cache-dependencies-cs.md)</span></span>
