---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
title: Wdrożenie kompilacji konfigurowania uprawnień dla zespołu | Dokumentacja firmy Microsoft
author: jrjlee
description: W tym temacie opisano sposób konfigurowania uprawnień do włączania na serwerze kompilacji w celu wdrażania zawartości serwerów sieci web i serwery baz danych jako część automatycznych b...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: 2488a91e-b0a8-465a-b874-3233f724b56b
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
msc.type: authoredcontent
ms.openlocfilehash: 4698349d664816ec49475bbfe71fb32af79ea96d
ms.sourcegitcommit: 6784510cfb589308c3875ccb5113eb31031766b4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/08/2018
ms.locfileid: "30890284"
---
<a name="configuring-permissions-for-team-build-deployment"></a><span data-ttu-id="75d1e-103">Konfigurowanie uprawnień dla zespołu wdrożenie kompilacji</span><span class="sxs-lookup"><span data-stu-id="75d1e-103">Configuring Permissions for Team Build Deployment</span></span>
====================
<span data-ttu-id="75d1e-104">przez [Lewandowski Jason](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="75d1e-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="75d1e-105">Pobierz plik PDF</span><span class="sxs-lookup"><span data-stu-id="75d1e-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="75d1e-106">W tym temacie opisano sposób konfigurowania uprawnień, aby włączyć serwer kompilacji w celu wdrażania zawartości serwerów sieci web i serwery baz danych jako część procesu automatycznego tworzenia.</span><span class="sxs-lookup"><span data-stu-id="75d1e-106">This topic describes how to configure permissions to enable your build server to deploy content to web servers and database servers as part of an automated build process.</span></span>


<span data-ttu-id="75d1e-107">Ten temat jest częścią serii samouczków na podstawie tych wymagań związanych z przedsiębiorstwa wdrażaniem fikcyjnej firmy o nazwie firmy Fabrikam, Inc. Przykładowe rozwiązanie korzysta z tego samouczka serii&#x2014; [rozwiązania kontaktów Menedżerze](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;do reprezentowania aplikacji sieci web z realistyczne poziom złożoności, w tym aplikacji ASP.NET MVC 3, Windows Communication Usługa Foundation (WCF), a projekt bazy danych.</span><span class="sxs-lookup"><span data-stu-id="75d1e-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="75d1e-108">Istotą te samouczki metody wdrażania opiera się na podejście pliku projektu podziału opisane w [opis pliku projektu](../web-deployment-in-the-enterprise/understanding-the-project-file.md), w którym jest kontrolowany przez proces kompilacji dwa pliki projektu&#x2014;jeden zawierający Tworzenie instrukcji, które mają zastosowanie do każdego środowiska docelowego i dysk zawierający ustawienia kompilacji i wdrożenia określonego środowiska.</span><span class="sxs-lookup"><span data-stu-id="75d1e-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="75d1e-109">W czasie kompilacji pliku projektu określonego środowiska jest scalany pliku projektu niezależny od środowiska pełny zestaw instrukcji kompilacji.</span><span class="sxs-lookup"><span data-stu-id="75d1e-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="task-overview"></a><span data-ttu-id="75d1e-110">Omówienie zadań</span><span class="sxs-lookup"><span data-stu-id="75d1e-110">Task Overview</span></span>

<span data-ttu-id="75d1e-111">Podczas instalowania usługi kompilacji 2010 Team Foundation Server (TFS), można określić tożsamości, z którym ma zostać usługę w celu uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="75d1e-111">When you install the Team Foundation Server (TFS) 2010 build service, you specify the identity with which you want the service to run.</span></span> <span data-ttu-id="75d1e-112">Domyślnie jest to konto Usługa sieciowa.</span><span class="sxs-lookup"><span data-stu-id="75d1e-112">By default, this is the Network Service account.</span></span> <span data-ttu-id="75d1e-113">Alternatywnie można skonfigurować usługę kompilacji do uruchamiania przy użyciu konta domeny.</span><span class="sxs-lookup"><span data-stu-id="75d1e-113">Alternatively, you can configure the build service to run using a domain account.</span></span>

<span data-ttu-id="75d1e-114">Wszystkie zadania wdrażania, które wymagają uwierzytelniania systemu Windows i planujesz zautomatyzować za pomocą Team Build, zostanie uruchomiony przy użyciu tożsamości usługi kompilacji.</span><span class="sxs-lookup"><span data-stu-id="75d1e-114">Any deployment tasks that require Windows authentication, and that you plan to automate using Team Build, will run using the build service identity.</span></span> <span data-ttu-id="75d1e-115">Tak należy udzielić tożsamości usługi kompilacji wszelkich wymaganych uprawnień na serwerach bazy danych i serwerów sieci web.</span><span class="sxs-lookup"><span data-stu-id="75d1e-115">As such, you'll need to grant the build service identity any required permissions on your web servers and your database servers.</span></span>

> [!NOTE]
> <span data-ttu-id="75d1e-116">Konto Usługa sieciowa używa konta komputera do uwierzytelniania na inne komputery.</span><span class="sxs-lookup"><span data-stu-id="75d1e-116">The Network Service account uses the machine account to authenticate to other computers.</span></span> <span data-ttu-id="75d1e-117">Konta komputera formę * [nazwa domeny]\[nazwa komputera] ***$**&#x2014;na przykład **FABRIKAM\TFSBUILD$**.</span><span class="sxs-lookup"><span data-stu-id="75d1e-117">Machine accounts take the form *[domain name]\[machine name]***$**&#x2014;for example, **FABRIKAM\TFSBUILD$**.</span></span> <span data-ttu-id="75d1e-118">Tak usługa kompilacji jest uruchomiona przy użyciu tożsamości Network Service, należy udzielić uprawnień wymaganych do tożsamość konta komputera dla serwera kompilacji.</span><span class="sxs-lookup"><span data-stu-id="75d1e-118">As such, if your build service runs using the Network Service identity, you should grant any required permissions to the machine account identity for your build server.</span></span>


## <a name="configuring-web-server-permissions"></a><span data-ttu-id="75d1e-119">Konfigurowanie uprawnień serwera sieci Web</span><span class="sxs-lookup"><span data-stu-id="75d1e-119">Configuring Web Server Permissions</span></span>

<span data-ttu-id="75d1e-120">Zgodnie z opisem w [Wybieranie podejście prawo do wdrożenia w sieci Web](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), istnieją dwie metody main, można użyć, jeśli chcesz wdrożyć pakietów sieci web do zdalnego serwera:</span><span class="sxs-lookup"><span data-stu-id="75d1e-120">As described in [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), there are two main approaches you can use if you want to deploy web packages to a remote web server:</span></span>

- <span data-ttu-id="75d1e-121">Wdrażanie aplikacji z lokalizacji zdalnej, wybierając *Usługa agenta sieci Web wdrożenia* (znanej także jako agenta zdalnego) na serwerze docelowym.</span><span class="sxs-lookup"><span data-stu-id="75d1e-121">Deploy the application from a remote location by targeting the *Web Deployment Agent Service* (also known as the remote agent) on the destination server.</span></span>
- <span data-ttu-id="75d1e-122">Wdrażanie aplikacji z lokalizacji zdalnej, wybierając *Internetowe usługi informacyjne* (*usług IIS) program obsługi wdrażania w sieci Web* na serwerze docelowym.</span><span class="sxs-lookup"><span data-stu-id="75d1e-122">Deploy the application from a remote location by targeting the *Internet Information Services* (*IIS) Web Deploy Handler* on the destination server.</span></span>

<span data-ttu-id="75d1e-123">Agent zdalnego ma dwa ograniczenia klucza w takim przypadku:</span><span class="sxs-lookup"><span data-stu-id="75d1e-123">The remote agent has two key limitations in this case:</span></span>

- <span data-ttu-id="75d1e-124">Agent zdalnego obsługuje tylko uwierzytelnianie NTLM.</span><span class="sxs-lookup"><span data-stu-id="75d1e-124">The remote agent supports only NTLM authentication.</span></span> <span data-ttu-id="75d1e-125">Innymi słowy, wdrożenie musi używać tożsamości usługi kompilacji&#x2014;nie może spersonifikować innego konta.</span><span class="sxs-lookup"><span data-stu-id="75d1e-125">In other words, the deployment must use the build service identity&#x2014;you can't impersonate another account.</span></span>
- <span data-ttu-id="75d1e-126">Aby używać zdalnego agenta, konto, które wykonuje wdrożenia musi być administratorem na serwerze docelowym.</span><span class="sxs-lookup"><span data-stu-id="75d1e-126">To use the remote agent, the account that performs the deployment must be an administrator on the target server.</span></span>

<span data-ttu-id="75d1e-127">Ze sobą te dwie ograniczenia uczynienia agenta zdalnego niepożądanych dla automatycznego wdrażania Team Build.</span><span class="sxs-lookup"><span data-stu-id="75d1e-127">Together, these two limitations make the remote agent approach undesirable for an automated Team Build deployment.</span></span> <span data-ttu-id="75d1e-128">Aby użyć tej metody, konieczne będzie konto administratora na wszystkich serwerach sieci web docelowy usługa kompilacji.</span><span class="sxs-lookup"><span data-stu-id="75d1e-128">To use this approach, you'd need to make the build service account an administrator on any target web servers.</span></span>

<span data-ttu-id="75d1e-129">Z kolei podejście program obsługi wdrażania w sieci Web ma różne zalety:</span><span class="sxs-lookup"><span data-stu-id="75d1e-129">In contrast, the Web Deploy Handler approach offers various advantages:</span></span>

- <span data-ttu-id="75d1e-130">Obsługa wdrażania w sieci Web obsługuje uwierzytelnianie podstawowe, za pośrednictwem protokołu HTTPS, dzięki czemu można przekazać poświadczenia alternatywne konta do narzędzia wdrażania usług IIS sieci Web (Web Deploy).</span><span class="sxs-lookup"><span data-stu-id="75d1e-130">The Web Deploy Handler supports basic authentication over HTTPS, which allows you to pass the credentials of an alternative account to the IIS Web Deployment Tool (Web Deploy).</span></span>
- <span data-ttu-id="75d1e-131">Można skonfigurować docelowych serwerów sieci web umożliwia użytkownikom niebędącym administratorami w celu wdrażania zawartości do określonych witryn internetowych usług IIS przy użyciu procedury obsługi wdrażania w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="75d1e-131">You can configure target web servers to allow non-administrator users to deploy content to specific IIS websites using the Web Deploy Handler.</span></span>

<span data-ttu-id="75d1e-132">W związku z tym zaleca wyraźnie pod kątem obsługi wdrażania sieci Web podczas wdrażania pakietu sieci web z poziomu kompilacji zespołowej automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="75d1e-132">As a result, it's clearly preferable to target the Web Deploy Handler when you automate web package deployment from Team Build.</span></span> <span data-ttu-id="75d1e-133">Jest to zalecany proces:</span><span class="sxs-lookup"><span data-stu-id="75d1e-133">This is the recommended process:</span></span>

1. <span data-ttu-id="75d1e-134">Utwórz konto domeny o niskich uprawnieniach, które będzie używane dla wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="75d1e-134">Create a low-privileged domain account to use for the deployment.</span></span>
2. <span data-ttu-id="75d1e-135">Konfigurowanie obsługi wdrażania sieci Web i Przyznaj kontu uprawnienia wymagane do wdrażania zawartości do określonej witryny sieci Web usług IIS, zgodnie z opisem w [Konfigurowanie serwera sieci Web na potrzeby wdrażania publikowania w sieci Web (Obsługa wdrażania w sieci Web)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="75d1e-135">Configure the Web Deploy Handler and grant the account the required permissions to deploy content to a specific IIS website, as described in [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span>
3. <span data-ttu-id="75d1e-136">Wywoływanie narzędzia Web Deploy i docelowa obsługi wdrażania w sieci Web, przy użyciu uwierzytelniania podstawowego i dostarczenie poświadczeń konta domeny został utworzony, aby wykonać wdrożenie.</span><span class="sxs-lookup"><span data-stu-id="75d1e-136">Invoke Web Deploy and target the Web Deploy Handler, using basic authentication and supplying the credentials of the domain account you created, to perform the deployment.</span></span>

<span data-ttu-id="75d1e-137">W [kontaktów Menedżerze](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) przykładowe rozwiązanie, określ typ uwierzytelniania (podstawowe lub NTLM), poświadczenia narzędzia Web Deploy i adres punktu końcowego (agenta zdalnego lub program obsługi wdrażania w sieci Web) w pliku projektu określonego środowiska.</span><span class="sxs-lookup"><span data-stu-id="75d1e-137">In the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, you specify the authentication type (basic or NTLM), the Web Deploy credentials, and the endpoint address (remote agent or Web Deploy Handler) in the environment-specific project file.</span></span> <span data-ttu-id="75d1e-138">Te wartości są używane do sformułować i uruchom polecenie Narzędzia Web Deploy, podczas wykonywania pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="75d1e-138">These values are used to formulate and run a Web Deploy command when the project file is executed.</span></span> <span data-ttu-id="75d1e-139">Aby uzyskać więcej informacji, zobacz [wdrażanie pakietów sieci Web](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="75d1e-139">For more information, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>

<span data-ttu-id="75d1e-140">Aby uzyskać więcej informacji na temat konfigurowania obsługi wdrażania w sieci Web, oraz o sposobie konfigurowania uprawnień, zobacz [Konfigurowanie serwera sieci Web na potrzeby wdrażania publikowania w sieci Web (Obsługa wdrażania w sieci Web)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="75d1e-140">For more information on configuring the Web Deploy Handler, including how to configure permissions, see [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span> <span data-ttu-id="75d1e-141">Aby uzyskać więcej informacji na temat konfigurowania agenta zdalnego, zobacz [Konfigurowanie serwera sieci Web na potrzeby wdrażania publikowania w sieci Web (agenta zdalnego)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="75d1e-141">For more information on configuring the remote agent, see [Configuring a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span>

## <a name="configuring-database-server-permissions"></a><span data-ttu-id="75d1e-142">Konfigurowanie uprawnień serwera bazy danych</span><span class="sxs-lookup"><span data-stu-id="75d1e-142">Configuring Database Server Permissions</span></span>

<span data-ttu-id="75d1e-143">Aby wdrożyć bazę danych programu SQL Server, należy:</span><span class="sxs-lookup"><span data-stu-id="75d1e-143">To deploy a database to SQL Server, you must:</span></span>

- <span data-ttu-id="75d1e-144">Utwórz dane logowania dla konta wdrażanie w wystąpieniu programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="75d1e-144">Create a login for the deploying account on the SQL Server instance.</span></span>
- <span data-ttu-id="75d1e-145">Przyznaj logowanie **DBCreator** uprawnienia w wystąpieniu programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="75d1e-145">Grant the login **DBCreator** permissions on the SQL Server instance.</span></span>
- <span data-ttu-id="75d1e-146">Po początkowym wdrożeniu, Dodaj logowanie do **db\_właściciela** roli w docelowej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="75d1e-146">After the initial deployment, add the login to the **db\_owner** role on the target database.</span></span> <span data-ttu-id="75d1e-147">Jest to wymagane, ponieważ na kolejne wdrożenia jest zmodyfikowanie istniejącej bazy danych zamiast tworzenia nowej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="75d1e-147">This is required because on subsequent deployments, you're modifying an existing database rather than creating a new database.</span></span>

<span data-ttu-id="75d1e-148">Można uwierzytelniać do wystąpienia programu SQL Server przy użyciu uwierzytelniania NTLM lub uwierzytelniania programu SQL Server:</span><span class="sxs-lookup"><span data-stu-id="75d1e-148">You can authenticate to a SQL Server instance using either NTLM authentication or SQL Server authentication:</span></span>

- <span data-ttu-id="75d1e-149">Jeśli używane jest uwierzytelnianie NTLM, należy udzielić uprawnień opisano powyżej, aby konto usługi kompilacji.</span><span class="sxs-lookup"><span data-stu-id="75d1e-149">If you use NTLM authentication, you need to grant the permissions described above to the build service account.</span></span>
- <span data-ttu-id="75d1e-150">Jeśli używasz uwierzytelniania programu SQL Server, należy udzielić uprawnień opisano powyżej, aby konto programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="75d1e-150">If you use SQL Server authentication, you need to grant the permissions described above to the SQL Server account.</span></span> <span data-ttu-id="75d1e-151">Należy również uwzględnić w ciągu połączenia używanego do wdrażania bazy danych programu SQL Server, nazwę użytkownika i hasło.</span><span class="sxs-lookup"><span data-stu-id="75d1e-151">You also need to include the SQL Server user name and password in the connection string you use to deploy the database.</span></span>

<span data-ttu-id="75d1e-152">Aby uzyskać szczegółowe informacje krok po kroku dotyczące sposobu konfigurowania uprawnień dla wdrożenia bazy danych, zobacz [Konfigurowanie serwera bazy danych na potrzeby wdrażania publikowania w sieci Web](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span><span class="sxs-lookup"><span data-stu-id="75d1e-152">For step-by-step details on how to configure permissions for database deployment, see [Configuring a Database Server for Web Deploy Publishing](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="75d1e-153">Wniosek</span><span class="sxs-lookup"><span data-stu-id="75d1e-153">Conclusion</span></span>

<span data-ttu-id="75d1e-154">W tym momencie należy zrozumieć uprawnień wymaganych, wraz z, Otwórz opcje uwierzytelniania podczas automatyzacji wdrożenia aplikacji i baz danych w sieci web z poziomu kompilacji zespołowej.</span><span class="sxs-lookup"><span data-stu-id="75d1e-154">At this point, you should understand the permissions required, together with the authentication options open to you, when you automate web application and database deployments from Team Build.</span></span> <span data-ttu-id="75d1e-155">Należy również możliwość wdrożenia odpowiednie uprawnienia na serwerach bazy danych programu SQL Server i serwery sieci web usług IIS.</span><span class="sxs-lookup"><span data-stu-id="75d1e-155">You should also be able to implement the necessary permissions on IIS web servers and SQL Server database servers.</span></span>

## <a name="further-reading"></a><span data-ttu-id="75d1e-156">Dalsze informacje</span><span class="sxs-lookup"><span data-stu-id="75d1e-156">Further Reading</span></span>

<span data-ttu-id="75d1e-157">Aby uzyskać więcej informacji na temat konfigurowania systemu Windows server w środowiskach do obsługi zdalnego wdrażania, zobacz [Konfigurowanie środowiska serwera sieci Web wdrożenia](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="75d1e-157">For more information on configuring Windows server environments to support remote deployment, see [Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="75d1e-158">Poprzednie</span><span class="sxs-lookup"><span data-stu-id="75d1e-158">Previous</span></span>](deploying-a-specific-build.md)
