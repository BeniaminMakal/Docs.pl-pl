---
title: Host platformy ASP.NET Core w systemie Windows z programem IIS
author: guardrex
description: "Konfiguracja systemu Windows Server Internet informacji usług (IIS) i wdrażanie aplikacji platformy ASP.NET Core."
keywords: "Wdrażanie platformy ASP.NET Core internetowych usług informacyjnych, usługi iis, systemu windows server, hostingu moduł core bundle,asp.net, sieci web"
ms.author: riande
manager: wpickett
ms.date: 03/13/2017
ms.topic: article
ms.assetid: a4449ad3-5bad-410c-afa7-dc32d832b552
ms.technology: aspnet
ms.prod: asp.net-core
uid: publishing/iis
ms.openlocfilehash: 3dd2a744d2272e7ce01fbfed218d70a83cea46d1
ms.sourcegitcommit: 019e5a0342fd49a94056d14fc7a1a1d0f81d2a39
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/22/2017
---
# <a name="host-aspnet-core-on-windows-with-iis"></a><span data-ttu-id="d3a6d-104">Host platformy ASP.NET Core w systemie Windows z programem IIS</span><span class="sxs-lookup"><span data-stu-id="d3a6d-104">Host ASP.NET Core on Windows with IIS</span></span>

<span data-ttu-id="d3a6d-105">Przez [Luke Latham](https://github.com/guardrex) i [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="d3a6d-105">By [Luke Latham](https://github.com/guardrex) and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

## <a name="supported-operating-systems"></a><span data-ttu-id="d3a6d-106">Supported operating systems</span><span class="sxs-lookup"><span data-stu-id="d3a6d-106">Supported operating systems</span></span>

<span data-ttu-id="d3a6d-107">Obsługiwane są następujące systemy operacyjne:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-107">The following operating systems are supported:</span></span>

* <span data-ttu-id="d3a6d-108">Windows 7 i nowsze</span><span class="sxs-lookup"><span data-stu-id="d3a6d-108">Windows 7 and newer</span></span>
* <span data-ttu-id="d3a6d-109">Windows Server 2008 R2 lub nowszym &#8224;</span><span class="sxs-lookup"><span data-stu-id="d3a6d-109">Windows Server 2008 R2 and newer&#8224;</span></span>

<span data-ttu-id="d3a6d-110">&#8224; Koncepcyjnie, konfiguracji usług IIS, w tym dokumencie opisano odnosi się także do obsługi aplikacji platformy ASP.NET Core na serwerze Nano Server IIS, ale dotyczą [platformy ASP.NET Core z usługami IIS na serwerze Nano](xref:tutorials/nano-server) Aby uzyskać szczegółowe instrukcje.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-110">&#8224;Conceptually, the IIS configuration described in this document also applies to hosting ASP.NET Core applications on Nano Server IIS, but refer to [ASP.NET Core with IIS on Nano Server](xref:tutorials/nano-server) for specific instructions.</span></span>

<span data-ttu-id="d3a6d-111">[Serwer HTTP.sys](xref:fundamentals/servers/httpsys) (wcześniej nazywanych [WebListener](xref:fundamentals/servers/weblistener)) nie będzie działać w konfiguracji serwera proxy wstecznego z usługami IIS.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-111">[HTTP.sys server](xref:fundamentals/servers/httpsys) (formerly called [WebListener](xref:fundamentals/servers/weblistener)) won't work in a reverse-proxy configuration with IIS.</span></span> <span data-ttu-id="d3a6d-112">Należy użyć [serwera Kestrel](xref:fundamentals/servers/kestrel).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-112">You must use the [Kestrel server](xref:fundamentals/servers/kestrel).</span></span>

## <a name="iis-configuration"></a><span data-ttu-id="d3a6d-113">Konfiguracja usług IIS</span><span class="sxs-lookup"><span data-stu-id="d3a6d-113">IIS configuration</span></span>

<span data-ttu-id="d3a6d-114">Włącz **serwer sieci Web (IIS)** roli i ustanowienia usług ról.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-114">Enable the **Web Server (IIS)** role and establish role services.</span></span>

### <a name="windows-desktop-operating-systems"></a><span data-ttu-id="d3a6d-115">Systemy operacyjne Windows</span><span class="sxs-lookup"><span data-stu-id="d3a6d-115">Windows desktop operating systems</span></span>

<span data-ttu-id="d3a6d-116">Przejdź do **Panelu sterowania** > **programy** > **programy i funkcje** > **wyłączyć funkcje systemu Windows na lub wyłącz** (po lewej stronie ekranu).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-116">Navigate to **Control Panel** > **Programs** > **Programs and Features** > **Turn Windows features on or off** (left side of the screen).</span></span> <span data-ttu-id="d3a6d-117">Otwórz grupę, do **Internetowe usługi informacyjne** i **narzędzia zarządzania siecią Web**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-117">Open the group for **Internet Information Services** and **Web Management Tools**.</span></span> <span data-ttu-id="d3a6d-118">Pole wyboru dla **Konsola zarządzania usługami IIS**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-118">Check the box for **IIS Management Console**.</span></span> <span data-ttu-id="d3a6d-119">Pole wyboru dla **usługi sieci World Wide Web**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-119">Check the box for **World Wide Web Services**.</span></span> <span data-ttu-id="d3a6d-120">Zaakceptuj domyślne funkcje dla **usługi sieci World Wide Web** lub dostosować funkcje usług IIS, w zależności od potrzeb.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-120">Accept the default features for **World Wide Web Services** or customize the IIS features to suit your needs.</span></span>

![Konsola zarządzania usługami IIS i usługi sieci World Wide Web są zaznaczone w funkcji systemu Windows.](iis/_static/windows-features-win10.png)

### <a name="windows-server-operating-systems"></a><span data-ttu-id="d3a6d-122">Systemy operacyjne Windows Server</span><span class="sxs-lookup"><span data-stu-id="d3a6d-122">Windows Server operating systems</span></span>

<span data-ttu-id="d3a6d-123">Dla systemów operacyjnych serwera, użyj **Dodaj role i funkcje** za pomocą kreatora **Zarządzaj** menu lub link w **Menedżera serwera**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-123">For server operating systems, use the **Add Roles and Features** wizard via the **Manage** menu or the link in **Server Manager**.</span></span> <span data-ttu-id="d3a6d-124">Na **ról serwera** kroku, pole wyboru dla **serwer sieci Web (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-124">On the **Server Roles** step, check the box for **Web Server (IIS)**.</span></span>

![W kroku role serwera wybierz wybrano roli Serwer sieci Web IIS.](iis/_static/server-roles-ws2016.png)

<span data-ttu-id="d3a6d-126">Na **usług ról** kroku, wybierz usługi ról usług IIS, konieczna jest lub zaakceptuj wartość domyślną rolę usług pod warunkiem.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-126">On the **Role services** step, select the IIS role services you desire or accept the default role services provided.</span></span>

![Domyślne usługi ról są zaznaczone w kroku wybierz rolę usług.](iis/_static/role-services-ws2016.png)

<span data-ttu-id="d3a6d-128">Postępuj zgodnie z instrukcjami **potwierdzenie** krok w celu zainstalowania roli serwera sieci web i usług.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-128">Proceed through the **Confirmation** step to install the web server role and services.</span></span> <span data-ttu-id="d3a6d-129">Ponowne uruchomienie serwera i IIS nie jest wymagane po zainstalowaniu roli serwera sieci Web (IIS).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-129">A server/IIS restart isn't required after installing the Web Server (IIS) role.</span></span>

## <a name="install-the-net-core-windows-server-hosting-bundle"></a><span data-ttu-id="d3a6d-130">Instalacja pakietu Hosting .NET Core systemu Windows Server</span><span class="sxs-lookup"><span data-stu-id="d3a6d-130">Install the .NET Core Windows Server Hosting bundle</span></span>

1. <span data-ttu-id="d3a6d-131">Zainstaluj [pakietu .NET Core systemu Windows serwer obsługujący](https://aka.ms/dotnetcore-2-windowshosting) przez system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-131">Install the [.NET Core Windows Server Hosting bundle](https://aka.ms/dotnetcore-2-windowshosting) on the hosting system.</span></span> <span data-ttu-id="d3a6d-132">Pakiet instaluje wykonawczym .NET Core .NET Core biblioteki, a [platformy ASP.NET Core modułu](xref:fundamentals/servers/aspnet-core-module).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-132">The bundle installs the .NET Core Runtime, .NET Core Library, and the [ASP.NET Core Module](xref:fundamentals/servers/aspnet-core-module).</span></span> <span data-ttu-id="d3a6d-133">Moduł tworzy wstecznego serwera proxy między usługami IIS a Kestrel serwera.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-133">The module creates the reverse-proxy between IIS and the Kestrel server.</span></span> <span data-ttu-id="d3a6d-134">Jeśli system nie ma połączenia internetowego, Uzyskaj i zainstaluj [Microsoft Visual C++ 2015 Redistributable](https://www.microsoft.com/download/details.aspx?id=53840) przed zainstalowaniem pakietu Hosting .NET Core systemu Windows Server.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-134">If the system doesn't have an Internet connection, obtain and install the [Microsoft Visual C++ 2015 Redistributable](https://www.microsoft.com/download/details.aspx?id=53840) before installing the .NET Core Windows Server Hosting bundle.</span></span>

2. <span data-ttu-id="d3a6d-135">Ponowne uruchamianie systemu lub wykonać **net stop została /y** następuje **net start w3svc** z wiersza polecenia, aby pobrać zmiany systemowej PATH.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-135">Restart the system or execute **net stop was /y** followed by **net start w3svc** from a command prompt to pick up a change to the system PATH.</span></span>

> [!NOTE]
> <span data-ttu-id="d3a6d-136">Jeśli używasz konfiguracji udostępnionej usług IIS, zobacz [platformy ASP.NET Core modułu z konfiguracji udostępnionej usług IIS](xref:hosting/aspnet-core-module#aspnet-core-module-with-an-iis-shared-configuration).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-136">If you use an IIS Shared Configuration, see [ASP.NET Core Module with IIS Shared Configuration](xref:hosting/aspnet-core-module#aspnet-core-module-with-an-iis-shared-configuration).</span></span>

## <a name="install-web-deploy-when-publishing-with-visual-studio"></a><span data-ttu-id="d3a6d-137">Zainstaluj pakiet Webdeploy podczas publikowania z programem Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d3a6d-137">Install Web Deploy when publishing with Visual Studio</span></span>

<span data-ttu-id="d3a6d-138">Jeśli zamierzasz wdrożyć aplikacji z [narzędzia Web Deploy](/iis/publish/using-web-deploy/introduction-to-web-deploy) w [programu Visual Studio](https://www.visualstudio.com/vs/), zainstaluj najnowszą wersję narzędzia Web Deploy przez system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-138">If you intend to deploy your applications with [Web Deploy](/iis/publish/using-web-deploy/introduction-to-web-deploy) in [Visual Studio](https://www.visualstudio.com/vs/), install the latest version of Web Deploy on the hosting system.</span></span> <span data-ttu-id="d3a6d-139">Aby zainstalować narzędzie Web Deploy, można użyć [Instalatora platformy sieci Web (WebPI)](https://www.microsoft.com/web/downloads/platform.aspx) lub uzyskać Instalatora bezpośrednio z [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=43717).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-139">To install Web Deploy, you can use the [Web Platform Installer (WebPI)](https://www.microsoft.com/web/downloads/platform.aspx) or obtain an installer directly from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=43717).</span></span> <span data-ttu-id="d3a6d-140">Preferowaną metodą jest używać WebPI.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-140">The preferred method is to use WebPI.</span></span> <span data-ttu-id="d3a6d-141">WebPI oferuje autonomicznego Instalatora i konfiguracja dla dostawców hostingu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-141">WebPI offers a standalone setup and a configuration for hosting providers.</span></span>

## <a name="application-configuration"></a><span data-ttu-id="d3a6d-142">Konfiguracja aplikacji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-142">Application configuration</span></span>

### <a name="enabling-the-iisintegration-components"></a><span data-ttu-id="d3a6d-143">Włączanie składników IISIntegration</span><span class="sxs-lookup"><span data-stu-id="d3a6d-143">Enabling the IISIntegration components</span></span>

# <a name="aspnet-core-2xtabaspnetcore2x"></a>[<span data-ttu-id="d3a6d-144">Program ASP.NET Core 2.x</span><span class="sxs-lookup"><span data-stu-id="d3a6d-144">ASP.NET Core 2.x</span></span>](#tab/aspnetcore2x)

<span data-ttu-id="d3a6d-145">Typowe *Program.cs* wywołania [CreateDefaultBuilder](/dotnet/api/microsoft.aspnetcore.webhost.createdefaultbuilder) aby rozpocząć konfigurowanie hosta.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-145">A typical *Program.cs* calls [CreateDefaultBuilder](/dotnet/api/microsoft.aspnetcore.webhost.createdefaultbuilder) to begin setting up a host.</span></span> <span data-ttu-id="d3a6d-146">`CreateDefaultBuilder`Konfiguruje [Kestrel](xref:fundamentals/servers/kestrel) jako sieci web Integracja serwera i umożliwia usług IIS przez skonfigurowanie ścieżki podstawowej i port [moduł platformy ASP.NET Core](xref:fundamentals/servers/aspnet-core-module):</span><span class="sxs-lookup"><span data-stu-id="d3a6d-146">`CreateDefaultBuilder` configures [Kestrel](xref:fundamentals/servers/kestrel) as the web server and enables IIS integration by configuring the base path and port for the [ASP.NET Core Module](xref:fundamentals/servers/aspnet-core-module):</span></span>

```csharp
public static IWebHost BuildWebHost(string[] args) =>
    WebHost.CreateDefaultBuilder(args)
        ...
```

# <a name="aspnet-core-1xtabaspnetcore1x"></a>[<span data-ttu-id="d3a6d-147">Program ASP.NET Core 1.x</span><span class="sxs-lookup"><span data-stu-id="d3a6d-147">ASP.NET Core 1.x</span></span>](#tab/aspnetcore1x)

<span data-ttu-id="d3a6d-148">Obejmują zależności na [Microsoft.AspNetCore.Server.IISIntegration](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IISIntegration/) pakiet w zależności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-148">Include a dependency on the [Microsoft.AspNetCore.Server.IISIntegration](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IISIntegration/) package in your app dependencies.</span></span> <span data-ttu-id="d3a6d-149">Włączenie oprogramowanie pośredniczące integracji usług IIS do aplikacji przez dodanie *UseIISIntegration* metodę rozszerzenie *WebHostBuilder*:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-149">Incorporate IIS Integration middleware into the app by adding the *UseIISIntegration* extension method to *WebHostBuilder*:</span></span>

```csharp
var host = new WebHostBuilder()
    .UseKestrel()
    .UseIISIntegration()
    ...
```

<span data-ttu-id="d3a6d-150">Zarówno `UseKestrel` i `UseIISIntegration` są wymagane.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-150">Both `UseKestrel` and `UseIISIntegration` are required.</span></span> <span data-ttu-id="d3a6d-151">Wywoływanie kodu *UseIISIntegration* nie ma wpływu na przenośność kodu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-151">Code calling *UseIISIntegration* doesn't affect code portability.</span></span> <span data-ttu-id="d3a6d-152">Jeśli aplikacja nie jest uruchamiana za usług IIS (na przykład aplikacja jest uruchamiana bezpośrednio na Kestrel), `UseIISIntegration` ops nie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-152">If the app isn't run behind IIS (for example, the app is run directly on Kestrel), `UseIISIntegration` no-ops.</span></span>

---

<span data-ttu-id="d3a6d-153">Aby uzyskać więcej informacji dotyczących obsługi, zobacz [Hosting w ASP.NET Core](xref:fundamentals/hosting).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-153">For more information on hosting, see [Hosting in ASP.NET Core](xref:fundamentals/hosting).</span></span>

### <a name="iis-options"></a><span data-ttu-id="d3a6d-154">Opcje usług IIS</span><span class="sxs-lookup"><span data-stu-id="d3a6d-154">IIS options</span></span>

<span data-ttu-id="d3a6d-155">Aby skonfigurować *IISIntegration* usługi opcje, obejmują konfigurację usługi *IISOptions* w *ConfigureServices*:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-155">To configure *IISIntegration* service options, include a service configuration for *IISOptions* in *ConfigureServices*:</span></span>

```csharp
services.Configure<IISOptions>(options => 
{
    ...
});
```

| <span data-ttu-id="d3a6d-156">Opcja</span><span class="sxs-lookup"><span data-stu-id="d3a6d-156">Option</span></span>                         | <span data-ttu-id="d3a6d-157">Domyślny</span><span class="sxs-lookup"><span data-stu-id="d3a6d-157">Default</span></span> | <span data-ttu-id="d3a6d-158">Ustawienie</span><span class="sxs-lookup"><span data-stu-id="d3a6d-158">Setting</span></span> |
| ------------------------------ | ------- | ------- |
| `AutomaticAuthentication`      | `true`  | <span data-ttu-id="d3a6d-159">Jeśli `true`, ustawia oprogramowanie pośredniczące uwierzytelniania `HttpContext.User` i sprostać wymaganiom ogólnego.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-159">If `true`, the authentication middleware sets the `HttpContext.User` and responds to generic challenges.</span></span> <span data-ttu-id="d3a6d-160">Jeśli `false`, oprogramowanie pośredniczące uwierzytelniania zapewnia tylko tożsamości (`HttpContext.User`) i sprostać wymaganiom jawnie żądanie `AuthenticationScheme`.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-160">If `false`, the authentication middleware only provides an identity (`HttpContext.User`) and responds to challenges when explicitly requested by the `AuthenticationScheme`.</span></span> <span data-ttu-id="d3a6d-161">Należy włączyć uwierzytelnianie systemu Windows w usługach IIS dla `AutomaticAuthentication` funkcji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-161">Windows Authentication must be enabled in IIS for `AutomaticAuthentication` to function.</span></span> |
| `AuthenticationDisplayName`    | `null`  | <span data-ttu-id="d3a6d-162">Ustawia nazwę wyświetlaną pokazywana użytkownikom na stronach logowania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-162">Sets the display name shown to users on login pages.</span></span> |
| `ForwardClientCertificate`     | `true`  | <span data-ttu-id="d3a6d-163">Jeśli `true` i `MS-ASPNETCORE-CLIENTCERT` nagłówek żądania jest obecny, `HttpContext.Connection.ClientCertificate` jest wypełnione.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-163">If `true` and the `MS-ASPNETCORE-CLIENTCERT` request header is present, the `HttpContext.Connection.ClientCertificate` is populated.</span></span> |

### <a name="webconfig"></a><span data-ttu-id="d3a6d-164">plik Web.config</span><span class="sxs-lookup"><span data-stu-id="d3a6d-164">web.config</span></span>

<span data-ttu-id="d3a6d-165">*Web.config* pliku głównie konfiguruje moduł platformy ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-165">The *web.config* file primarily configures the ASP.NET Core Module.</span></span> <span data-ttu-id="d3a6d-166">Opcjonalnie ona dodatkowych ustawień konfiguracji usług IIS.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-166">It may optionally provide additional IIS configuration settings.</span></span> <span data-ttu-id="d3a6d-167">Tworzenie, przekształcanie i publikowanie *web.config* jest obsługiwany przez zestaw SDK programu .NET Core sieci Web (`Microsoft.NET.Sdk.Web`).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-167">Creating, transforming, and publishing *web.config* is handled by the .NET Core Web SDK (`Microsoft.NET.Sdk.Web`).</span></span> <span data-ttu-id="d3a6d-168">Zestaw SDK jest ustawiony na początku pliku projektu (*.csproj*), `<Project Sdk="Microsoft.NET.Sdk.Web">`.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-168">The SDK is set  at the top of the project file (*.csproj*), `<Project Sdk="Microsoft.NET.Sdk.Web">`.</span></span> <span data-ttu-id="d3a6d-169">Aby zapobiec przekształcania zestawu SDK *web.config* plików, dodawanie  **\<IsTransformWebConfigDisabled >** właściwości do pliku projektu z ustawieniem `true`:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-169">To prevent the SDK from transforming the *web.config* file, add the **\<IsTransformWebConfigDisabled>** property to the project file with a setting of `true`:</span></span>

```xml
<PropertyGroup>
  <IsTransformWebConfigDisabled>true</IsTransformWebConfigDisabled>
</PropertyGroup>
```

<span data-ttu-id="d3a6d-170">Jeśli nie masz *web.config* plik w projekcie publikowania z *publikowania dotnet* lub z programem Visual Studio publikowania, plik jest tworzony w [opublikowane dane wyjściowe](xref:hosting/directory-structure).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-170">If you don't have a *web.config* file in the project when you publish with *dotnet publish* or with Visual Studio publish, the file is created for you in [published output](xref:hosting/directory-structure).</span></span> <span data-ttu-id="d3a6d-171">Jeśli masz *web.config* pliku w projekcie, jest on przekształcany z prawidłowym *processPath* i *argumenty* skonfigurować [platformy ASP.NET Core modułu ](xref:fundamentals/servers/aspnet-core-module) i przenieść do publikowanych danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-171">If you have a *web.config* file in your project, it's transformed with the correct *processPath* and *arguments* to configure the [ASP.NET Core Module](xref:fundamentals/servers/aspnet-core-module) and moved to published output.</span></span> <span data-ttu-id="d3a6d-172">Transformacja nie touch ustawień konfiguracji usług IIS, które zostały uwzględnione w pliku.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-172">The transformation doesn't touch IIS configuration settings that you've included in the file.</span></span>

## <a name="create-the-iis-website"></a><span data-ttu-id="d3a6d-173">Utwórz witrynę sieci Web usług IIS</span><span class="sxs-lookup"><span data-stu-id="d3a6d-173">Create the IIS Website</span></span>

1. <span data-ttu-id="d3a6d-174">W celu systemu usług IIS, należy utworzyć folder do zawierają aplikacji opublikowanych pliki i foldery, które są opisane w [struktury katalogów](xref:hosting/directory-structure).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-174">On the target IIS system, create a folder to contain the app's published folders and files, which are described in [Directory Structure](xref:hosting/directory-structure).</span></span>

2. <span data-ttu-id="d3a6d-175">W folderze, Utwórz *dzienniki* folder do przechowywania dzienników stdout, gdy jest włączone rejestrowanie stdout.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-175">Within the folder, create a *logs* folder to hold stdout logs when stdout logging is enabled.</span></span> <span data-ttu-id="d3a6d-176">Jeśli aplikacja jest wdrażana z *dzienniki* folderu w ładunku, Pomiń ten krok.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-176">If the app is deployed with a *logs* folder in the payload, skip this step.</span></span> <span data-ttu-id="d3a6d-177">Aby uzyskać instrukcje dotyczące wprowadzania MSBuild utworzyć *dzienniki* folderu, zobacz [struktury katalogów](xref:hosting/directory-structure) tematu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-177">For instructions on making MSBuild create the *logs* folder, see the [Directory structure](xref:hosting/directory-structure) topic.</span></span>

3. <span data-ttu-id="d3a6d-178">W **Menedżera usług IIS**, Utwórz nową witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-178">In **IIS Manager**, create a new website.</span></span> <span data-ttu-id="d3a6d-179">Podaj **nazwa witryny** i ustaw **ścieżka fizyczna** do utworzonego folderu wdrożenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-179">Provide a **Site name** and set the **Physical path** to the app's deployment folder that you created.</span></span> <span data-ttu-id="d3a6d-180">Podaj **powiązanie** konfigurację i tworzenie witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-180">Provide the **Binding** configuration and create the website.</span></span>

4. <span data-ttu-id="d3a6d-181">Skonfiguruj pulę aplikacji **bez kodu zarządzanego**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-181">Set the application pool to **No Managed Code**.</span></span> <span data-ttu-id="d3a6d-182">Platformy ASP.NET Core działa w oddzielnych procesach i zarządza środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-182">ASP.NET Core runs in a separate process and manages the runtime.</span></span>

5. <span data-ttu-id="d3a6d-183">Otwórz **Dodawanie witryny sieci Web** okna.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-183">Open the **Add Website** window.</span></span>

   ![Kliknij przycisk Dodaj witrynę sieci Web z menu kontekstowe witryny.](iis/_static/add-website-context-menu-ws2016.png)

6. <span data-ttu-id="d3a6d-185">Konfigurowanie witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-185">Configure the website.</span></span>

   ![Podaj nazwę lokacji, ścieżka fizyczna i nazwy hosta w kroku Dodawanie witryny sieci Web.](iis/_static/add-website-ws2016.png)

7. <span data-ttu-id="d3a6d-187">W **pul aplikacji** panelu, otwórz **edytowanie puli aplikacji** okno prawym przyciskiem myszy w puli aplikacji witryny sieci Web i wybierając **podstawowych ustawień...**  w menu podręcznym.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-187">In the **Application Pools** panel, open the **Edit Application Pool** window by right-clicking on the website's app pool and selecting **Basic Settings...** from the popup menu.</span></span>

   ![Wybierz ustawienia podstawowe z menu kontekstowego puli aplikacji.](iis/_static/apppools-basic-settings-ws2016.png)

8. <span data-ttu-id="d3a6d-189">Ustaw **wersja środowiska .NET CLR** do **bez kodu zarządzanego**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-189">Set the **.NET CLR version** to **No Managed Code**.</span></span>

   ![Ustaw żadnego kodu zarządzanego dla wersji środowiska CLR programu .NET.](iis/_static/edit-apppool-ws2016.png)
     
    <span data-ttu-id="d3a6d-191">Uwaga: Ustawienie **wersja środowiska .NET CLR** do **bez kodu zarządzanego** jest opcjonalna.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-191">Note: Setting the **.NET CLR version** to **No Managed Code** is optional.</span></span> <span data-ttu-id="d3a6d-192">Platformy ASP.NET Core nie zależą od ładowania CLR pulpitu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-192">ASP.NET Core doesn't rely on loading the desktop CLR.</span></span>

9. <span data-ttu-id="d3a6d-193">Upewnij się, że tożsamość procesu modelu ma odpowiednie uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-193">Confirm the process model identity has the proper permissions.</span></span>

   <span data-ttu-id="d3a6d-194">Jeśli zmienisz tożsamości domyślnej puli aplikacji (**Model procesu** > **tożsamości**) z **puli** tożsamość, sprawdź, czy nową tożsamość ma wymagane uprawnienia dostępu do folderu instalacji aplikacji, bazy danych i innych wymaganych zasobów.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-194">If you change the default identity of the app pool (**Process Model** > **Identity**) from **ApplicationPoolIdentity** to another identity, verify that the new identity has the required permissions to access the app's folder, database, and other required resources.</span></span>
   
## <a name="deploy-the-application"></a><span data-ttu-id="d3a6d-195">Wdrażanie aplikacji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-195">Deploy the application</span></span>
<span data-ttu-id="d3a6d-196">Wdrażanie aplikacji do folderu, który został utworzony w celu systemu usług IIS.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-196">Deploy the application to the folder you created on the target IIS system.</span></span> <span data-ttu-id="d3a6d-197">[Web Deploy](/iis/publish/using-web-deploy/introduction-to-web-deploy) to mechanizm zalecane dla wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-197">[Web Deploy](/iis/publish/using-web-deploy/introduction-to-web-deploy) is the recommended mechanism for deployment.</span></span> <span data-ttu-id="d3a6d-198">Poniżej przedstawiono alternatywy dla narzędzia Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-198">Alternatives to Web Deploy are listed below.</span></span>

<span data-ttu-id="d3a6d-199">Upewnij się, że opublikowana aplikacja dla wdrożenia nie jest uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-199">Confirm that the published app for deployment isn't running.</span></span> <span data-ttu-id="d3a6d-200">Pliki w *publikowania* folderu są zablokowane, gdy aplikacja jest uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-200">Files in the *publish* folder are locked when the app is running.</span></span> <span data-ttu-id="d3a6d-201">Wdrożenie nie może wystąpić, ponieważ zablokowany się, że nie można skopiować plików.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-201">Deployment can't occur because locked files can't be copied.</span></span>

### <a name="web-deploy-with-visual-studio"></a><span data-ttu-id="d3a6d-202">Narzędzie Web Deploy w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d3a6d-202">Web Deploy with Visual Studio</span></span>
<span data-ttu-id="d3a6d-203">Zobacz [tworzenie profilów publikowania dla programu Visual Studio i MSBuild, jak wdrażać aplikacje platformy ASP.NET Core](xref:publishing/web-publishing-vs#publish-profiles) tematu, aby dowiedzieć się, jak utworzyć profil publikowania do użytku z narzędzia Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-203">See [Create publish profiles for Visual Studio and MSBuild, to deploy ASP.NET Core apps](xref:publishing/web-publishing-vs#publish-profiles) topic to learn how to create a publish profile for use with Web Deploy.</span></span> <span data-ttu-id="d3a6d-204">Jeśli Twój dostawca hostingu dostarcza profil publikowania lub obsługę utworzenie, Pobierz swój profil i zaimportuj go za pomocą programu Visual Studio **publikowania** okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-204">If your hosting provider supplies a Publish Profile or support for creating one, download their profile and import it using the Visual Studio **Publish** dialog.</span></span>

![Okno dialogowe strony publikacji](iis/_static/pub-dialog.png)

### <a name="web-deploy-outside-of-visual-studio"></a><span data-ttu-id="d3a6d-206">Narzędzie Web Deploy poza programu Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d3a6d-206">Web Deploy outside of Visual Studio</span></span>
<span data-ttu-id="d3a6d-207">Można również użyć [narzędzia Web Deploy](/iis/publish/using-web-deploy/introduction-to-web-deploy) poza Visual Studio z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-207">You can also use [Web Deploy](/iis/publish/using-web-deploy/introduction-to-web-deploy) outside of Visual Studio from the command line.</span></span> <span data-ttu-id="d3a6d-208">Aby uzyskać więcej informacji, zobacz [narzędzie Web Deployment](/iis/publish/using-web-deploy/use-the-web-deployment-tool).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-208">For more information, see [Web Deployment Tool](/iis/publish/using-web-deploy/use-the-web-deployment-tool).</span></span>

### <a name="alternatives-to-web-deploy"></a><span data-ttu-id="d3a6d-209">Wdrażanie rozwiązań alternatywnych w sieci Web</span><span class="sxs-lookup"><span data-stu-id="d3a6d-209">Alternatives to Web Deploy</span></span>
<span data-ttu-id="d3a6d-210">Jeśli nie chcesz jej użyć narzędzia Web Deploy lub nie korzystają z programu Visual Studio, mogą przy użyciu jednej z kilku metod przeniesienie aplikacji w systemie hostingu, na przykład Xcopy, Robocopy lub programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-210">If you don't wish to use Web Deploy or are not using Visual Studio, you may use any of several methods to move the application to the hosting system, such as Xcopy, Robocopy, or PowerShell.</span></span> <span data-ttu-id="d3a6d-211">Visual Studio użytkownicy mogą skorzystać z [przykłady publikowania](https://github.com/aspnet/vsweb-publish/blob/master/samples/samples.md).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-211">Visual Studio users may use the [Publish Samples](https://github.com/aspnet/vsweb-publish/blob/master/samples/samples.md).</span></span>

## <a name="browse-the-website"></a><span data-ttu-id="d3a6d-212">Przeglądaj witryny sieci Web</span><span class="sxs-lookup"><span data-stu-id="d3a6d-212">Browse the website</span></span>
![Przeglądarka Microsoft Edge załadował strony początkowej usług IIS.](iis/_static/browsewebsite.png)
   
> [!WARNING]
> <span data-ttu-id="d3a6d-214">Aplikacje .NET core są obsługiwane za pośrednictwem serwera proxy wstecznego między usługami IIS a Kestrel serwera.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-214">.NET Core apps are hosted via a reverse-proxy between IIS and the Kestrel server.</span></span> <span data-ttu-id="d3a6d-215">Aby można było utworzyć wstecznego serwera proxy, *web.config* plik musi znajdować się w ścieżce zawartości katalogu głównego (zazwyczaj ścieżki podstawowej aplikacji), aplikacji, która jest ścieżka fizyczna witryny sieci Web do usług IIS.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-215">In order to create the reverse-proxy, the *web.config* file must be present at the content root path (typically the app base path) of the deployed application, which is the website physical path provided to IIS.</span></span> <span data-ttu-id="d3a6d-216">Poufne pliki istnieją na ścieżkę fizyczną aplikacji, w tym podfolderów, takich jak *my_application.runtimeconfig.json*, *my_application.xml* (komentarze dokumentacji XML), a *my_ Application.deps.JSON*.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-216">Sensitive files exist on the app's physical path, including subfolders, such as *my_application.runtimeconfig.json*, *my_application.xml* (XML Documentation comments), and *my_application.deps.json*.</span></span> <span data-ttu-id="d3a6d-217">*Web.config* plik jest niezbędny do tworzenia zwrotny serwer proxy do Kestrel, co zapobiega usług IIS obsługujących tych i innych poufnych plików.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-217">The *web.config* file is required to create the reverse proxy to Kestrel, which prevents IIS from serving these and other sensitive files.</span></span> <span data-ttu-id="d3a6d-218">**W związku z tym ważne jest który *web.config* plik nie jest ani przypadkowo, zmieniono jego nazwę lub usunięte z wdrożenia.**</span><span class="sxs-lookup"><span data-stu-id="d3a6d-218">**Therefore, it's important that the *web.config* file isn't accidently renamed or removed from the deployment.**</span></span>

## <a name="data-protection"></a><span data-ttu-id="d3a6d-219">Ochrona danych</span><span class="sxs-lookup"><span data-stu-id="d3a6d-219">Data protection</span></span>

<span data-ttu-id="d3a6d-220">Aplikacja platformy ASP.NET Core przechowuje zestaw kluczy w pamięci w następujących warunkach:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-220">An ASP.NET Core application stores the keyring in memory under the following conditions:</span></span>

* <span data-ttu-id="d3a6d-221">Witryna sieci Web jest hostowany za usług IIS.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-221">A website is hosted behind IIS.</span></span>
* <span data-ttu-id="d3a6d-222">Stos ochrony danych nie został skonfigurowany do przechowywania zestaw kluczy w magazynu trwałego.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-222">The Data Protection stack hasn't been configured to store the keyring in a persistent store.</span></span>

<span data-ttu-id="d3a6d-223">Jeśli zestaw kluczy są przechowywane w pamięci, po ponownym uruchomieniu aplikacji:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-223">If the keyring is stored in memory when the app restarts:</span></span>

* <span data-ttu-id="d3a6d-224">Wszystkie tokeny uwierzytelniania formularzy zostały unieważnione.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-224">All forms authentication tokens are invalidated.</span></span> 
* <span data-ttu-id="d3a6d-225">Użytkownicy są wymagane do logowania się ponownie ich następnego żądania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-225">Users are required to login again on their next request.</span></span> 
* <span data-ttu-id="d3a6d-226">Wszystkie dane, które chroniona przez zestaw kluczy nie jest chroniony.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-226">Any data you protected with the keyring are no longer protected.</span></span>

> [!WARNING]
> <span data-ttu-id="d3a6d-227">Ochrona danych jest używana przez kilka middlewares ASP.NET, w tym używane podczas uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-227">Data Protection is used by several ASP.NET middlewares, including those used in authentication.</span></span> <span data-ttu-id="d3a6d-228">Nawet jeśli nie wywołuj interfejsy API ochrony danych ze swojego kodu, należy skonfigurować ochronę danych przy użyciu skryptu wdrażania lub w kodzie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-228">Even if you don't call Data Protection APIs from your own code, you should configure Data Protection with a deployment script or in your code.</span></span> <span data-ttu-id="d3a6d-229">Jeśli nie skonfigurujesz ochrony danych, domyślnie klucze są przechowywane w pamięci i odrzucone po ponownym uruchomieniu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-229">If you don't configure data protection, by default the keys are held in memory and discarded when your app restarts.</span></span> <span data-ttu-id="d3a6d-230">Ponowne uruchamianie unieważnia plików cookie napisane przez oprogramowanie pośredniczące uwierzytelniania plików cookie i użytkownicy będą musieli zalogować się ponownie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-230">Restarting invalidates cookies written by the cookie authentication middleware and users must login again.</span></span>

<span data-ttu-id="d3a6d-231">Aby skonfigurować ochronę danych w środowisku usług IIS, należy użyć jednej z następujących metod:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-231">To configure Data Protection under IIS, you must use one of the following approaches:</span></span>

* <span data-ttu-id="d3a6d-232">Uruchom [skrypt programu powershell](https://github.com/aspnet/DataProtection/blob/dev/Provision-AutoGenKeys.ps1) można utworzyć wpisów rejestru odpowiednich (na przykład `.\Provision-AutoGenKeys.ps1 DefaultAppPool`).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-232">Run a [powershell script](https://github.com/aspnet/DataProtection/blob/dev/Provision-AutoGenKeys.ps1) to create suitable registry entries (For example, `.\Provision-AutoGenKeys.ps1 DefaultAppPool`).</span></span> <span data-ttu-id="d3a6d-233">To klucze są przechowywane w rejestrze, chronione za pomocą DPAPI za pomocą klucza komputera.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-233">This stores keys in the registry, protected using DPAPI with a machine-wide key.</span></span>
* <span data-ttu-id="d3a6d-234">Konfigurowanie puli aplikacji usług IIS do załadowania profilu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-234">Configure the IIS Application Pool to load the user profile.</span></span> <span data-ttu-id="d3a6d-235">To ustawienie jest **Model procesu** w obszarze **Zaawansowane ustawienia** dla puli aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-235">This setting is in the **Process Model** section under the **Advanced Settings** for the application pool.</span></span> <span data-ttu-id="d3a6d-236">Ustaw **Załaduj profil użytkownika** do `True`.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-236">Set **Load User Profile** to `True`.</span></span> <span data-ttu-id="d3a6d-237">To są przechowywane klucze w katalogu profilu użytkownika i ich ochrony za pomocą DPAPI kluczem określone konto użytkownika używane w puli aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-237">This stores keys under the user profile directory and protects them using DPAPI with a key specific to the user account used for the app pool.</span></span>
* <span data-ttu-id="d3a6d-238">Dostosuj kod aplikacji, aby [system plików jako magazyn pierścień klucza](xref:security/data-protection/configuration/overview).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-238">Adjust your app code to [use the file system as a key ring store](xref:security/data-protection/configuration/overview).</span></span> <span data-ttu-id="d3a6d-239">Użyj X509 certyfikat, aby chronić zestaw kluczy i upewnij się, jest zaufany certyfikat.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-239">Use an X509 certificate to protect the keyring and ensure it's a trusted certificate.</span></span> <span data-ttu-id="d3a6d-240">Jeśli certyfikat z podpisem własnym, należy umieścić go w magazynie zaufanych głównych.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-240">If it's a self signed certificate, you must place it in the Trusted Root store.</span></span>

<span data-ttu-id="d3a6d-241">Korzystając z usług IIS w farmie sieci web:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-241">When using IIS in a web farm:</span></span>

* <span data-ttu-id="d3a6d-242">Użyj udziału plików, które mogą uzyskiwać dostęp do wszystkich maszyn.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-242">Use a file share that all machines can access.</span></span>
* <span data-ttu-id="d3a6d-243">Wdrażanie X509 certyfikatów na każdym komputerze.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-243">Deploy an X509 certificate to each machine.</span></span> <span data-ttu-id="d3a6d-244">Skonfiguruj [ochrony danych w kodzie](https://docs.microsoft.com/aspnet/core/security/data-protection/configuration/overview).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-244">Configure [data protection in code](https://docs.microsoft.com/aspnet/core/security/data-protection/configuration/overview).</span></span>

### <a name="1-create-a-data-protection-registry-hive"></a><span data-ttu-id="d3a6d-245">1. Utwórz gałąź rejestru ochrony danych</span><span class="sxs-lookup"><span data-stu-id="d3a6d-245">1. Create a Data Protection Registry Hive</span></span>

<span data-ttu-id="d3a6d-246">Klucze ochrony danych używane przez aplikacje ASP.NET są przechowywane w gałęzi rejestru zewnętrzne do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-246">Data Protection keys used by ASP.NET applications are stored in registry hives external to the applications.</span></span> <span data-ttu-id="d3a6d-247">Aby zachować kluczy dla danej aplikacji, należy utworzyć gałąź rejestru dla aplikacji w puli aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-247">To persist the keys for a given application, you must create a registry hive for the app's application pool.</span></span>

<span data-ttu-id="d3a6d-248">W przypadku instalacji autonomicznej usług IIS można użyć [skrypt programu PowerShell należy AutoGenKeys.ps1 ochrony danych](https://github.com/aspnet/DataProtection/blob/dev/Provision-AutoGenKeys.ps1) dla każdej puli aplikacji używane w aplikacji platformy ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-248">For standalone IIS installations, you may use the [Data Protection Provision-AutoGenKeys.ps1 PowerShell script](https://github.com/aspnet/DataProtection/blob/dev/Provision-AutoGenKeys.ps1) for each app pool used with an ASP.NET Core app.</span></span> <span data-ttu-id="d3a6d-249">Ten skrypt tworzy specjalnego klucza rejestru HKLM, które ma ACLed tylko konta procesu roboczego.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-249">This script creates a special registry key in the HKLM registry that is ACLed only to the worker process account.</span></span> <span data-ttu-id="d3a6d-250">Klucze są szyfrowane, gdy przy użyciu DPAPI.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-250">Keys are encrypted at rest using DPAPI.</span></span>

<span data-ttu-id="d3a6d-251">W scenariuszach kolektywu serwerów sieci web aplikację można skonfigurować do użyć ścieżki UNC do przechowywania jego zestaw kluczy ochrony danych.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-251">In web farm scenarios, an app can be configured to use a UNC path to store its data protection keyring.</span></span> <span data-ttu-id="d3a6d-252">Domyślnie klucze ochrony danych nie są szyfrowane.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-252">By default, the data protection keys are not encrypted.</span></span> <span data-ttu-id="d3a6d-253">Należy się upewnić, że uprawnienia udziału takie jest ograniczone do uruchomieniu aplikacji jako konto systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-253">You should ensure that the file permissions for such a share are limited to the Windows account the app runs as.</span></span> <span data-ttu-id="d3a6d-254">Ponadto można wybrać do ochrony kluczy magazynowane przy użyciu X509 certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-254">In addition, you may choose to protect keys at rest using an X509 certificate.</span></span> <span data-ttu-id="d3a6d-255">Warto rozważyć mechanizm Zezwalaj użytkownikom na przekazywanie certyfikaty: miejsce certyfikatów do zaufanego certyfikatu użytkownika przechowywania i upewnij się, są one dostępne na wszystkich komputerach, którym jest uruchamiany aplikacji użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-255">You may wish to consider a mechanism to allow users to upload certificates: Place certificates into the user's trusted certificate store and ensure they're available on all machines where the user's app runs.</span></span> <span data-ttu-id="d3a6d-256">Zobacz [konfigurowania ochrony danych](xref:security/data-protection/configuration/overview) szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-256">See [Configuring Data Protection](xref:security/data-protection/configuration/overview) for details.</span></span>

### <a name="2-configure-the-iis-application-pool-to-load-the-user-profile"></a><span data-ttu-id="d3a6d-257">2. Konfigurowanie puli aplikacji usług IIS do załadowania profilu użytkownika</span><span class="sxs-lookup"><span data-stu-id="d3a6d-257">2. Configure the IIS Application Pool to load the user profile</span></span>

<span data-ttu-id="d3a6d-258">To ustawienie jest **Model procesu** w obszarze **Zaawansowane ustawienia** dla puli aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-258">This setting is in the **Process Model** section under the **Advanced Settings** for the app pool.</span></span> <span data-ttu-id="d3a6d-259">Ustaw Załaduj profil użytkownika `True`.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-259">Set Load User Profile to `True`.</span></span> <span data-ttu-id="d3a6d-260">To są przechowywane klucze w katalogu profilu użytkownika i ich ochrony za pomocą DPAPI kluczem określone konto użytkownika używane w puli aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-260">This stores keys under the user profile directory and protects them using DPAPI with a key specific to the user account used for the app pool.</span></span>

### <a name="3-machine-wide-policy-for-data-protection"></a><span data-ttu-id="d3a6d-261">3. Zasady komputera dla ochrony danych</span><span class="sxs-lookup"><span data-stu-id="d3a6d-261">3. Machine-wide policy for data protection</span></span>

<span data-ttu-id="d3a6d-262">System ochrony danych ma ograniczoną obsługę ustawienie domyślne [komputera zasad](xref:security/data-protection/configuration/machine-wide-policy) dla wszystkich aplikacji, które korzystanie z interfejsów API ochrony danych.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-262">The data protection system has limited support for setting a default [machine-wide policy](xref:security/data-protection/configuration/machine-wide-policy) for all apps that consume the Data Protection APIs.</span></span> <span data-ttu-id="d3a6d-263">Zobacz [ochrony danych](xref:security/data-protection/index) dokumentację, aby uzyskać więcej szczegółowych informacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-263">See the [data protection](xref:security/data-protection/index) documentation for more details.</span></span>

## <a name="configuration-of-sub-applications"></a><span data-ttu-id="d3a6d-264">Konfiguracja aplikacji podrzędne</span><span class="sxs-lookup"><span data-stu-id="d3a6d-264">Configuration of sub-applications</span></span>

<span data-ttu-id="d3a6d-265">Aplikacje Sub dodany w obszarze katalogu głównego aplikacji nie powinna zawierać moduł platformy ASP.NET Core jako program obsługi.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-265">Sub applications added under the root application shouldn't include the ASP.NET Core Module as a handler.</span></span> <span data-ttu-id="d3a6d-266">Jeśli jako program obsługi w sub aplikacji dodany moduł *web.config* pliku, pojawi się 500.19 (wewnętrzny błąd serwera) odwołuje się do pliku konfiguracji błędny podczas przeglądania aplikacji sub.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-266">If you add the module as a handler in a sub-application's *web.config* file, you receive a 500.19 (Internal Server Error) referencing the faulty config file when you attempt to browse the sub-app.</span></span> <span data-ttu-id="d3a6d-267">W poniższym przykładzie przedstawiono zawartości opublikowanej *web.config* pliku dla platformy ASP.NET Core sub aplikacji:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-267">The following example shows the contents of a published *web.config* file for an ASP.NET Core sub-app:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <aspNetCore processPath="dotnet" 
      arguments=".\MyApp.dll" 
      stdoutLogEnabled="false" 
      stdoutLogFile=".\logs\stdout" />
  </system.webServer>
</configuration>
```

<span data-ttu-id="d3a6d-268">Jeśli planujesz hostowanie - platformy ASP.NET Core sub aplikacji w kontenerze aplikacji platformy ASP.NET Core, należy jawnie usunąć dziedziczonej obsługi w sub-app *web.config* pliku:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-268">If you intend to host a non-ASP.NET Core sub-app underneath an ASP.NET Core app, you must explicitly remove the inherited handler in the sub-app *web.config* file:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <remove name="aspNetCore"/>
    </handlers>
    <aspNetCore processPath="dotnet" 
      arguments=".\MyApp.dll" 
      stdoutLogEnabled="false" 
      stdoutLogFile=".\logs\stdout" />
  </system.webServer>
</configuration>
```

<span data-ttu-id="d3a6d-269">Aby uzyskać więcej informacji na temat konfigurowania ASP.NET Core moduł *web.config* plików, zobacz [wprowadzenie do platformy ASP.NET Core modułu](xref:fundamentals/servers/aspnet-core-module) tematu i [konfiguracja platformy ASP.NET Core modułu Odwołanie](xref:hosting/aspnet-core-module).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-269">For more information on configuring the ASP.NET Core Module with the *web.config* file, see the [Introduction to ASP.NET Core Module](xref:fundamentals/servers/aspnet-core-module) topic and the [ASP.NET Core Module configuration reference](xref:hosting/aspnet-core-module).</span></span>

## <a name="configuration-of-iis-with-webconfig"></a><span data-ttu-id="d3a6d-270">Konfiguracja usług IIS z pliku web.config</span><span class="sxs-lookup"><span data-stu-id="d3a6d-270">Configuration of IIS with web.config</span></span>

<span data-ttu-id="d3a6d-271">Konfiguracja programu IIS nadal ma wpływ `<system.webServer>` sekcji *web.config* dla tych funkcji usług IIS, które mają zastosowanie do konfiguracji zwrotnego serwera proxy.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-271">IIS configuration is still influenced by the `<system.webServer>` section of *web.config* for those IIS features that apply to a reverse proxy configuration.</span></span> <span data-ttu-id="d3a6d-272">Na przykład masz usługi IIS skonfigurowane na poziomie systemu do używania dynamicznej kompresji, ale można wyłączyć to ustawienie dla aplikacji za pomocą `<urlCompression>` element w aplikacji *web.config* pliku.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-272">For example, you may have IIS configured at the system level to use dynamic compression, but you could disable that setting for an app with the `<urlCompression>` element in the app's *web.config* file.</span></span> <span data-ttu-id="d3a6d-273">Aby uzyskać więcej informacji, zobacz [konfiguracji odwołania dla `<system.webServer>` ](https://docs.microsoft.com/iis/configuration/system.webServer/), [odwołania do konfiguracji modułu platformy ASP.NET Core](xref:hosting/aspnet-core-module) i [przy użyciu modułów usług IIS z platformy ASP.NET Core](xref:hosting/iis-modules).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-273">For more information, see the [configuration reference for `<system.webServer>`](https://docs.microsoft.com/iis/configuration/system.webServer/), [ASP.NET Core Module Configuration Reference](xref:hosting/aspnet-core-module) and [Using IIS Modules with ASP.NET Core](xref:hosting/iis-modules).</span></span> <span data-ttu-id="d3a6d-274">Jeśli musisz ustawić zmienne środowiskowe dla poszczególnych aplikacji uruchomionych w pulach aplikacji izolowanych (obsługiwane w usługach IIS 10.0 +), zobacz *polecenia AppCmd.exe* sekcji [zmiennych środowiskowych \< environmentVariables >](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) dokumentacji odwołania tematu w usługach IIS.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-274">If you need to set environment variables for individual apps running in isolated Application Pools (supported on IIS 10.0+), see the *AppCmd.exe command* section of the [Environment Variables \<environmentVariables>](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) topic in the IIS reference documentation.</span></span>

## <a name="configuration-sections-of-webconfig"></a><span data-ttu-id="d3a6d-275">Sekcji konfiguracyjnych w pliku Web.config</span><span class="sxs-lookup"><span data-stu-id="d3a6d-275">Configuration sections of web.config</span></span>

<span data-ttu-id="d3a6d-276">W przeciwieństwie do aplikacji .NET Framework, które są skonfigurowane przy użyciu `<system.web>`, `<appSettings>`, `<connectionStrings>`, i `<location>` elementów w *web.config*, aplikacje platformy ASP.NET Core są skonfigurowane przy użyciu innych konfiguracji dostawcy.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-276">Unlike .NET Framework applications that are configured with the `<system.web>`, `<appSettings>`, `<connectionStrings>`, and `<location>` elements in *web.config*, ASP.NET Core apps are configured using other configuration providers.</span></span> <span data-ttu-id="d3a6d-277">Aby uzyskać więcej informacji, zobacz [konfiguracji](xref:fundamentals/configuration/index).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-277">For more information, see [Configuration](xref:fundamentals/configuration/index).</span></span>

## <a name="application-pools"></a><span data-ttu-id="d3a6d-278">Pule aplikacji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-278">Application Pools</span></span>

<span data-ttu-id="d3a6d-279">Odnośnie do hostowania wielu witryn sieci Web na jednym komputerze, należy izolowania aplikacji od siebie, uruchamiając każdej aplikacji w odrębnej puli aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-279">When hosting multiple websites on a single system, you should isolate the apps from each other by running each app in its own application pool.</span></span> <span data-ttu-id="d3a6d-280">Usługi IIS **Dodawanie witryny sieci Web** okno dialogowe Ustawienia domyślne tego zachowania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-280">The IIS **Add Website** dialog defaults to this behavior.</span></span> <span data-ttu-id="d3a6d-281">Jeśli podasz **nazwa witryny**, tekst jest automatycznie przenoszona do **puli aplikacji** pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-281">When you provide a **Site name**, the text is automatically transferred to the **Application pool** textbox.</span></span> <span data-ttu-id="d3a6d-282">Jest tworzona nowa pula aplikacji przy użyciu nazwy lokacji, podczas dodawania witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-282">A new application pool is created using the site name when you add the website.</span></span>

## <a name="application-pool-identity"></a><span data-ttu-id="d3a6d-283">Tożsamość puli aplikacji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-283">Application Pool Identity</span></span>

<span data-ttu-id="d3a6d-284">Konto tożsamości puli aplikacji umożliwia uruchamianie aplikacji w obszarze unikatowe konto bez konieczności tworzenia i zarządzania nimi domeny lub lokalnego konta.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-284">An application pool identity account allows you to run an application under a unique account without having to create and manage domains or local accounts.</span></span> <span data-ttu-id="d3a6d-285">W programie IIS 8.0 i nowsze proces roboczy administratora usług IIS (WAS) tworzy konto wirtualny o nazwie dla nowej puli aplikacji i aplikacji w puli procesów roboczych na tym koncie są domyślnie uruchamiane.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-285">On IIS 8.0+, the IIS Admin Worker Process (WAS) creates a virtual account with the name of the new application pool and runs the app pool's worker processes under this account by default.</span></span> <span data-ttu-id="d3a6d-286">W konsoli zarządzania usług IIS w obszarze **Zaawansowane ustawienia** dla puli aplikacji, upewnij się, że **tożsamości** jest skonfigurowany do używania **puli** jak pokazano na poniższej ilustracji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-286">In the IIS Management Console under **Advanced Settings** for your app pool, ensure that the **Identity** is set to use **ApplicationPoolIdentity** as shown in the image below.</span></span>

![Okno dialogowe Zaawansowane ustawienia puli aplikacji](iis/_static/apppool-identity.png)

<span data-ttu-id="d3a6d-288">Proces zarządzania usług IIS tworzy bezpiecznego identyfikatora o nazwie puli aplikacji w systemie zabezpieczeń systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-288">The IIS management process creates a secure identifier with the name of the app pool in the Windows Security System.</span></span> <span data-ttu-id="d3a6d-289">Zasoby mogą być chronione przy użyciu tej tożsamości; Jednak ta tożsamość nie jest rzeczywistego konta użytkownika i nie będą widoczne w konsoli zarządzania użytkownika systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-289">Resources can be secured by using this identity; however, this identity isn't a real user account and won't show up in the Windows User Management Console.</span></span>

<span data-ttu-id="d3a6d-290">Jeśli musisz przyznać proces roboczy usług IIS procesów z podwyższonym poziomem uprawnień dostępu do aplikacji, należy zmodyfikować listy kontroli dostępu (ACL) dla katalog zawierający aplikację.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-290">If you need to grant the IIS worker process elevated access to your app, you must modify the Access Control List (ACL) for the directory containing your application.</span></span>

1. <span data-ttu-id="d3a6d-291">Otwórz Eksploratora Windows i przejdź do katalogu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-291">Open Windows Explorer and navigate to the directory.</span></span>

2. <span data-ttu-id="d3a6d-292">Kliknij prawym przyciskiem myszy w katalogu, a następnie kliknij **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-292">Right click on the directory and click **Properties**.</span></span>

3. <span data-ttu-id="d3a6d-293">W obszarze **zabezpieczeń** , kliknij pozycję **Edytuj** przycisk, a następnie **Dodaj** przycisku.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-293">Under the **Security** tab, click the **Edit** button and then the **Add** button.</span></span>

4. <span data-ttu-id="d3a6d-294">Kliknij przycisk **lokalizacje** przycisk i upewnij się, wybierz system.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-294">Click the **Locations** button and make sure you select your system.</span></span>

5. <span data-ttu-id="d3a6d-295">Wprowadź **IIS AppPool\DefaultAppPool** w **wprowadź nazwy obiektów do wybrania** pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-295">Enter **IIS AppPool\DefaultAppPool** in **Enter the object names to select** textbox.</span></span>

  ![Wybierz użytkowników lub grup okno folderu aplikacji](iis/_static/select-users-or-groups-1.png)

6. <span data-ttu-id="d3a6d-297">Kliknij przycisk **Sprawdź nazwy** przycisk, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-297">Click the **Check Names** button and then click **OK**.</span></span>

  ![Wybierz użytkowników lub grup okno folderu aplikacji](iis/_static/select-users-or-groups-2.png)

<span data-ttu-id="d3a6d-299">Można też to zrobić za pomocą wiersza polecenia przy użyciu **ICACLS** narzędzie:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-299">You can also do this via a command prompt using **ICACLS** tool:</span></span>

```console
ICACLS C:\sites\MyWebApp /grant "IIS AppPool\DefaultAppPool":F
```

## <a name="troubleshooting-tips"></a><span data-ttu-id="d3a6d-300">Porady dotyczące rozwiązywania problemów</span><span class="sxs-lookup"><span data-stu-id="d3a6d-300">Troubleshooting tips</span></span>

<span data-ttu-id="d3a6d-301">Diagnozowanie problemów z wdrożeniami usług IIS:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-301">To diagnose problems with IIS deployments:</span></span>

* <span data-ttu-id="d3a6d-302">Badanie wyników przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-302">Study browser output.</span></span>
* <span data-ttu-id="d3a6d-303">Sprawdź system **aplikacji** Zaloguj się za pośrednictwem **Podgląd zdarzeń**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-303">Examine the system's **Application** log through **Event Viewer**.</span></span>
* <span data-ttu-id="d3a6d-304">Włącz `stdout` rejestrowania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-304">Enable `stdout` logging.</span></span> <span data-ttu-id="d3a6d-305">**Moduł platformy ASP.NET Core** dziennika znajduje się w podanej w ścieżce *stdoutLogFile* atrybutu `<aspNetCore>` element *web.config*. Wszystkie foldery w ścieżce w wartości atrybutu musi istnieć w ramach wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-305">The **ASP.NET Core Module** log is found on the path provided in the *stdoutLogFile* attribute of the `<aspNetCore>` element in *web.config*. Any folders on the path provided in the attribute value must exist in the deployment.</span></span> <span data-ttu-id="d3a6d-306">Należy także ustawić *stdoutLogEnabled = "true"*.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-306">You must also set *stdoutLogEnabled="true"*.</span></span> <span data-ttu-id="d3a6d-307">Aplikacje używające `Microsoft.NET.Sdk.Web` zestaw SDK, aby utworzyć *web.config* plik domyślny *stdoutLogEnabled* ustawienie *false*, dlatego należy ręcznie wprowadzić *web.config* pliku lub zmodyfikowania pliku, aby włączyć `stdout` rejestrowania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-307">Apps that use the the `Microsoft.NET.Sdk.Web` SDK to create the *web.config* file default the *stdoutLogEnabled* setting to *false*, so you must manually provide the *web.config* file or modify the file in order to enable `stdout` logging.</span></span>

<span data-ttu-id="d3a6d-308">Niektóre typowe błędy nie są wyświetlane w przeglądarce, dziennik aplikacji i ASP.NET Core modułu dziennika do modułu *startupTimeLimit* (domyślne: 120 sekund) i *startupRetryCount* (domyślne: 2) są spełnione.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-308">Several of the common errors don't appear in the browser, Application Log, and ASP.NET Core Module Log until the module *startupTimeLimit* (default: 120 seconds) and *startupRetryCount* (default: 2) have passed.</span></span> <span data-ttu-id="d3a6d-309">W związku z tym Zaczekaj pełne 6 minut przed wydedukowania które module nie można uruchomić procesu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-309">Therefore, wait a full six minutes before deducing that the module has failed to start a process for the app.</span></span>

<span data-ttu-id="d3a6d-310">Jest szybkim sposobem Ustal, czy aplikacja działa prawidłowo do uruchomienia aplikacji bezpośrednio na Kestrel.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-310">One quick way to determine if the app is working properly is to run the app directly on Kestrel.</span></span> <span data-ttu-id="d3a6d-311">Jeśli aplikacja została opublikowana jako wdrożenie framework zależne (stacje), wykonaj `dotnet my_application.dll` w folderze wdrożenia, który jest ścieżka fizyczna programu IIS do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-311">If the app was published as a framework-dependent deployment (FDD), execute `dotnet my_application.dll` in the deployment folder, which is the IIS physical path to the app.</span></span> <span data-ttu-id="d3a6d-312">Jeśli aplikacja została opublikowana jako pliku wykonywalnego bezpośrednio z wiersza polecenia, niezależne wdrożenia (SCD), uruchom aplikację `my_application.exe`, w folderze wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-312">If the app was published as a self-contained deployment (SCD), run the app's executable directly from a command prompt, `my_application.exe`, in the deployment folder.</span></span> <span data-ttu-id="d3a6d-313">Jeśli Kestrel nasłuchuje na porcie domyślnym 5000, powinno być możliwe do przeglądania aplikacji w `http://localhost:5000/`.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-313">If Kestrel is listening on default port 5000, you should be able to browse the app at `http://localhost:5000/`.</span></span> <span data-ttu-id="d3a6d-314">Jeśli aplikacja zazwyczaj odpowiada pod adresem punktu końcowego Kestrel, problem dotyczy najprawdopodobniej konfiguracji ASP.NET usług IIS, moduł Core-Kestrel i mniej prawdopodobne w aplikacji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-314">If the app responds normally at the Kestrel endpoint address, the problem is more likely related to the IIS-ASP.NET Core Module-Kestrel configuration and less likely within the app itself.</span></span>

<span data-ttu-id="d3a6d-315">Jednym ze sposobów ustalenia, czy usługi IIS odwrotny serwer proxy do serwera Kestrel działa poprawnie jest wykonanie żądania prostego pliku statycznego do arkusza stylów, skryptów lub obraz z plików statycznych dla aplikacji w *wwwroot* przy użyciu [plików statycznych oprogramowanie pośredniczące](xref:fundamentals/static-files).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-315">One way to determine if the IIS reverse proxy to the Kestrel server is working properly is to perform a simple static file request for a stylesheet, script, or image from the app's static files in *wwwroot* using [Static File middleware](xref:fundamentals/static-files).</span></span> <span data-ttu-id="d3a6d-316">Jeśli aplikacja może obsługiwać pliki statyczne, ale innych punktów końcowych i widoków MVC kończą się niepowodzeniem, problem jest mniej prawdopodobnie związane z konfiguracją modułu Core ASP.NET usług IIS — Kestrel i prawdopodobnie w aplikacji (na przykład routingu MVC lub 500 Wewnętrzny błąd serwera).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-316">If the app can serve static files but MVC Views and other endpoints are failing, the problem is less likely related to the IIS-ASP.NET Core Module-Kestrel configuration and more likely within the app itself (for example, MVC routing or 500 Internal Server Error).</span></span>

<span data-ttu-id="d3a6d-317">Gdy Kestrel uruchamia się normalnie za usług IIS, ale aplikacja nie mogą być uruchamiane na komputerze po pomyślnym uruchomieniu lokalnie, tymczasowo można dodać zmienną środowiskową *web.config* można ustawić `ASPNETCORE_ENVIRONMENT` do `Development`.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-317">When Kestrel starts normally behind IIS but the app won't run on the system after successfully running locally, you can temporarily add an environment variable to *web.config* to set the `ASPNETCORE_ENVIRONMENT` to `Development`.</span></span> <span data-ttu-id="d3a6d-318">Tak długo, jak nie można zastąpić środowiska uruchamiania aplikacji, dzięki temu [strona wyjątek dewelopera](xref:fundamentals/error-handling) się pojawiać, gdy aplikacja jest uruchamiana w systemie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-318">As long as you don't override the environment in app startup, this allows the [developer exception page](xref:fundamentals/error-handling) to appear when the app is run on the system.</span></span> <span data-ttu-id="d3a6d-319">Ustawienie zmiennej środowiskowej dla `ASPNETCORE_ENVIRONMENT` w ten sposób jest zalecane tylko dla systemów przemieszczania/testowania, które nie są dostępne w Internecie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-319">Setting the environment variable for `ASPNETCORE_ENVIRONMENT` in this way is only recommended for staging/testing systems that aren't exposed to the Internet.</span></span> <span data-ttu-id="d3a6d-320">Należy usunąć zmienną środowiskową z *web.config* pliku po zakończeniu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-320">Be sure you remove the environment variable from the *web.config* file when finished.</span></span> <span data-ttu-id="d3a6d-321">Aby uzyskać informacje na temat ustawiania zmiennych środowiskowych za pośrednictwem *web.config* dla zwrotnego serwera proxy, zobacz [environmentVariables elementem podrzędnym aspNetCore](xref:hosting/aspnet-core-module#setting-environment-variables).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-321">For information on setting environment variables via *web.config* for the reverse proxy, see [environmentVariables child element of aspNetCore](xref:hosting/aspnet-core-module#setting-environment-variables).</span></span>

<span data-ttu-id="d3a6d-322">W większości przypadków Włączanie rejestrowania aplikacji pomaga w rozwiązywaniu problemów z aplikacji lub zwrotnego serwera proxy.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-322">In most cases, enabling application logging assists in troubleshooting problems with the app or the reverse proxy.</span></span> <span data-ttu-id="d3a6d-323">Zobacz [rejestrowanie](xref:fundamentals/logging/index) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-323">See [Logging](xref:fundamentals/logging/index) for more information.</span></span>

<span data-ttu-id="d3a6d-324">Nasze ostatniego porady dotyczące rozwiązywania problemów odnosi się do aplikacji, których nie można uruchomić po uaktualnieniu albo .NET Core SDK w wersjach programowanie maszyny lub pakietu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-324">Our last troubleshooting tip pertains to apps that fail to run after upgrading either the .NET Core SDK on the development machine or package versions within the app.</span></span> <span data-ttu-id="d3a6d-325">W niektórych przypadkach niespójne pakiety mogą być dzielone aplikacji podczas przeprowadzania uaktualnienia głównych.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-325">In some cases, incoherent packages may break an app when performing major upgrades.</span></span> <span data-ttu-id="d3a6d-326">Większość tych problemów można rozwiązać przez usunięcie `bin` i `obj` foldery w projekcie, czyszcząc pakietu pamięci podręcznych w `%UserProfile%\.nuget\packages\` i `%LocalAppData%\Nuget\v3-cache`, Przywracanie projektu i potwierdzenie, czy został poprzedniego wdrożenia w systemie całkowicie usunięty przed ponownym wdrażaniem aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-326">You can fix most of these issues by deleting the `bin` and `obj` folders in the project, clearing package caches at `%UserProfile%\.nuget\packages\` and `%LocalAppData%\Nuget\v3-cache`, restoring the project, and confirming that your prior deployment on the system has been completely deleted prior to re-deploying the app.</span></span>

> [!TIP]
> <span data-ttu-id="d3a6d-327">Jest to wygodny sposób czyszczenia pamięci podręcznych pakietu uzyskanie *NuGet.exe* narzędzia z [NuGet.org](https://www.nuget.org/), dodaj go do systemu ścieżki i wykonaj `nuget locals all -clear` z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-327">A convenient way to clear package caches is to obtain the *NuGet.exe* tool from [NuGet.org](https://www.nuget.org/), add it to your system PATH, and execute `nuget locals all -clear` from a command prompt.</span></span> <span data-ttu-id="d3a6d-328">Można również wykonywać `dotnet nuget locals all --clear` polecenie w wierszu polecenia bez uzyskania *NuGet.exe*.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-328">You can also execute the `dotnet nuget locals all --clear` command from a command prompt without obtaining *NuGet.exe*.</span></span>

## <a name="common-errors"></a><span data-ttu-id="d3a6d-329">Typowe błędy</span><span class="sxs-lookup"><span data-stu-id="d3a6d-329">Common errors</span></span>

<span data-ttu-id="d3a6d-330">Następujące nie znajduje się pełna lista błędów.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-330">The following isn't a complete list of errors.</span></span> <span data-ttu-id="d3a6d-331">Należy w przypadku wystąpienia błędu niewymienione w tym miejscu, pozostaw szczegółowy komunikat o błędzie w poniższej sekcji komentarzy.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-331">Should you encounter an error not listed here, please leave a detailed error message in the comments section below.</span></span>

### <a name="installer-unable-to-obtain-vc-redistributable"></a><span data-ttu-id="d3a6d-332">Nie można uzyskać VC ++ pakiet redystrybucyjny Instalatora</span><span class="sxs-lookup"><span data-stu-id="d3a6d-332">Installer unable to obtain VC++ Redistributable</span></span>

* <span data-ttu-id="d3a6d-333">**Instalator wyjątek:** 0x80072efd lub 0x80072f76 — nieokreślony błąd</span><span class="sxs-lookup"><span data-stu-id="d3a6d-333">**Installer Exception:** 0x80072efd or 0x80072f76 - Unspecified error</span></span>

* <span data-ttu-id="d3a6d-334">**Wyjątek dziennika Instalatora &#8224;:** błąd 0x80072efd lub 0x80072f76: nie można wykonać EXE pakietu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-334">**Installer Log Exception&#8224;:** Error 0x80072efd or 0x80072f76: Failed to execute EXE package</span></span>

  <span data-ttu-id="d3a6d-335">&#8224; Dziennik znajduje się pod adresem C:\Users\\{USER}\AppData\Local\Temp\dd_DotNetCoreWinSvrHosting__{timestamp}.log.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-335">&#8224;The log is located at C:\Users\\{USER}\AppData\Local\Temp\dd_DotNetCoreWinSvrHosting__{timestamp}.log.</span></span>

<span data-ttu-id="d3a6d-336">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-336">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-337">Jeśli system nie ma dostępu do Internetu, podczas instalowania serwera obsługującego pakietu, ten wyjątek występuje, gdy Instalator będzie mógł uzyskiwania *Microsoft Visual C++ 2015 Redistributable*.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-337">If the system doesn't have Internet access while installing the server hosting bundle, this exception occurs when the installer is prevented from obtaining the *Microsoft Visual C++ 2015 Redistributable*.</span></span> <span data-ttu-id="d3a6d-338">Może uzyskać Instalatora z [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53840).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-338">You may obtain an installer from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53840).</span></span> <span data-ttu-id="d3a6d-339">Jeśli Instalator zakończy się niepowodzeniem, nie może zostać wyświetlony środowiska uruchomieniowego .NET Core wymaganego do obsługi wdrożenia framework zależne (stacje).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-339">If the installer fails, you may not receive the .NET Core runtime required to host a framework-dependent deployment (FDD).</span></span> <span data-ttu-id="d3a6d-340">Jeśli planujesz hostowanie Dyskietki, upewnij się, że środowisko wykonawcze jest instalowana w programach &amp; funkcji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-340">If you plan to host an FDD, confirm that the runtime is installed in Programs &amp; Features.</span></span> <span data-ttu-id="d3a6d-341">Można uzyskać Instalator środowiska uruchomieniowego, z [pobiera .NET](https://www.microsoft.com/net/download/core).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-341">You may obtain a runtime installer from [.NET Downloads](https://www.microsoft.com/net/download/core).</span></span> <span data-ttu-id="d3a6d-342">Po zainstalowaniu środowiska uruchomieniowego, ponownie uruchom system, lub ponownego uruchomienia usług IIS, wykonując **net stop została /y** następuje **net start w3svc** z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-342">After installing the runtime, restart the system or restart IIS by executing **net stop was /y** followed by **net start w3svc** from a command prompt.</span></span>

### <a name="os-upgrade-removed-the-32-bit-aspnet-core-module"></a><span data-ttu-id="d3a6d-343">Uaktualnienie systemu operacyjnego usunąć moduł 32-bitowej platformy ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="d3a6d-343">OS upgrade removed the 32-bit ASP.NET Core Module</span></span>

* <span data-ttu-id="d3a6d-344">**Dziennik aplikacji:** modułu DLL **C:\WINDOWS\system32\inetsrv\aspnetcore.dll** nie można załadować.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-344">**Application Log:** The Module DLL **C:\WINDOWS\system32\inetsrv\aspnetcore.dll** failed to load.</span></span> <span data-ttu-id="d3a6d-345">Dane to kod błędu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-345">The data is the error.</span></span>

<span data-ttu-id="d3a6d-346">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-346">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-347">Pliki systemu operacyjnego bez **C:\Windows\SysWOW64\inetsrv** katalogu nie są zachowywane podczas OS uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-347">Non-OS files in the **C:\Windows\SysWOW64\inetsrv** directory aren't preserved during an OS upgrade.</span></span> <span data-ttu-id="d3a6d-348">Jeśli program ASP.NET Core moduł został zainstalowany przed uaktualnieniem systemu operacyjnego, a następnie spróbuj uruchomić wszystkie puli aplikacji w trybie 32-bitowym po uaktualnieniu systemu operacyjnego, wystąpi ten problem.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-348">If you have the ASP.NET Core Module installed prior to an OS upgrade and then try to run any AppPool in 32-bit mode after an OS upgrade, you encounter this issue.</span></span> <span data-ttu-id="d3a6d-349">Po uaktualnieniu systemu operacyjnego Napraw moduł platformy ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-349">After an OS upgrade, repair the ASP.NET Core Module.</span></span> <span data-ttu-id="d3a6d-350">Zobacz [instalacji pakietu .NET Core systemu Windows serwer obsługujący](#install-the-net-core-windows-server-hosting-bundle).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-350">See [Install the .NET Core Windows Server Hosting bundle](#install-the-net-core-windows-server-hosting-bundle).</span></span> <span data-ttu-id="d3a6d-351">Wybierz **naprawy** po uruchomieniu Instalatora.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-351">Select **Repair** when you run the installer.</span></span>

### <a name="platform-conflicts-with-rid"></a><span data-ttu-id="d3a6d-352">Platforma w konflikcie z identyfikatorów RID</span><span class="sxs-lookup"><span data-stu-id="d3a6d-352">Platform conflicts with RID</span></span>

* <span data-ttu-id="d3a6d-353">**Przeglądarki:** błąd HTTP 502.5 — błąd procesu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-353">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="d3a6d-354">**Dziennik aplikacji:** "MACHINE/WEBROOT/APPHOST/moja_aplikacja" z fizyczny katalog główny aplikacji "C:\{ścieżki}\' nie można uruchomić procesu z wiersza polecenia" "C:\\\my_application {PATH}. { exe | dll} "", kod błędu = "0x80004005: ff.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-354">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\{PATH}\' failed to start process with commandline '"C:\\{PATH}\my_application.{exe|dll}" ', ErrorCode = '0x80004005 : ff.</span></span>

* <span data-ttu-id="d3a6d-355">**Dziennik modułu platformy ASP.NET Core:** nieobsługiwany wyjątek: System.BadImageFormatException: nie można załadować pliku lub zestawu "my_application.dll".</span><span class="sxs-lookup"><span data-stu-id="d3a6d-355">**ASP.NET Core Module Log:** Unhandled Exception: System.BadImageFormatException: Could not load file or assembly 'my_application.dll'.</span></span> <span data-ttu-id="d3a6d-356">Próbowano załadować program w niepoprawnym formacie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-356">An attempt was made to load a program with an incorrect format.</span></span>

<span data-ttu-id="d3a6d-357">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-357">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-358">Upewnij się, że aplikacja działa lokalnie na Kestrel.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-358">Confirm that the application runs locally on Kestrel.</span></span> <span data-ttu-id="d3a6d-359">Błąd procesu może być wynikiem problemu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-359">A process failure might be the result of a problem within the application.</span></span> <span data-ttu-id="d3a6d-360">Aby uzyskać więcej informacji, zobacz [porady dotyczące rozwiązywania problemów](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-360">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

* <span data-ttu-id="d3a6d-361">Upewnij się, że nie zostały ustawione `<PlatformTarget>` w Twojej *.csproj* który powoduje konflikt z RID.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-361">Confirm that you didn't set a `<PlatformTarget>` in your *.csproj* that conflicts with the RID.</span></span> <span data-ttu-id="d3a6d-362">Na przykład określić nie `<PlatformTarget>` z `x86` i publikowanie za pomocą RID `win10-x64`, przy użyciu *dotnet publikowania - c - r wersji win10-x64* lub przez ustawienie `<RuntimeIdentifiers>` w Twojej *.csproj*  do `win10-x64`.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-362">For example, don't specify a `<PlatformTarget>` of `x86` and publish with an RID of `win10-x64`, either by using *dotnet publish -c Release -r win10-x64* or by setting the `<RuntimeIdentifiers>` in your *.csproj* to `win10-x64`.</span></span> <span data-ttu-id="d3a6d-363">Projekt publikuje bez ostrzeżenia lub błędu, ale kończy się niepowodzeniem z powyższych wyjątki zarejestrowane w systemie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-363">The project publishes without warning or error but fails with the above logged exceptions on the system.</span></span>

* <span data-ttu-id="d3a6d-364">Jeśli ten wyjątek występuje wdrożenia aplikacji Azure, podczas uaktualniania aplikacji i wdrożenie nowszej zestawy, ręcznie usuń wszystkie pliki z poprzedniego wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-364">If this exception occurs for an Azure Apps deployment when upgrading an application and deploying newer assemblies, manually delete all files from the prior deployment.</span></span> <span data-ttu-id="d3a6d-365">Pokutujące niezgodne zestawy może spowodować `System.BadImageFormatException` wyjątków w przypadku wdrażania uaktualnionego aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-365">Lingering incompatible assemblies can result in a `System.BadImageFormatException` exception when deploying an upgraded app.</span></span>

### <a name="uri-endpoint-wrong-or-stopped-website"></a><span data-ttu-id="d3a6d-366">Identyfikator URI punktu końcowego nieprawidłowe lub zatrzymania witryny sieci Web</span><span class="sxs-lookup"><span data-stu-id="d3a6d-366">URI endpoint wrong or stopped website</span></span>

* <span data-ttu-id="d3a6d-367">**Przeglądarki:** ERR_CONNECTION_REFUSED</span><span class="sxs-lookup"><span data-stu-id="d3a6d-367">**Browser:** ERR_CONNECTION_REFUSED</span></span>

* <span data-ttu-id="d3a6d-368">**Dziennik aplikacji:** wpisu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-368">**Application Log:** No entry</span></span>

* <span data-ttu-id="d3a6d-369">**Dziennik modułu platformy ASP.NET Core:** nie utworzono pliku dziennika</span><span class="sxs-lookup"><span data-stu-id="d3a6d-369">**ASP.NET Core Module Log:** Log file not created</span></span>

<span data-ttu-id="d3a6d-370">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-370">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-371">Upewnij się, że używasz właściwego identyfikatora URI punktu końcowego dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-371">Confirm you are using the correct URI endpoint for the application.</span></span> <span data-ttu-id="d3a6d-372">Sprawdź powiązania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-372">Check your bindings.</span></span>

* <span data-ttu-id="d3a6d-373">Upewnij się, że witryna sieci Web usług IIS nie jest w *zatrzymane* stanu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-373">Confirm that the IIS website is not in the *Stopped* state.</span></span>

### <a name="corewebengine-or-w3svc-server-features-disabled"></a><span data-ttu-id="d3a6d-374">Serwer CoreWebEngine lub W3SVC funkcje wyłączone</span><span class="sxs-lookup"><span data-stu-id="d3a6d-374">CoreWebEngine or W3SVC server features disabled</span></span>

* <span data-ttu-id="d3a6d-375">**Wyjątek systemu operacyjnego:** funkcje usług IIS 7.0 CoreWebEngine i W3SVC musi być zainstalowany, aby użyć modułu programu ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-375">**OS Exception:** The IIS 7.0 CoreWebEngine and W3SVC features must be installed to use the ASP.NET Core Module.</span></span>

<span data-ttu-id="d3a6d-376">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-376">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-377">Upewnij się, że włączono odpowiednie role i funkcje.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-377">Confirm that you have enabled the proper role and features.</span></span> <span data-ttu-id="d3a6d-378">Zobacz [konfiguracji usług IIS](#iis-configuration).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-378">See [IIS Configuration](#iis-configuration).</span></span>

### <a name="incorrect-website-physical-path-or-application-missing"></a><span data-ttu-id="d3a6d-379">Ścieżka fizyczna witryny sieci Web nieprawidłowe lub brakujące aplikacji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-379">Incorrect website physical path or application missing</span></span>

* <span data-ttu-id="d3a6d-380">**Przeglądarki:** 403 Zabroniony — odmowa dostępu **--lub--** zabroniony 403.14 — serwer sieci Web jest skonfigurowana do nie listy zawartości tego katalogu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-380">**Browser:** 403 Forbidden - Access is denied **--OR--** 403.14 Forbidden - The Web server is configured to not list the contents of this directory.</span></span>

* <span data-ttu-id="d3a6d-381">**Dziennik aplikacji:** wpisu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-381">**Application Log:** No entry</span></span>

* <span data-ttu-id="d3a6d-382">**Dziennik modułu platformy ASP.NET Core:** nie utworzono pliku dziennika</span><span class="sxs-lookup"><span data-stu-id="d3a6d-382">**ASP.NET Core Module Log:** Log file not created</span></span>

<span data-ttu-id="d3a6d-383">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-383">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-384">Witrynie sieci Web usług IIS **podstawowych ustawień** i folder aplikacji fizycznych.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-384">Check the IIS website **Basic Settings** and the physical application folder.</span></span> <span data-ttu-id="d3a6d-385">Upewnij się, że aplikacja jest w folderze w witrynie sieci Web usług IIS **ścieżka fizyczna**.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-385">Confirm that the application is in the folder at the IIS website **Physical path**.</span></span>

### <a name="incorrect-role-module-not-installed-or-incorrect-permissions"></a><span data-ttu-id="d3a6d-386">Niepoprawne roli, nie jest zainstalowany moduł lub nieprawidłowe uprawnienia</span><span class="sxs-lookup"><span data-stu-id="d3a6d-386">Incorrect role, module not installed, or incorrect permissions</span></span>

* <span data-ttu-id="d3a6d-387">**Przeglądarki:** 500.19 wewnętrzny błąd serwera — nie można uzyskać dostępu do żądanej strony, ponieważ jej odpowiednie dane konfiguracyjne dla strony jest nieprawidłowy.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-387">**Browser:** 500.19 Internal Server Error - The requested page cannot be accessed because the related configuration data for the page is invalid.</span></span>

* <span data-ttu-id="d3a6d-388">**Dziennik aplikacji:** wpisu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-388">**Application Log:** No entry</span></span>

* <span data-ttu-id="d3a6d-389">**Dziennik modułu platformy ASP.NET Core:** nie utworzono pliku dziennika</span><span class="sxs-lookup"><span data-stu-id="d3a6d-389">**ASP.NET Core Module Log:** Log file not created</span></span>

<span data-ttu-id="d3a6d-390">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-390">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-391">Upewnij się, czy włączono właściwej roli.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-391">Confirm that you've enabled the proper role.</span></span> <span data-ttu-id="d3a6d-392">Zobacz [konfiguracji usług IIS](#iis-configuration).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-392">See [IIS Configuration](#iis-configuration).</span></span>

* <span data-ttu-id="d3a6d-393">Sprawdź **programy &amp; funkcje** i upewnij się, że **modułu programu Microsoft ASP.NET Core** został zainstalowany.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-393">Check **Programs &amp; Features** and confirm that the **Microsoft ASP.NET Core Module** has been installed.</span></span> <span data-ttu-id="d3a6d-394">Jeśli **modułu programu Microsoft ASP.NET Core** nie występuje na liście zainstalowanych programów, instalowania modułu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-394">If the **Microsoft ASP.NET Core Module** isn't present in the list of installed programs, install the module.</span></span> <span data-ttu-id="d3a6d-395">Zobacz [instalacji pakietu .NET Core systemu Windows serwer obsługujący](#install-the-net-core-windows-server-hosting-bundle).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-395">See [Install the .NET Core Windows Server Hosting bundle](#install-the-net-core-windows-server-hosting-bundle).</span></span>

* <span data-ttu-id="d3a6d-396">Upewnij się, że **puli aplikacji** > **Model procesu** > **tożsamości** ustawiono **puli** lub z tożsamości niestandardowej ma odpowiednie uprawnienia dostępu do folderu wdrożenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-396">Make sure that the **Application Pool** > **Process Model** > **Identity** is set to **ApplicationPoolIdentity** or your custom identity has the correct permissions to access the app's deployment folder.</span></span>

### <a name="incorrect-processpath-missing-path-variable-hosting-bundle-not-installed-systemiis-not-restarted-vc-redistributable-not-installed-or-dotnetexe-access-violation"></a><span data-ttu-id="d3a6d-397">Niepoprawne processPath, Brak zmiennej PATH, pakiet hostingu nie jest zainstalowany, system/IIS ponowne uruchomienie nie, VC ++ Redistributable nie jest zainstalowany lub dotnet.exe naruszenie zasad dostępu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-397">Incorrect processPath, missing PATH variable, hosting bundle not installed, system/IIS not restarted, VC++ Redistributable not installed, or dotnet.exe access violation</span></span>

* <span data-ttu-id="d3a6d-398">**Przeglądarki:** błąd HTTP 502.5 — błąd procesu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-398">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="d3a6d-399">**Dziennik aplikacji:** "MACHINE/WEBROOT/APPHOST/moja_aplikacja" z fizyczny katalog główny aplikacji "C:\\{PATH}\' nie można uruchomić procesu z wiersza polecenia"".\my_application.exe" ", kod błędu =" 0x80070002: 0.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-399">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' failed to start process with commandline '".\my_application.exe" ', ErrorCode = '0x80070002 : 0.</span></span>

* <span data-ttu-id="d3a6d-400">**Dziennik modułu platformy ASP.NET Core:** utworzony plik dziennika, ale pusty</span><span class="sxs-lookup"><span data-stu-id="d3a6d-400">**ASP.NET Core Module Log:** Log file created but empty</span></span>

<span data-ttu-id="d3a6d-401">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-401">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-402">Upewnij się, że aplikacja działa lokalnie na Kestrel.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-402">Confirm that the application runs locally on Kestrel.</span></span> <span data-ttu-id="d3a6d-403">Błąd procesu może być wynikiem problemu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-403">A process failure might be the result of a problem within the application.</span></span> <span data-ttu-id="d3a6d-404">Aby uzyskać więcej informacji, zobacz [porady dotyczące rozwiązywania problemów](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-404">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

* <span data-ttu-id="d3a6d-405">Sprawdź *processPath* atrybutu `<aspNetCore>` element *web.config* aby upewnić się, że jest *dotnet* wdrożenia framework zależne (stacje) lub *.\my_application.exe* niezależne wdrożenia (SCD).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-405">Check the *processPath* attribute on the `<aspNetCore>` element in *web.config* to confirm that it's *dotnet* for a framework-dependent deployment (FDD) or *.\my_application.exe* for a self-contained deployment (SCD).</span></span>

* <span data-ttu-id="d3a6d-406">Dla Dyskietki *dotnet.exe* może nie być dostępny za pośrednictwem ustawienia ścieżki.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-406">For an FDD, *dotnet.exe* might not be accessible via the PATH settings.</span></span> <span data-ttu-id="d3a6d-407">Upewnij się, że * C:\Program Files\dotnet\* istnieje w ŚCIEŻCE systemowej ustawienia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-407">Confirm that *C:\Program Files\dotnet\* exists in the System PATH settings.</span></span>

* <span data-ttu-id="d3a6d-408">Dla Dyskietki *dotnet.exe* mogą nie być dostępne dla tożsamości puli aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-408">For an FDD, *dotnet.exe* might not be accessible for the user identity of the Application Pool.</span></span> <span data-ttu-id="d3a6d-409">Upewnij się, że tożsamość puli aplikacji ma dostęp do *C:\Program Files\dotnet* katalogu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-409">Confirm that the AppPool user identity has access to the *C:\Program Files\dotnet* directory.</span></span> <span data-ttu-id="d3a6d-410">Upewnij się, że nie istnieją żadne reguły odmowy skonfigurowane dla tożsamości użytkownika puli aplikacji na *C:\Program Files\dotnet* i katalogów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-410">Confirm that there are no deny rules configured for the AppPool user identity on the *C:\Program Files\dotnet* and application directories.</span></span>

* <span data-ttu-id="d3a6d-411">Może wdrożeniu Dyskietki i zainstalowane oprogramowanie .NET Core bez ponownego uruchamiania usług IIS.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-411">You may have deployed an FDD and installed .NET Core without restarting IIS.</span></span> <span data-ttu-id="d3a6d-412">Uruchom ponownie serwer lub ponownego uruchomienia usług IIS, wykonując **net stop została /y** następuje **net start w3svc** z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-412">Either restart the server or restart IIS by executing **net stop was /y** followed by **net start w3svc** from a command prompt.</span></span>

* <span data-ttu-id="d3a6d-413">Które mogły zostać wdrożone Dyskietki bez instalowania środowiska uruchomieniowego .NET Core przez system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-413">You may have deployed an FDD without installing the .NET Core runtime on the hosting system.</span></span> <span data-ttu-id="d3a6d-414">Jeśli próbujesz wdrożyć Dyskietki, a nie zainstalowano środowiska wykonawczego platformy .NET Core, uruchom **.NET Core systemu Windows serwer obsługujący Instalatora pakietu** w systemie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-414">If you're attempting to deploy a FDD and haven't installed the .NET Core runtime, run the **.NET Core Windows Server Hosting bundle installer** on the system.</span></span> <span data-ttu-id="d3a6d-415">Zobacz [instalacji pakietu .NET Core systemu Windows serwer obsługujący](#install-the-net-core-windows-server-hosting-bundle).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-415">See [Install the .NET Core Windows Server Hosting bundle](#install-the-net-core-windows-server-hosting-bundle).</span></span> <span data-ttu-id="d3a6d-416">Jeśli użytkownik próbuje zainstalować środowisko uruchomieniowe .NET Core w systemie bez połączenia z Internetem, uzyskać środowiska uruchomieniowego z [pobiera .NET](https://www.microsoft.com/net/download/core) i uruchom Instalatora pakietu hostingu, aby zainstalować moduł platformy ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-416">If you're attempting to install the .NET Core runtime on a system without an Internet connection, obtain the runtime from [.NET Downloads](https://www.microsoft.com/net/download/core) and run the hosting bundle installer to install the ASP.NET Core Module.</span></span> <span data-ttu-id="d3a6d-417">Ukończenie instalacji przez ponowne uruchomienie systemu lub ponowne uruchomienie usług IIS, wykonując **net stop została /y** następuje **net start w3svc** z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-417">Complete the installation by restarting the system or restarting IIS by executing **net stop was /y** followed by **net start w3svc** from a command prompt.</span></span>

* <span data-ttu-id="d3a6d-418">Może wdrożeniu Dyskietki i zainstalowane oprogramowanie .NET Core bez ponownego uruchamiania systemu/usług IIS.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-418">You may have deployed an FDD and installed .NET Core without restarting the system/IIS.</span></span> <span data-ttu-id="d3a6d-419">Uruchom ponownie system lub ponownego uruchomienia usług IIS, wykonując **net stop została /y** następuje **net start w3svc** z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-419">Either restart the system or restart IIS by executing **net stop was /y** followed by **net start w3svc** from a command prompt.</span></span>

* <span data-ttu-id="d3a6d-420">Wdrożono Dyskietki i *Microsoft Visual C++ 2015 Redistributable (x64)* nie jest zainstalowany w systemie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-420">You may have deployed an FDD and the *Microsoft Visual C++ 2015 Redistributable (x64)* is not installed on the system.</span></span> <span data-ttu-id="d3a6d-421">Może uzyskać Instalatora z [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53840).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-421">You may obtain an installer from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53840).</span></span>

### <a name="incorrect-arguments-of-aspnetcore-element"></a><span data-ttu-id="d3a6d-422">Nieprawidłowe argumenty \<aspNetCore\> — element</span><span class="sxs-lookup"><span data-stu-id="d3a6d-422">Incorrect arguments of \<aspNetCore\> element</span></span>

* <span data-ttu-id="d3a6d-423">**Przeglądarki:** błąd HTTP 502.5 — błąd procesu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-423">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="d3a6d-424">**Dziennik aplikacji:** "MACHINE/WEBROOT/APPHOST/moja_aplikacja" z fizyczny katalog główny aplikacji "C:\\{PATH}\' nie można uruchomić procesu z wiersza polecenia"dotnet".\my_application.dll, kod błędu =" 0x80004005: 80008081.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-424">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' failed to start process with commandline '"dotnet" .\my_application.dll', ErrorCode = '0x80004005 : 80008081.</span></span>

* <span data-ttu-id="d3a6d-425">**Dziennik modułu platformy ASP.NET Core:** wykonywanie aplikacji nie istnieje: "PATH\my_application.dll"</span><span class="sxs-lookup"><span data-stu-id="d3a6d-425">**ASP.NET Core Module Log:** The application to execute does not exist: 'PATH\my_application.dll'</span></span>

<span data-ttu-id="d3a6d-426">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-426">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-427">Upewnij się, że aplikacja działa lokalnie na Kestrel.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-427">Confirm that the application runs locally on Kestrel.</span></span> <span data-ttu-id="d3a6d-428">Błąd procesu może być wynikiem problemu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-428">A process failure might be the result of a problem within the application.</span></span> <span data-ttu-id="d3a6d-429">Aby uzyskać więcej informacji, zobacz [porady dotyczące rozwiązywania problemów](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-429">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

* <span data-ttu-id="d3a6d-430">Sprawdź *argumentów* atrybutu `<aspNetCore>` element *web.config* aby upewnić się, że jest ona () *.\my_application.dll* dla framework zależne wdrożenia (stacje); lub brak pustego ciągu (b) (*argumenty = ""*), lub listę argumentów aplikacji (*argumenty = "arg1, arg2..."*) niezależne wdrożenia (SCD).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-430">Examine the *arguments* attribute on the `<aspNetCore>` element in *web.config* to confirm that it is either (a) *.\my_application.dll* for a framework-dependent deployment (FDD); or (b) not present, an empty string (*arguments=""*), or a list of your app's arguments (*arguments="arg1, arg2, ..."*) for a self-contained deployment (SCD).</span></span>

### <a name="missing-net-framework-version"></a><span data-ttu-id="d3a6d-431">Brak wersji .NET Framework</span><span class="sxs-lookup"><span data-stu-id="d3a6d-431">Missing .NET Framework version</span></span>

* <span data-ttu-id="d3a6d-432">**Przeglądarki:** 502.3 Zła brama — wystąpił błąd połączenia podczas próby trasy żądania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-432">**Browser:** 502.3 Bad Gateway - There was a connection error while trying to route the request.</span></span>

* <span data-ttu-id="d3a6d-433">**Dziennik aplikacji:** ErrorCode = z fizyczny katalog główny aplikacji "MACHINE/WEBROOT/APPHOST/moja_aplikacja" "C:\\{PATH}\' nie można uruchomić procesu z wiersza polecenia"dotnet".\my_application.dll, kod błędu =" 0x80004005: 80008081.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-433">**Application Log:** ErrorCode = Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' failed to start process with commandline '"dotnet" .\my_application.dll', ErrorCode = '0x80004005 : 80008081.</span></span>

* <span data-ttu-id="d3a6d-434">**Dziennik modułu platformy ASP.NET Core:** Brak metody, pliku lub zestawu wyjątku.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-434">**ASP.NET Core Module Log:** Missing method, file, or assembly exception.</span></span> <span data-ttu-id="d3a6d-435">Metoda, pliku lub zestawu określonego w wyjątek jest metoda, pliku lub zestawu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-435">The method, file, or assembly specified in the exception is a .NET Framework method, file, or assembly.</span></span>

<span data-ttu-id="d3a6d-436">Rozwiązywanie problemów:</span><span class="sxs-lookup"><span data-stu-id="d3a6d-436">Troubleshooting:</span></span>

* <span data-ttu-id="d3a6d-437">Zainstaluj wersję .NET Framework w systemie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-437">Install the .NET Framework version missing from the system.</span></span>

* <span data-ttu-id="d3a6d-438">W przypadku wdrożenia framework zależne (stacje) upewnij się, czy masz poprawne środowiska uruchomieniowego zainstalowane w systemie.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-438">For a framework-dependent deployment (FDD), confirm that you have the correct runtime installed on the system.</span></span> <span data-ttu-id="d3a6d-439">Po uaktualnieniu projektu z 1.1 2.0, wdrożyć system obsługujący i odbierać tego wyjątku, upewnij się, że 2.0 framework jest instalowany przez system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-439">If you upgrade a project from 1.1 to 2.0, deploy to the hosting system, and receive this exception, ensure you install the 2.0 framework on the hosting system.</span></span>

### <a name="stopped-application-pool"></a><span data-ttu-id="d3a6d-440">Zatrzymanej puli aplikacji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-440">Stopped Application Pool</span></span>

* <span data-ttu-id="d3a6d-441">**Przeglądarki:** 503 Usługa jest niedostępna</span><span class="sxs-lookup"><span data-stu-id="d3a6d-441">**Browser:** 503 Service Unavailable</span></span>

* <span data-ttu-id="d3a6d-442">**Dziennik aplikacji:** wpisu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-442">**Application Log:** No entry</span></span>

* <span data-ttu-id="d3a6d-443">**Dziennik modułu platformy ASP.NET Core:** nie utworzono pliku dziennika</span><span class="sxs-lookup"><span data-stu-id="d3a6d-443">**ASP.NET Core Module Log:** Log file not created</span></span>

<span data-ttu-id="d3a6d-444">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="d3a6d-444">Troubleshooting</span></span>

* <span data-ttu-id="d3a6d-445">Upewnij się, że pula aplikacji nie znajduje się w *zatrzymane* stanu.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-445">Confirm that the Application Pool is not in the *Stopped* state.</span></span>

### <a name="iis-integration-middleware-not-implemented"></a><span data-ttu-id="d3a6d-446">Oprogramowanie pośredniczące integracji usług IIS nie jest zaimplementowana</span><span class="sxs-lookup"><span data-stu-id="d3a6d-446">IIS Integration middleware not implemented</span></span>

* <span data-ttu-id="d3a6d-447">**Przeglądarki:** błąd HTTP 502.5 — błąd procesu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-447">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="d3a6d-448">**Dziennik aplikacji:** "MACHINE/WEBROOT/APPHOST/moja_aplikacja" z fizyczny katalog główny aplikacji "C:\\{PATH}\' utworzyć procesu z wiersza polecenia" "C:\\\my_application {PATH}. { exe | dll} "" ale awaria lub odpowiedzi nie albo Nasłuchuj na danego portu "{PORT}", kod błędu = "0x800705b4"</span><span class="sxs-lookup"><span data-stu-id="d3a6d-448">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' created process with commandline '"C:\\{PATH}\my_application.{exe|dll}" ' but either crashed or did not reponse or did not listen on the given port '{PORT}', ErrorCode = '0x800705b4'</span></span>

* <span data-ttu-id="d3a6d-449">**Dziennik modułu platformy ASP.NET Core:** plik dziennika utworzony i przedstawia normalnego działania.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-449">**ASP.NET Core Module Log:** Log file created and shows normal operation.</span></span>

<span data-ttu-id="d3a6d-450">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="d3a6d-450">Troubleshooting</span></span>

* <span data-ttu-id="d3a6d-451">Upewnij się, że aplikacja działa lokalnie na Kestrel.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-451">Confirm that the app runs locally on Kestrel.</span></span> <span data-ttu-id="d3a6d-452">Błąd procesu może być wynikiem problemu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-452">A process failure might be the result of a problem within the app.</span></span> <span data-ttu-id="d3a6d-453">Aby uzyskać więcej informacji, zobacz [porady dotyczące rozwiązywania problemów](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-453">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

* <span data-ttu-id="d3a6d-454">Potwierdzenia zostały prawidłowo przywoływany oprogramowanie pośredniczące integracji usług IIS przez wywołanie metody *. UseIISIntegration()* metody dla aplikacji *WebHostBuilder()* (platformy ASP.NET Core 1.x) lub użyć `CreateDefaultBuilder` — metoda (platformy ASP.NET Core 2.x).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-454">Confirm that you've correctly referenced the IIS Integration middleware by calling the *.UseIISIntegration()* method on the application's *WebHostBuilder()* (ASP.NET Core 1.x) or used the `CreateDefaultBuilder` method (ASP.NET Core 2.x).</span></span> <span data-ttu-id="d3a6d-455">Zobacz [Hosting w ASP.NET Core](xref:fundamentals/hosting) szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-455">See [Hosting in ASP.NET Core](xref:fundamentals/hosting) for details.</span></span>

### <a name="sub-application-includes-a-handlers-section"></a><span data-ttu-id="d3a6d-456">Podrzędne aplikacja zawiera \<obsługi\> sekcji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-456">Sub-application includes a \<handlers\> section</span></span>

* <span data-ttu-id="d3a6d-457">**Przeglądarki:** błąd HTTP 500.19 — wewnętrzny błąd serwera</span><span class="sxs-lookup"><span data-stu-id="d3a6d-457">**Browser:** HTTP Error 500.19 - Internal Server Error</span></span>

* <span data-ttu-id="d3a6d-458">**Dziennik aplikacji:** wpisu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-458">**Application Log:** No entry</span></span>

* <span data-ttu-id="d3a6d-459">**Dziennik modułu platformy ASP.NET Core:** plik dziennika utworzony i przedstawia normalnego działania głównego aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-459">**ASP.NET Core Module Log:** Log file created and shows normal operation for the root application.</span></span> <span data-ttu-id="d3a6d-460">Plik dziennika nie został utworzony dla podrzędnej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-460">Log file not created for the sub-application.</span></span>

<span data-ttu-id="d3a6d-461">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="d3a6d-461">Troubleshooting</span></span>

* <span data-ttu-id="d3a6d-462">Upewnij się, że aplikacja sub *web.config* nie zawiera pliku `<handlers>` sekcji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-462">Confirm that the sub-app's *web.config* file doesn't include a `<handlers>` section.</span></span>

### <a name="application-configuration-general-issue"></a><span data-ttu-id="d3a6d-463">Ogólne problem z konfiguracją aplikacji</span><span class="sxs-lookup"><span data-stu-id="d3a6d-463">Application configuration general issue</span></span>

* <span data-ttu-id="d3a6d-464">**Przeglądarki:** błąd HTTP 502.5 — błąd procesu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-464">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="d3a6d-465">**Dziennik aplikacji:** "MACHINE/WEBROOT/APPHOST/moja_aplikacja" z fizyczny katalog główny aplikacji "C:\\{PATH}\' utworzyć procesu z wiersza polecenia" "C:\\\my_application {PATH}. { exe | dll} "" ale awaria lub odpowiedzi nie albo Nasłuchuj na danego portu "{PORT}", kod błędu = "0x800705b4"</span><span class="sxs-lookup"><span data-stu-id="d3a6d-465">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' created process with commandline '"C:\\{PATH}\my_application.{exe|dll}" ' but either crashed or did not reponse or did not listen on the given port '{PORT}', ErrorCode = '0x800705b4'</span></span>

* <span data-ttu-id="d3a6d-466">**Dziennik modułu platformy ASP.NET Core:** utworzony plik dziennika, ale pusty</span><span class="sxs-lookup"><span data-stu-id="d3a6d-466">**ASP.NET Core Module Log:** Log file created but empty</span></span>

<span data-ttu-id="d3a6d-467">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="d3a6d-467">Troubleshooting</span></span>

* <span data-ttu-id="d3a6d-468">Ten wyjątek ogólny wskazuje, że proces nie mógł uruchomić, prawdopodobnie z powodu problemów konfiguracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-468">This general exception indicates that the process failed to start, most likely due to an application configuration issue.</span></span> <span data-ttu-id="d3a6d-469">Odwołanie do [struktury katalogów](xref:hosting/directory-structure), upewnij się, że aplikacji wdrożonych pliki i foldery są odpowiednie, a istnieją pliki konfiguracji aplikacji i zawiera poprawne ustawienia aplikacji i środowiska.</span><span class="sxs-lookup"><span data-stu-id="d3a6d-469">Referring to [Directory Structure](xref:hosting/directory-structure), confirm that your app's deployed files and folders are appropriate and that your app's configuration files are present and contain the correct settings for your app and environment.</span></span> <span data-ttu-id="d3a6d-470">Aby uzyskać więcej informacji, zobacz [porady dotyczące rozwiązywania problemów](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="d3a6d-470">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

## <a name="resources"></a><span data-ttu-id="d3a6d-471">Resources</span><span class="sxs-lookup"><span data-stu-id="d3a6d-471">Resources</span></span>

* [<span data-ttu-id="d3a6d-472">Wprowadzenie do platformy ASP.NET Core modułu</span><span class="sxs-lookup"><span data-stu-id="d3a6d-472">Introduction to ASP.NET Core Module</span></span>](xref:fundamentals/servers/aspnet-core-module)
* [<span data-ttu-id="d3a6d-473">Konfiguracja modułu Core programu ASP.NET</span><span class="sxs-lookup"><span data-stu-id="d3a6d-473">ASP.NET Core Module configuration reference</span></span>](xref:hosting/aspnet-core-module)
* [<span data-ttu-id="d3a6d-474">Używanie modułów usług IIS z platformy ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="d3a6d-474">Using IIS Modules with ASP.NET Core</span></span>](xref:hosting/iis-modules)
* [<span data-ttu-id="d3a6d-475">Wprowadzenie do platformy ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="d3a6d-475">Introduction to ASP.NET Core</span></span>](../index.md)
* [<span data-ttu-id="d3a6d-476">Witryna oficjalnego Microsoft IIS</span><span class="sxs-lookup"><span data-stu-id="d3a6d-476">The Official Microsoft IIS Site</span></span>](https://www.iis.net/)
* [<span data-ttu-id="d3a6d-477">Bibliotece Microsoft TechNet: Serwer systemu Windows</span><span class="sxs-lookup"><span data-stu-id="d3a6d-477">Microsoft TechNet Library: Windows Server</span></span>](https://docs.microsoft.com/windows-server/windows-server-versions)
