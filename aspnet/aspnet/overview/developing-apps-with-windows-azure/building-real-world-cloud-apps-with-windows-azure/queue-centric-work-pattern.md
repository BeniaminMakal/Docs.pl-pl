---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern
title: Wzorzec skoncentrowane kolejki pracy (kompilowanie praktyczne aplikacje w chmurze platformy Azure) | Dokumentacja firmy Microsoft
author: MikeWasson
description: "Kompilowanie rzeczywistych World aplikacje w chmurze z Azure Książka elektroniczna jest oparta na prezentacji opracowane przez Scott Guthrie. Wyjaśniono 13 wzorców i rozwiązań, które może on..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/12/2014
ms.topic: article
ms.assetid: cc1ad51b-40c3-4c68-8620-9aaa0fd1f6cf
ms.technology: 
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern
msc.type: authoredcontent
ms.openlocfilehash: 125d555a9e170ef35dd99e0409a2442d5f9ae34a
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/10/2017
---
<a name="queue-centric-work-pattern-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="05f8e-104">Wzorzec skoncentrowane kolejki pracy (kompilowanie praktyczne aplikacje w chmurze platformy Azure)</span><span class="sxs-lookup"><span data-stu-id="05f8e-104">Queue-Centric Work Pattern (Building Real-World Cloud Apps with Azure)</span></span>
====================
<span data-ttu-id="05f8e-105">przez [Wasson Jan](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Dykstra niestandardowy](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="05f8e-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="05f8e-106">[Pobieranie napraw projektu](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) lub [Pobierz książkę E](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="05f8e-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="05f8e-107">**Tworzenia rzeczywistych aplikacji w chmurze platformy Azure** Książka elektroniczna opiera się na prezentacji opracowane przez Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="05f8e-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="05f8e-108">Wyjaśniono 13 wzorców i wskazówki, które mogą pomóc Ci się pomyślnie, tworzenie aplikacji sieci web dla chmury.</span><span class="sxs-lookup"><span data-stu-id="05f8e-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="05f8e-109">Informacje o Książka elektroniczna, zobacz [pierwszy rozdział](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="05f8e-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="05f8e-110">Wcześniej widzieliśmy, że przy użyciu wielu usług może spowodować SLA "złożonego", gdzie jest skuteczne SLA aplikacji *produktu* z poszczególnych umów SLA.</span><span class="sxs-lookup"><span data-stu-id="05f8e-110">Earlier, we saw that using multiple services can result in a "composite" SLA, where the app's effective SLA is the *product* of the individual SLAs.</span></span> <span data-ttu-id="05f8e-111">Na przykład aplikacja napraw korzysta z witryny sieci Web, magazynu i bazy danych SQL.</span><span class="sxs-lookup"><span data-stu-id="05f8e-111">For example, the Fix It app uses Web Sites, Storage, and SQL Database.</span></span> <span data-ttu-id="05f8e-112">W przypadku niepowodzenia któregokolwiek z tych usług aplikacji spowoduje zwrócenie błędu dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="05f8e-112">If any one of these services fails, the app will return an error to the user.</span></span>

<span data-ttu-id="05f8e-113">Buforowanie jest sposób obsługi błędów przejściowych dla zawartości tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="05f8e-113">Caching is a good way to handle transient failures for read-only content.</span></span> <span data-ttu-id="05f8e-114">Ale co zrobić, jeśli aplikacja wymaga do pracy?</span><span class="sxs-lookup"><span data-stu-id="05f8e-114">But what if your application needs to do work?</span></span> <span data-ttu-id="05f8e-115">Na przykład gdy użytkownik przesyła nowego poprawka zadania, aplikacji nie można po prostu umieścić zadania w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="05f8e-115">For example, when the user submits a new Fix It task, the app can't just put the task into the cache.</span></span> <span data-ttu-id="05f8e-116">Aplikacja musi zapisać zadań Usuń do magazynu danych, więc mogą być przetwarzane.</span><span class="sxs-lookup"><span data-stu-id="05f8e-116">The app needs to write the Fix It task into a persistent data store, so it can be processed.</span></span>

<span data-ttu-id="05f8e-117">To, gdzie wzorzec skoncentrowane kolejki pracy składa się z.</span><span class="sxs-lookup"><span data-stu-id="05f8e-117">That's where the queue-centric work pattern comes in.</span></span> <span data-ttu-id="05f8e-118">Ten wzorzec umożliwia luźne powiązanie między warstwą sieci web i usługi wewnętrznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-118">This pattern enables loose coupling between a web tier and a backend service.</span></span>

<span data-ttu-id="05f8e-119">Oto, jak działa wzorzec.</span><span class="sxs-lookup"><span data-stu-id="05f8e-119">Here's how the pattern works.</span></span> <span data-ttu-id="05f8e-120">Gdy aplikacja pobiera żądanie, umieszcza elementu roboczego do kolejki i natychmiast zwraca odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="05f8e-120">When the application gets a request, it puts a work item onto a queue and immediately returns the response.</span></span> <span data-ttu-id="05f8e-121">Następnie proces zaplecza oddzielne ściąga elementy robocze z kolejki i wykonuje pracę.</span><span class="sxs-lookup"><span data-stu-id="05f8e-121">Then a separate backend process pulls work items from the queue and does the work.</span></span>

<span data-ttu-id="05f8e-122">Wzorzec skoncentrowane kolejki pracy jest przydatne w przypadku:</span><span class="sxs-lookup"><span data-stu-id="05f8e-122">The queue-centric work pattern is useful for:</span></span>

- <span data-ttu-id="05f8e-123">Praca jest czasochłonne (duże opóźnienie).</span><span class="sxs-lookup"><span data-stu-id="05f8e-123">Work that is time consuming (high latency).</span></span>
- <span data-ttu-id="05f8e-124">Praca wymaga zewnętrznej usługi, które mogą być niedostępne.</span><span class="sxs-lookup"><span data-stu-id="05f8e-124">Work that requires an external service that might not always be available.</span></span>
- <span data-ttu-id="05f8e-125">Działa to znaczy obciążający zasoby (wysoka Procesora).</span><span class="sxs-lookup"><span data-stu-id="05f8e-125">Work that is resource-intensive (high CPU).</span></span>
- <span data-ttu-id="05f8e-126">Praca będzie korzystać z szybkość bilansowanie (może ulec seria nagłym obciążenia).</span><span class="sxs-lookup"><span data-stu-id="05f8e-126">Work that would benefit from rate leveling (subject to sudden load bursts).</span></span>

## <a name="reduced-latency"></a><span data-ttu-id="05f8e-127">Mniejsze opóźnienia</span><span class="sxs-lookup"><span data-stu-id="05f8e-127">Reduced Latency</span></span>

<span data-ttu-id="05f8e-128">Kolejki są przydatne robią czasochłonne za każdym razem.</span><span class="sxs-lookup"><span data-stu-id="05f8e-128">Queues are useful any time you are doing time-consuming work.</span></span> <span data-ttu-id="05f8e-129">Jeśli zadanie zajmuje kilka sekund lub już, zamiast blokuje użytkownikowi końcowemu, umieść elementu roboczego do kolejki.</span><span class="sxs-lookup"><span data-stu-id="05f8e-129">If a task takes a few seconds or longer, instead of blocking the end user, put the work item into a queue.</span></span> <span data-ttu-id="05f8e-130">Poinformuj użytkownika "Pracujemy nad jego", a następnie użyj odbiornika kolejki przetwarzania zadania w tle.</span><span class="sxs-lookup"><span data-stu-id="05f8e-130">Tell the user "We're working on it," and then use a queue listener to process the task in the background.</span></span>

<span data-ttu-id="05f8e-131">Na przykład gdy podczas zakupów w sklepie internetowym, witryna sieci web potwierdza natychmiast zamówienia.</span><span class="sxs-lookup"><span data-stu-id="05f8e-131">For example, when you purchase something at an online retailer, the web site confirms your order immediately.</span></span> <span data-ttu-id="05f8e-132">Ale nie oznacza to, iż Twoje pliki jest już ciężarówka dostarczona.</span><span class="sxs-lookup"><span data-stu-id="05f8e-132">But that doesn't mean your stuff is already in a truck being delivered.</span></span> <span data-ttu-id="05f8e-133">One umieszczone w kolejce zadania, a w tle są podczas sprawdzania zdolności kredytowej przygotowywanie elementów do wysyłki i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="05f8e-133">They put a task in a queue, and in the background they are doing the credit check, preparing your items for shipping, and so forth.</span></span>

<span data-ttu-id="05f8e-134">W scenariuszach z krótkim czasem oczekiwania może być dłużej przy użyciu kolejki, w porównaniu z synchronicznie wykonanie zadania całkowity czas na trasie.</span><span class="sxs-lookup"><span data-stu-id="05f8e-134">For scenarios with short latency, the total end-to-end time might be longer using a queue, compared with doing the task synchronously.</span></span> <span data-ttu-id="05f8e-135">Ale nawet wówczas, inne korzyści mogą być większe niż wadą tego.</span><span class="sxs-lookup"><span data-stu-id="05f8e-135">But even then, the other benefits can outweigh that disadvantage.</span></span>

## <a name="increased-reliability"></a><span data-ttu-id="05f8e-136">Zwiększenie niezawodności</span><span class="sxs-lookup"><span data-stu-id="05f8e-136">Increased Reliability</span></span>

<span data-ttu-id="05f8e-137">W wersji napraw go, że firma Microsoft już został patrzeć wykonanej do tej pory frontonu sieci web jest ściśle powiązana z zaplecza bazy danych SQL.</span><span class="sxs-lookup"><span data-stu-id="05f8e-137">In the version of Fix It that we've been looking at so far, the web front-end is tightly coupled with the SQL Database back-end.</span></span> <span data-ttu-id="05f8e-138">Jeśli usługa bazy danych SQL jest niedostępny, wówczas użytkownik otrzymuje wystąpił błąd.</span><span class="sxs-lookup"><span data-stu-id="05f8e-138">If the SQL database service is unavailable, the user gets an error.</span></span> <span data-ttu-id="05f8e-139">Jeśli nie działają ponownych prób (błędu jest więcej niż przejściowy), jedyną operacją można wykonać, jest wyświetlany błąd, a następnie poprosić użytkownika o. Spróbuj ponownie później.</span><span class="sxs-lookup"><span data-stu-id="05f8e-139">If retries don't work (that is, the failure is more than transient), the only thing you can do is show an error and ask the user to try again later.</span></span>

![Diagram przedstawiający frontonu sieci web kończą się niepowodzeniem, jeśli wewnętrznej bazy danych SQL nie powiodło się](queue-centric-work-pattern/_static/image1.png)

<span data-ttu-id="05f8e-141">Korzystanie z kolejek, gdy użytkownik prześle zadanie napraw go, aplikacja zapisuje komunikat do kolejki.</span><span class="sxs-lookup"><span data-stu-id="05f8e-141">Using queues, when a user submits a Fix It task, the app writes a message to the queue.</span></span> <span data-ttu-id="05f8e-142">Ładunek komunikatu jest [JSON](http://json.org/) reprezentację zadania.</span><span class="sxs-lookup"><span data-stu-id="05f8e-142">The message payload is a [JSON](http://json.org/) representation of the task.</span></span> <span data-ttu-id="05f8e-143">Jak jest zapisywany komunikat do kolejki, aplikacja zwraca i natychmiast zawiera komunikat z potwierdzeniem dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="05f8e-143">As soon as the message is written to the queue, the app returns and immediately shows a success message to the user.</span></span>

<span data-ttu-id="05f8e-144">Jeśli którakolwiek z nich wewnętrznej bazy danych — na przykład baza danych SQL lub odbiornika kolejki — przejście do trybu offline, użytkownicy mogą nadal przesyłać nowe poprawka zadania.</span><span class="sxs-lookup"><span data-stu-id="05f8e-144">If any of the backend services – such as the SQL database or the queue listener -- go offline, users can still submit new Fix It tasks.</span></span> <span data-ttu-id="05f8e-145">Komunikaty po prostu zostanie kolejki, dopóki ponownie usługi wewnętrznej bazy danych są dostępne.</span><span class="sxs-lookup"><span data-stu-id="05f8e-145">The messages will just queue up until the backend services are available again.</span></span> <span data-ttu-id="05f8e-146">W tym momencie usługi wewnętrznej bazy danych będzie przechwytywać na liście prac.</span><span class="sxs-lookup"><span data-stu-id="05f8e-146">At that point, the backend services will catch up on the backlog.</span></span>

![Diagram przedstawiający sieci web frontonu kontynuowanie działania podczas błąd bazy danych SQL](queue-centric-work-pattern/_static/image2.png)

<span data-ttu-id="05f8e-148">Ponadto teraz możesz dodać więcej logiki zaplecza bez obaw o odporności frontonu.</span><span class="sxs-lookup"><span data-stu-id="05f8e-148">Moreover, now you can add more backend logic without worrying about the resiliency of the front end.</span></span> <span data-ttu-id="05f8e-149">Na przykład można wysłać wiadomości e-mail lub wiadomości SMS do właściciela zawsze, gdy jest przypisany nowy napraw go.</span><span class="sxs-lookup"><span data-stu-id="05f8e-149">For example, you might want to send an email or SMS message to the owner whenever a new Fix It is assigned.</span></span> <span data-ttu-id="05f8e-150">Jeśli adres e-mail lub usługa programu SMS jest niedostępny, należy przetworzyć wszystkie inne, a następnie umieść komunikat do oddzielnych kolejki przy wysyłaniu wiadomości e-mail/SMS.</span><span class="sxs-lookup"><span data-stu-id="05f8e-150">If the email or SMS service becomes unavailable, you can process everything else, and then put a message into a separate queue for sending email/SMS messages.</span></span>

<span data-ttu-id="05f8e-151">Wcześniej, naszych skuteczne umowy dotyczącej poziomu usług został aplikacje sieci Web &times; magazynu &times; SQL Database = 99.7%.</span><span class="sxs-lookup"><span data-stu-id="05f8e-151">Previously, our effective SLA was Web Apps &times; Storage &times; SQL Database = 99.7%.</span></span> <span data-ttu-id="05f8e-152">(Zobacz [projektu po awarii](design-to-survive-failures.md).)</span><span class="sxs-lookup"><span data-stu-id="05f8e-152">(See [Design to Survive Failures](design-to-survive-failures.md).)</span></span>

<span data-ttu-id="05f8e-153">Zmianach aplikacji korzystanie z kolejki, tylko w aplikacji sieci Web i magazynu, zależy od frontonu sieci web dla złożone SLA 99.8%.</span><span class="sxs-lookup"><span data-stu-id="05f8e-153">When we change the app to use a queue, the web front end depends only on Web Apps and Storage, for a composite SLA of 99.8%.</span></span> <span data-ttu-id="05f8e-154">(Pamiętaj, że kolejek jest należącej do usługi Magazyn Azure, tak że znajdują się w tej samej SLA jako magazynu obiektów blob).</span><span class="sxs-lookup"><span data-stu-id="05f8e-154">(Note that queues are part of the Azure storage service, so they are included in the same SLA as blob storage.)</span></span>

<span data-ttu-id="05f8e-155">Należy jeszcze lepiej niż 99.8% można utworzyć dwie kolejki w dwóch różnych regionach.</span><span class="sxs-lookup"><span data-stu-id="05f8e-155">If you need even better than 99.8%, you can create two queues in two different regions.</span></span> <span data-ttu-id="05f8e-156">Wyznaczyć jako podstawowy, a drugi jako pomocniczy.</span><span class="sxs-lookup"><span data-stu-id="05f8e-156">Designate one as the primary, and the other as the secondary.</span></span> <span data-ttu-id="05f8e-157">W aplikacji przełączyć kolejki dodatkowej Jeśli podstawowy kolejka jest niedostępna.</span><span class="sxs-lookup"><span data-stu-id="05f8e-157">In your app, fail over to the secondary queue if the primary queue is not available.</span></span> <span data-ttu-id="05f8e-158">Ryzyko jest niedostępna w tym samym czasie jest bardzo mała.</span><span class="sxs-lookup"><span data-stu-id="05f8e-158">The chance of both being unavailable at the same time is very small.</span></span>

## <a name="rate-leveling-and-independent-scaling"></a><span data-ttu-id="05f8e-159">Wyrównywanie szybkość i niezależne skalowanie</span><span class="sxs-lookup"><span data-stu-id="05f8e-159">Rate Leveling and Independent Scaling</span></span>

<span data-ttu-id="05f8e-160">Kolejki są również przydatne w przypadku coś o nazwie *szybkości bilansowanie* lub *wyrównywanie obciążenia*.</span><span class="sxs-lookup"><span data-stu-id="05f8e-160">Queues are also useful for something called *rate leveling* or *load leveling*.</span></span>

<span data-ttu-id="05f8e-161">Aplikacje sieci Web często są podatne na gwałtowny seria w ruchu.</span><span class="sxs-lookup"><span data-stu-id="05f8e-161">Web apps are often susceptible to sudden bursts in traffic.</span></span> <span data-ttu-id="05f8e-162">Za pomocą Skalowanie automatyczne automatycznie dodać serwery sieci web do obsługi ruchu w sieci web zwiększona, skalowanie automatyczne może nie móc wystarczająco szybko reagować na obsługi niespodziewane największego obciążenia.</span><span class="sxs-lookup"><span data-stu-id="05f8e-162">While you can use autoscaling to automatically add web servers to handle increased web traffic, autoscaling might not be able to react quickly enough to handle abrupt spikes in load.</span></span> <span data-ttu-id="05f8e-163">Jeśli na serwerach sieci web można odciążyć niektóre czynności, które mają zrobić przez napisanie wiadomości do kolejki, ich obsługi więcej ruchu.</span><span class="sxs-lookup"><span data-stu-id="05f8e-163">If the web servers can offload some of the work they have to do by writing a message to a queue, they can handle more traffic.</span></span> <span data-ttu-id="05f8e-164">Usługi wewnętrznej bazy danych można odczytywać wiadomości z kolejki i ich przetworzenia.</span><span class="sxs-lookup"><span data-stu-id="05f8e-164">A backend service can then read messages from the queue and process them.</span></span> <span data-ttu-id="05f8e-165">Głębokość kolejki będą zwiększać i zmniejszać jako zależności od zmian obciążenia przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="05f8e-165">The depth of the queue will grow or shrink as the incoming load varies.</span></span>

<span data-ttu-id="05f8e-166">Z wielu jego czasochłonne rozładowany do usługi zaplecza warstwa sieci web można łatwiej odpowiedzieć nagłym największego ruchu.</span><span class="sxs-lookup"><span data-stu-id="05f8e-166">With much of its time-consuming work off-loaded to a backend service, the web tier can more easily respond to sudden spikes in traffic.</span></span> <span data-ttu-id="05f8e-167">I Zapisz pieniądze, ponieważ wszystkie danego ilość ruchu sieciowego są obsługiwane przez mniejszej liczby serwerów sieci web.</span><span class="sxs-lookup"><span data-stu-id="05f8e-167">And you save money because any given amount of traffic can be handled by fewer web servers.</span></span>

<span data-ttu-id="05f8e-168">Niezależnie można skalować warstwa sieci web i usługi wewnętrznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-168">You can scale the web tier and backend service independently.</span></span> <span data-ttu-id="05f8e-169">Na przykład może być konieczne trzech serwerów sieci web, ale tylko jeden serwer przetwarzania kolejki wiadomości.</span><span class="sxs-lookup"><span data-stu-id="05f8e-169">For example, you might need three web servers but only one server processing queue messages.</span></span> <span data-ttu-id="05f8e-170">Lub jeśli korzystasz z zadań obliczeniowych w tle, mogą wymagać więcej serwerów wewnętrznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-170">Or if you're running a compute-intensive task in the background, you might need more backend servers.</span></span>

![](queue-centric-work-pattern/_static/image3.png)

<span data-ttu-id="05f8e-171">Skalowanie automatyczne działa z usługami zaplecza, a także z warstwą sieci web.</span><span class="sxs-lookup"><span data-stu-id="05f8e-171">Autoscaling works with backend services as well as with the web tier.</span></span> <span data-ttu-id="05f8e-172">Można skalowanie w górę lub w dół liczbę maszyn wirtualnych, które są przetwarzania zadań w kolejce, na podstawie użycia procesora CPU zaplecza maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-172">You can scale up or scale down the number of VMs that are processing the tasks in the queue, based on the CPU usage of the backend VMs.</span></span> <span data-ttu-id="05f8e-173">Można też automatycznego skalowania w oparciu o liczbę elementów znajdują się w kolejce.</span><span class="sxs-lookup"><span data-stu-id="05f8e-173">Or, you can autoscale based on how many items are in a queue.</span></span> <span data-ttu-id="05f8e-174">Na przykład można podać skalowania automatycznego, aby spróbować Zachowaj nie więcej niż 10 elementów w kolejce.</span><span class="sxs-lookup"><span data-stu-id="05f8e-174">For example, you can tell autoscale to try to keep no more than 10 items in the queue.</span></span> <span data-ttu-id="05f8e-175">Jeśli kolejka ma więcej niż 10 elementów, skalowania automatycznego doda maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-175">If the queue has more than 10 items, autoscale will add VMs.</span></span> <span data-ttu-id="05f8e-176">Po ich nadążyć, skalowania automatycznego spowoduje zerwanie dodatkowych maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-176">When they catch up, autoscale will tear down the extra VMs.</span></span>

## <a name="adding-queues-to-the-fix-it-application"></a><span data-ttu-id="05f8e-177">Dodawanie do poprawki umieszcza je w kolejce aplikacji</span><span class="sxs-lookup"><span data-stu-id="05f8e-177">Adding Queues to the Fix It Application</span></span>

<span data-ttu-id="05f8e-178">Aby zaimplementować wzorzec kolejki, musimy upewnić dwie zmiany do aplikacji rozwiązać.</span><span class="sxs-lookup"><span data-stu-id="05f8e-178">To implement the queue pattern, we need to make two changes to the Fix It app.</span></span>

- <span data-ttu-id="05f8e-179">Gdy użytkownik prześle nowego poprawka zadania, należy umieścić zadania w kolejce, zamiast zapisywanie w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-179">When a user submits a new Fix It task, put the task in the queue, instead of writing it to the database.</span></span>
- <span data-ttu-id="05f8e-180">Tworzenie usługi zaplecza, który przetwarza wiadomości w kolejce.</span><span class="sxs-lookup"><span data-stu-id="05f8e-180">Create a back-end service that processes messages in the queue.</span></span>

<span data-ttu-id="05f8e-181">Kolejki, użyjemy [usługi magazynu kolejek Azure](https://www.windowsazure.com/en-us/develop/net/how-to-guides/queue-service/).</span><span class="sxs-lookup"><span data-stu-id="05f8e-181">For the queue, we'll use the [Azure Queue Storage Service](https://www.windowsazure.com/en-us/develop/net/how-to-guides/queue-service/).</span></span> <span data-ttu-id="05f8e-182">Inną opcją jest użycie [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="05f8e-182">Another option is to use [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/).</span></span>

<span data-ttu-id="05f8e-183">Podjęcie decyzji, które usługi kolejki, do korzystania, należy wziąć pod uwagę sposób Twoja aplikacja powinna do wysyłania i odbierania wiadomości w kolejce:</span><span class="sxs-lookup"><span data-stu-id="05f8e-183">To decide which queue service to use, consider how your app needs to send and receive the messages in the queue:</span></span>

- <span data-ttu-id="05f8e-184">Jeśli masz producentów współpracujących i konkurencyjnych konsumentów, należy rozważyć użycie usługi magazynu kolejek Azure.</span><span class="sxs-lookup"><span data-stu-id="05f8e-184">If you have cooperating producers and competing consumers, consider using Azure Queue Storage Service.</span></span> <span data-ttu-id="05f8e-185">"Współpracujących producentów" oznacza, że wiele procesów dodawania wiadomości do kolejki.</span><span class="sxs-lookup"><span data-stu-id="05f8e-185">"Cooperating producers" means multiple processes are adding messages to a queue.</span></span> <span data-ttu-id="05f8e-186">"Konkurujących konsumentów" oznacza wiele procesów są ściąganie kolejki komunikatów do ich przetworzenia, ale dowolny komunikat o danym mogą być przetwarzane tylko przez jednego "użytkownika".</span><span class="sxs-lookup"><span data-stu-id="05f8e-186">"Competing consumers" means multiple processes are pulling messages off the queue to process them, but any given message can only be processed by one "consumer."</span></span> <span data-ttu-id="05f8e-187">Jeśli potrzebujesz więcej przepustowości, nie można uzyskać z pojedynczej kolejki, użyj dodatkowe kolejki i/lub dodatkowych kont magazynu.</span><span class="sxs-lookup"><span data-stu-id="05f8e-187">If you need more throughput than you can get with a single queue, use additional queues and/or additional storage accounts.</span></span>
- <span data-ttu-id="05f8e-188">Jeśli potrzebujesz [publikowania/subskrypcji modelu](http://en.wikipedia.org/wiki/Publish/subscribe), rozważ użycie kolejek usługi Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="05f8e-188">If you need a [publish/subscribe model](http://en.wikipedia.org/wiki/Publish/subscribe), consider using Azure Service Bus Queues.</span></span>

<span data-ttu-id="05f8e-189">Aplikacji Usuń pasujące do producentów współpracujących i konkurencyjnych konsumentów modelu.</span><span class="sxs-lookup"><span data-stu-id="05f8e-189">The Fix It app fits the cooperating producers and competing consumers model.</span></span>

<span data-ttu-id="05f8e-190">Kolejnym zagadnieniem są dostępności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="05f8e-190">Another consideration is application availability.</span></span> <span data-ttu-id="05f8e-191">Usługa kolejki magazynu jest częścią tej samej usługi, która używamy dla magazynu obiektów blob, używa go nie ma wpływu na naszych umowy SLA.</span><span class="sxs-lookup"><span data-stu-id="05f8e-191">The Queue Storage Service is part of the same service that we're using for blob storage, so using it has no effect on our SLA.</span></span> <span data-ttu-id="05f8e-192">Usługa Azure Service Bus jest oddzielny usługi za pomocą własne umowy SLA.</span><span class="sxs-lookup"><span data-stu-id="05f8e-192">Azure Service Bus is a separate service with its own SLA.</span></span> <span data-ttu-id="05f8e-193">Użycie kolejek usługi Service Bus, mamy składników dodatkowe wartość procentowa umów SLA, a naszych złożonego SLA będzie niższa.</span><span class="sxs-lookup"><span data-stu-id="05f8e-193">If we used Service Bus Queues, we would have to factor in an additional SLA percentage, and our composite SLA would be lower.</span></span> <span data-ttu-id="05f8e-194">Wybierając usługi kolejki, upewnij się, że zrozumienie wpływu wybraną na dostępność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="05f8e-194">When you're choosing a queue service, make sure you understand the impact of your choice on application availability.</span></span> <span data-ttu-id="05f8e-195">Aby uzyskać więcej informacji, zobacz [zasobów](#resources) sekcji.</span><span class="sxs-lookup"><span data-stu-id="05f8e-195">For more information, see the [Resources](#resources) section.</span></span>

## <a name="creating-queue-messages"></a><span data-ttu-id="05f8e-196">Tworzenie wiadomości w kolejce</span><span class="sxs-lookup"><span data-stu-id="05f8e-196">Creating Queue Messages</span></span>

<span data-ttu-id="05f8e-197">Aby umieścić poprawka zadań w kolejce, frontonu sieci web wykonuje następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="05f8e-197">To put a Fix It task on the queue, the web front end performs the following steps:</span></span>

1. <span data-ttu-id="05f8e-198">Utwórz [CloudQueueClient](https://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.queue.cloudqueueclient.aspx) wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="05f8e-198">Create a [CloudQueueClient](https://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.queue.cloudqueueclient.aspx) instance.</span></span> <span data-ttu-id="05f8e-199">`CloudQueueClient` Wystąpienia służy do wykonywania żądania do usługi kolejki.</span><span class="sxs-lookup"><span data-stu-id="05f8e-199">The `CloudQueueClient` instance is used to execute requests against the Queue Service.</span></span>
2. <span data-ttu-id="05f8e-200">Utwórz kolejkę, jeśli go jeszcze nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="05f8e-200">Create the queue, if it doesn't exist yet.</span></span>
3. <span data-ttu-id="05f8e-201">Serializować zadań rozwiązać.</span><span class="sxs-lookup"><span data-stu-id="05f8e-201">Serialize the Fix It task.</span></span>
4. <span data-ttu-id="05f8e-202">Wywołanie [CloudQueue.AddMessageAsync](https://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.queue.cloudqueue.addmessageasync.aspx) umieścić wiadomości do kolejki.</span><span class="sxs-lookup"><span data-stu-id="05f8e-202">Call [CloudQueue.AddMessageAsync](https://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.queue.cloudqueue.addmessageasync.aspx) to put the message onto the queue.</span></span>

<span data-ttu-id="05f8e-203">Robimy tej pracy w Konstruktorze i `SendMessageAsync` nową metodę `FixItQueueManager` klasy.</span><span class="sxs-lookup"><span data-stu-id="05f8e-203">We'll do this work in the constructor and `SendMessageAsync` method of a new `FixItQueueManager` class.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample1.cs?highlight=11-12,16,18-25)]

<span data-ttu-id="05f8e-204">W tym miejscu używamy [Json.NET](https://github.com/JamesNK/Newtonsoft.Json) biblioteki do serializacji automatyczne do formatu JSON.</span><span class="sxs-lookup"><span data-stu-id="05f8e-204">Here we are using the [Json.NET](https://github.com/JamesNK/Newtonsoft.Json) library to serialize the fixit to JSON format.</span></span> <span data-ttu-id="05f8e-205">Można użyć dowolnej metody serializacji preferowane.</span><span class="sxs-lookup"><span data-stu-id="05f8e-205">You can use whatever serialization approach you prefer.</span></span> <span data-ttu-id="05f8e-206">Format JSON ma prowadzoną zrozumiałą dla użytkownika, przy jednoczesnym zachowaniu mniej szczegółowe niż XML.</span><span class="sxs-lookup"><span data-stu-id="05f8e-206">JSON has the advantage of being human-readable, while being less verbose than XML.</span></span>

<span data-ttu-id="05f8e-207">Wysokiej jakości kodu czy dodać logikę obsługi błędów, zatrzymać, gdy baza danych stała się niedostępna ulepszono możliwości obsługi odzyskiwania, Utwórz kolejkę przy uruchamianiu aplikacji i zarządzanie "[skażone" wiadomości](https://msdn.microsoft.com/en-us/library/ms789028(v=vs.110).aspx).</span><span class="sxs-lookup"><span data-stu-id="05f8e-207">Production-quality code would add error handling logic, pause if the database became unavailable, handle recovery more cleanly, create the queue on application start-up, and manage "[poison" messages](https://msdn.microsoft.com/en-us/library/ms789028(v=vs.110).aspx).</span></span> <span data-ttu-id="05f8e-208">(Trująca wiadomość jest komunikatu, którego nie można przetworzyć jakiegoś powodu.</span><span class="sxs-lookup"><span data-stu-id="05f8e-208">(A poison message is a message that cannot be processed for some reason.</span></span> <span data-ttu-id="05f8e-209">Nie chcesz skażone wiadomości do znajdują się w kolejce, gdzie roli procesu roboczego stale spróbuje ich przetwarzania, się nie powieść, spróbuj ponownie, zakończyć się niepowodzeniem i itd.)</span><span class="sxs-lookup"><span data-stu-id="05f8e-209">You don't want poison messages to sit in the queue, where the worker role will continually try to process them, fail, try again, fail, and so on.)</span></span>

<span data-ttu-id="05f8e-210">W aplikacji MVC frontonu należy zaktualizować kod, który jest utworzenie nowego zadania.</span><span class="sxs-lookup"><span data-stu-id="05f8e-210">In the front-end MVC application, we need to update the code that creates a new task.</span></span> <span data-ttu-id="05f8e-211">Zamiast wprowadzania zadania do repozytorium, wywołaj `SendMessageAsync` metod przedstawionych powyżej.</span><span class="sxs-lookup"><span data-stu-id="05f8e-211">Instead of putting the task into the repository, call the `SendMessageAsync` method shown above.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample2.cs?highlight=10)]

## <a name="processing-queue-messages"></a><span data-ttu-id="05f8e-212">Przetwarzanie wiadomości w kolejce</span><span class="sxs-lookup"><span data-stu-id="05f8e-212">Processing Queue Messages</span></span>

<span data-ttu-id="05f8e-213">Do przetwarzania komunikatów w kolejce, utworzymy usługi wewnętrznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-213">To process messages in the queue, we'll create a backend service.</span></span> <span data-ttu-id="05f8e-214">Usługi wewnętrznej bazy danych zostanie uruchomiony nieskończoną pętlę, która wykonuje następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="05f8e-214">The backend service will run an infinite loop that performs the following steps:</span></span>

1. <span data-ttu-id="05f8e-215">Pobierz następny komunikat z kolejki.</span><span class="sxs-lookup"><span data-stu-id="05f8e-215">Get the next message from the queue.</span></span>
2. <span data-ttu-id="05f8e-216">Deserializacji komunikatu do zadania napraw go.</span><span class="sxs-lookup"><span data-stu-id="05f8e-216">Deserialize the message to a Fix It task.</span></span>
3. <span data-ttu-id="05f8e-217">Zadanie napraw zapisu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-217">Write the Fix It task to the database.</span></span>

<span data-ttu-id="05f8e-218">Do obsługi usługi zaplecza, utworzymy usługi w chmurze platformy Azure zawierającą *roli procesu roboczego*.</span><span class="sxs-lookup"><span data-stu-id="05f8e-218">To host the backend service, we'll create an Azure Cloud Service that contains a *worker role*.</span></span> <span data-ttu-id="05f8e-219">Rola proces roboczy składa się z przynajmniej jednej maszyny wirtualnej, które można wykonać przetwarzania wewnętrznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-219">A worker role consists of one or more VMs that can do backend processing.</span></span> <span data-ttu-id="05f8e-220">Kod uruchamiany w tych maszyn wirtualnych będzie pobierać wiadomości z kolejki, gdy będą one dostępne.</span><span class="sxs-lookup"><span data-stu-id="05f8e-220">The code that runs in these VMs will pull messages from the queue as they become available.</span></span> <span data-ttu-id="05f8e-221">Dla każdego komunikatu możemy deserializacji ładunek JSON i zapisze wystąpienie jednostki napraw go zadań bazy danych, przy użyciu tego samego repozytorium, które zostały użyte we wcześniejszej części warstwa sieci web.</span><span class="sxs-lookup"><span data-stu-id="05f8e-221">For each message, we'll deserialize the JSON payload and write an instance of the Fix It Task entity to the database, using the same repository that we used earlier in the web tier.</span></span>

<span data-ttu-id="05f8e-222">Poniższe kroki przedstawiają sposób Dodaj pracownika projektu roli do rozwiązania, które zawiera projekt sieci web standard.</span><span class="sxs-lookup"><span data-stu-id="05f8e-222">The following steps show how to add a worker role project to a solution that has a standard web project.</span></span> <span data-ttu-id="05f8e-223">Poprawka projektu, który można pobrać już zostały wykonane następujące kroki.</span><span class="sxs-lookup"><span data-stu-id="05f8e-223">These steps have already been done in the Fix It project that you can download.</span></span>

<span data-ttu-id="05f8e-224">Najpierw należy dodać projektu usługi w chmurze w rozwiązaniu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="05f8e-224">First add a Cloud Service project to the Visual Studio solution.</span></span> <span data-ttu-id="05f8e-225">Kliknij prawym przyciskiem myszy rozwiązanie, a następnie wybierz **Dodaj**, następnie **nowy projekt**.</span><span class="sxs-lookup"><span data-stu-id="05f8e-225">Right-click the solution and select **Add**, then **New Project**.</span></span> <span data-ttu-id="05f8e-226">W okienku po lewej stronie rozwiń **Visual C#** i wybierz **chmury**.</span><span class="sxs-lookup"><span data-stu-id="05f8e-226">In the left pane, expand **Visual C#** and select **Cloud**.</span></span>

[![](queue-centric-work-pattern/_static/image5.png)](queue-centric-work-pattern/_static/image4.png)

<span data-ttu-id="05f8e-227">W **nową usługę w chmurze Azure** okna dialogowego, rozwiń węzeł **Visual C#** węzła w okienku po lewej stronie.</span><span class="sxs-lookup"><span data-stu-id="05f8e-227">In the **New Azure Cloud Service** dialog, expand the **Visual C#** node on the left pane.</span></span> <span data-ttu-id="05f8e-228">Wybierz **roli procesu roboczego** i kliknij ikonę strzałki w prawo.</span><span class="sxs-lookup"><span data-stu-id="05f8e-228">Select **Worker Role** and click the right-arrow icon.</span></span>

![](queue-centric-work-pattern/_static/image6.png)

<span data-ttu-id="05f8e-229">(Zwróć uwagę, że można również dodać *roli sieci web*.</span><span class="sxs-lookup"><span data-stu-id="05f8e-229">(Notice that you can also add a *web role*.</span></span> <span data-ttu-id="05f8e-230">Firma Microsoft może rozwiązać go uruchomić frontonu w tej samej usłudze w chmurze zamiast uruchamiania go w witrynie sieci Web platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="05f8e-230">We could run the Fix It front-end in the same Cloud Service instead of running it in an Azure Web Site.</span></span> <span data-ttu-id="05f8e-231">Niektóre zalety w ułatwiając połączeń między frontonu i zaplecza do koordynowania relacją.</span><span class="sxs-lookup"><span data-stu-id="05f8e-231">That has some advantages in making connections between front-end and back-end easier to coordinate.</span></span> <span data-ttu-id="05f8e-232">Jednak aby zachować ten pokaz proste, firma Microsoft jest utrzymywanie frontonu w aplikacji sieci Web platformy Azure App Service i tylko systemem zaplecza w usłudze w chmurze.)</span><span class="sxs-lookup"><span data-stu-id="05f8e-232">However, to keep this demo simple, we're keeping the front-end in an Azure App Service Web App and only running the back-end in a Cloud Service.)</span></span>

<span data-ttu-id="05f8e-233">Domyślna nazwa jest przypisany do roli procesu roboczego.</span><span class="sxs-lookup"><span data-stu-id="05f8e-233">A default name is assigned to the worker role.</span></span> <span data-ttu-id="05f8e-234">Aby zmienić nazwę, umieść kursor myszy nad roli procesu roboczego w okienku po prawej stronie, a następnie kliknij ikonę ołówka.</span><span class="sxs-lookup"><span data-stu-id="05f8e-234">To change the name, hover the mouse over the worker role in the right pane, then click the pencil icon.</span></span>

![](queue-centric-work-pattern/_static/image7.png)

<span data-ttu-id="05f8e-235">Kliknij przycisk **OK** przeprowadzenie okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="05f8e-235">Click **OK** to complete the dialog.</span></span> <span data-ttu-id="05f8e-236">Spowoduje to dodanie dwa projekty w rozwiązaniu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="05f8e-236">This adds two projects to the Visual Studio solution.</span></span>

- <span data-ttu-id="05f8e-237">Azure projekt, który definiuje usługi w chmurze, w tym informacje o konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="05f8e-237">an Azure project that defines the cloud service, including configuration information.</span></span>
- <span data-ttu-id="05f8e-238">Projekt roli proces roboczy, który definiuje roli procesu roboczego.</span><span class="sxs-lookup"><span data-stu-id="05f8e-238">A worker role project that defines the worker role.</span></span>

![](queue-centric-work-pattern/_static/image8.png)

<span data-ttu-id="05f8e-239">Aby uzyskać więcej informacji, zobacz [Tworzenie projektu platformy Azure z programem Visual Studio.](https://msdn.microsoft.com/en-us/library/windowsazure/ee405487.aspx)</span><span class="sxs-lookup"><span data-stu-id="05f8e-239">For more information, see [Creating an Azure Project with Visual Studio.](https://msdn.microsoft.com/en-us/library/windowsazure/ee405487.aspx)</span></span>

<span data-ttu-id="05f8e-240">W roli procesu roboczego, możemy sondować wiadomości przez wywołanie metody `ProcessMessageAsync` metody `FixItQueueManager` klasy, którą widzieliśmy wcześniej.</span><span class="sxs-lookup"><span data-stu-id="05f8e-240">Inside the worker role, we poll for messages by calling the `ProcessMessageAsync` method of the `FixItQueueManager` class that we saw earlier.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample3.cs?highlight=25)]

<span data-ttu-id="05f8e-241">`ProcessMessagesAsync` Metody umożliwia sprawdzenie, czy istnieje oczekujących komunikatów.</span><span class="sxs-lookup"><span data-stu-id="05f8e-241">The `ProcessMessagesAsync` method checks if there's a message waiting.</span></span> <span data-ttu-id="05f8e-242">Jeśli istnieje, jej deserializuje komunikat do `FixItTask` jednostki i jednostka są zapisywane w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="05f8e-242">If there is one, it deserializes the message into a `FixItTask` entity and saves the entity in the database.</span></span> <span data-ttu-id="05f8e-243">Pętle go, dopóki kolejka jest pusta.</span><span class="sxs-lookup"><span data-stu-id="05f8e-243">It loops until the queue is empty.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample4.cs)]

<span data-ttu-id="05f8e-244">Sondowanie dla wiadomości w kolejce wiąże się z małych transakcji naliczają opłaty, dlatego jeśli nie ma oczekujących na przetworzenie, roli procesu roboczego `RunAsync` metoda oczekuje sekundę przed sondowania ponownie przez wywołanie metody `Task.Delay(1000)`.</span><span class="sxs-lookup"><span data-stu-id="05f8e-244">Polling for queue messages incurs a small transaction charge, so when there's no message waiting to be processed, the worker role's `RunAsync` method waits a second before polling again by calling `Task.Delay(1000)`.</span></span>

<span data-ttu-id="05f8e-245">W projekcie sieci web Dodawanie asynchroniczne kodu może automatycznie poprawić wydajność ponieważ usługi IIS zarządza puli wątków ograniczone.</span><span class="sxs-lookup"><span data-stu-id="05f8e-245">In a web project, adding asynchronous code can automatically improve performance because IIS manages a limited thread pool.</span></span> <span data-ttu-id="05f8e-246">To nie jest w przypadku projektu roli proces roboczy.</span><span class="sxs-lookup"><span data-stu-id="05f8e-246">That is not the case in a worker role project.</span></span> <span data-ttu-id="05f8e-247">W celu poprawy skalowalności roli procesu roboczego, można zapisać wielowątkowych kodu lub użycie asynchronicznego kodu do zaimplementowania [Programowanie równoległe](https://msdn.microsoft.com/en-us/library/ff963553.aspx).</span><span class="sxs-lookup"><span data-stu-id="05f8e-247">To improve scalability of the worker role, you can write multi-threaded code or use asynchronous code to implement [parallel programming](https://msdn.microsoft.com/en-us/library/ff963553.aspx).</span></span> <span data-ttu-id="05f8e-248">Próbki nie implementuje Programowanie równoległe, ale pokazano, jak wprowadzić kod asynchroniczne, można zaimplementować Programowanie równoległe.</span><span class="sxs-lookup"><span data-stu-id="05f8e-248">The sample doesn't implement parallel programming but shows how to make the code asynchronous so you can implement parallel programming.</span></span>

## <a name="summary"></a><span data-ttu-id="05f8e-249">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="05f8e-249">Summary</span></span>

<span data-ttu-id="05f8e-250">W tym rozdziale przedstawiono sposób poprawiania czas odpowiedzi aplikacji, niezawodności i skalowalności dzięki implementacji wzorca pracy skoncentrowane na kolejki.</span><span class="sxs-lookup"><span data-stu-id="05f8e-250">In this chapter you've seen how to improve application responsiveness, reliability, and scalability by implementing the queue-centric work pattern.</span></span>

<span data-ttu-id="05f8e-251">Jest to ostatni 13 wzorce omówione w tym Książka elektroniczna, ale oczywiście istnieje wiele innych wzorcach i rozwiązania, które mogą pomóc Ci tworzenie aplikacji w chmurze powiodło się.</span><span class="sxs-lookup"><span data-stu-id="05f8e-251">This is the last of the 13 patterns covered in this e-book, but there are of course many other patterns and practices that can help you build successful cloud apps.</span></span> <span data-ttu-id="05f8e-252">[Końcowego rozdział](more-patterns-and-guidance.md) zawiera linki do zasobów tematy, które nie zostały omówione w tych wzorców 13.</span><span class="sxs-lookup"><span data-stu-id="05f8e-252">The [final chapter](more-patterns-and-guidance.md) provides links to resources for topics that haven't been covered in these 13 patterns.</span></span>

<a id="resources"></a>
## <a name="resources"></a><span data-ttu-id="05f8e-253">Resources</span><span class="sxs-lookup"><span data-stu-id="05f8e-253">Resources</span></span>

<span data-ttu-id="05f8e-254">Aby uzyskać więcej informacji na temat kolejek zobacz następujące zasoby.</span><span class="sxs-lookup"><span data-stu-id="05f8e-254">For more information about queues, see the following resources.</span></span>

<span data-ttu-id="05f8e-255">Dokumentacja:</span><span class="sxs-lookup"><span data-stu-id="05f8e-255">Documentation:</span></span>

- <span data-ttu-id="05f8e-256">[Microsoft Azure magazynu kolejek część 1: Wprowadzenie](http://justazure.com/microsoft-azure-storage-queues-part-1-getting-started/).</span><span class="sxs-lookup"><span data-stu-id="05f8e-256">[Microsoft Azure Storage Queues Part 1: Getting Started](http://justazure.com/microsoft-azure-storage-queues-part-1-getting-started/).</span></span> <span data-ttu-id="05f8e-257">Artykuł przez Schacherl łaciński.</span><span class="sxs-lookup"><span data-stu-id="05f8e-257">Article by Roman Schacherl.</span></span>
- <span data-ttu-id="05f8e-258">[Wykonywanie zadania w tle](https://msdn.microsoft.com/en-us/library/ff803365.aspx), rozdział 5 [przenoszenie aplikacji w chmurze, w wersji 3](https://msdn.microsoft.com/en-us/library/ff728592.aspx) z Microsoft Patterns and Practices.</span><span class="sxs-lookup"><span data-stu-id="05f8e-258">[Executing Background Tasks](https://msdn.microsoft.com/en-us/library/ff803365.aspx), chapter 5 of [Moving Applications to the Cloud, 3rd Edition](https://msdn.microsoft.com/en-us/library/ff728592.aspx) from Microsoft Patterns and Practices.</span></span> <span data-ttu-id="05f8e-259">(W szczególności sekcji ["Przy użyciu usługi Azure magazynu kolejek"](https://msdn.microsoft.com/en-us/library/ff803365.aspx#sec7).)</span><span class="sxs-lookup"><span data-stu-id="05f8e-259">(In particular, the section ["Using Azure Storage Queues"](https://msdn.microsoft.com/en-us/library/ff803365.aspx#sec7).)</span></span>
- <span data-ttu-id="05f8e-260">[Najlepsze rozwiązania dotyczące maksymalizacja Ekonomiczność na podstawie kolejki komunikatów rozwiązań na platformie Azure i skalowalność](https://msdn.microsoft.com/en-us/library/windowsazure/hh697709.aspx).</span><span class="sxs-lookup"><span data-stu-id="05f8e-260">[Best Practices for Maximizing Scalability and Cost Effectiveness of Queue-Based Messaging Solutions on Azure](https://msdn.microsoft.com/en-us/library/windowsazure/hh697709.aspx).</span></span> <span data-ttu-id="05f8e-261">Oficjalny dokument przez Valery Mizonov.</span><span class="sxs-lookup"><span data-stu-id="05f8e-261">White paper by Valery Mizonov.</span></span>
- <span data-ttu-id="05f8e-262">[Porównanie kolejek platformy Azure i kolejek usługi Service Bus](https://msdn.microsoft.com/en-us/magazine/jj159884.aspx).</span><span class="sxs-lookup"><span data-stu-id="05f8e-262">[Comparing Azure Queues and Service Bus Queues](https://msdn.microsoft.com/en-us/magazine/jj159884.aspx).</span></span> <span data-ttu-id="05f8e-263">Artykuł MSDN Magazine zawiera dodatkowe informacje, które mogą pomóc Ci wybrać usługi kolejki, która umożliwia.</span><span class="sxs-lookup"><span data-stu-id="05f8e-263">MSDN Magazine article, provides additional information that can help you choose which queue service to use.</span></span> <span data-ttu-id="05f8e-264">Artykuł uwagi, że magistrali usług jest zależna od ACS do uwierzytelniania, co oznacza, że z kolejki SB byłyby niedostępne, gdy usługi ACS jest niedostępny.</span><span class="sxs-lookup"><span data-stu-id="05f8e-264">The article mentions that Service Bus is dependent on ACS for authentication, which means your SB queues would be unavailable when ACS is unavailable.</span></span> <span data-ttu-id="05f8e-265">Jednak ponieważ artykuł dotyczy, SB został zmieniony w celu umożliwienia używania [tokeny sygnatury dostępu Współdzielonego](https://msdn.microsoft.com/en-us/library/windowsazure/dn170477.aspx) zamiast ACS.</span><span class="sxs-lookup"><span data-stu-id="05f8e-265">However, since the article was written, SB was changed to enable you to use [SAS tokens](https://msdn.microsoft.com/en-us/library/windowsazure/dn170477.aspx) as an alternative to ACS.</span></span>
- <span data-ttu-id="05f8e-266">[Microsoft Patterns and Practices - Azure wskazówki](https://msdn.microsoft.com/en-us/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="05f8e-266">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/en-us/library/dn568099.aspx).</span></span> <span data-ttu-id="05f8e-267">Zobacz Elementarz asynchroniczną obsługę wiadomości, wzorzec potoków i filtry, wzorzec kompensowanie transakcji, wzorzec konkurujących konsumentów, CQRS wzorca.</span><span class="sxs-lookup"><span data-stu-id="05f8e-267">See Asynchronous Messaging primer, Pipes and Filters pattern, Compensating Transaction pattern, Competing Consumers pattern, CQRS pattern.</span></span>
- <span data-ttu-id="05f8e-268">[Przebieg CQRS](https://msdn.microsoft.com/en-us/library/jj554200).</span><span class="sxs-lookup"><span data-stu-id="05f8e-268">[CQRS Journey](https://msdn.microsoft.com/en-us/library/jj554200).</span></span> <span data-ttu-id="05f8e-269">E-book o CQRS przez Microsoft Patterns and Practices.</span><span class="sxs-lookup"><span data-stu-id="05f8e-269">E-book about CQRS by Microsoft Patterns and Practices.</span></span>

<span data-ttu-id="05f8e-270">Wideo:</span><span class="sxs-lookup"><span data-stu-id="05f8e-270">Video:</span></span>

- <span data-ttu-id="05f8e-271">[Przed uszkodzeniami: Tworzenie usługi w chmurze skalowalności, odporności](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="05f8e-271">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="05f8e-272">Seria filmów dziewięć części Ulrich Homann, Mercuri wytłoków i moduły SIMM znaku.</span><span class="sxs-lookup"><span data-stu-id="05f8e-272">Nine-part video series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="05f8e-273">Przedstawia informacje o szczegółowo pojęcia i architektury zasad w sposób bardzo dostępny i interesujące z wątków z doświadczenia zespół Advisory klienta firmy Microsoft (CAT) z konkretnymi klientami.</span><span class="sxs-lookup"><span data-stu-id="05f8e-273">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="05f8e-274">Aby obejrzeć wprowadzenie do usługi Azure Storage i kolejek Zobacz epizodu 5, zaczynając od 35:13.</span><span class="sxs-lookup"><span data-stu-id="05f8e-274">For an introduction to the Azure Storage service and queues, see episode 5 starting at 35:13.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="05f8e-275">[Poprzednie](distributed-caching.md)
[dalej](more-patterns-and-guidance.md)</span><span class="sxs-lookup"><span data-stu-id="05f8e-275">[Previous](distributed-caching.md)
[Next](more-patterns-and-guidance.md)</span></span>
